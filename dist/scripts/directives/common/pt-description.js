"use strict";define(["app","text!views/directives/common/pt-description.html","services/constants","formatters/common"],function(a,b){a.directive("ptDescription",["Constants","$rootScope","Formatter",function(a,c,d){return{restrict:"A",scope:{description:"=",shortLength:"=?",largeLength:"=?",link:"=?",label:"=?",descModal:"=?",callerid:"=",callertype:"@"},template:b,controller:["$scope","$rootScope",function(b,c){b.moreFlag=!0,b.shortLength||(b.shortLength=a.DESCRIPTION.SHORT_LENGTH),b.$watch("description",function(a,c){a&&(b.description=a?a.trim():"",b.mDescription=d.stripHtml(a).substr(0,b.shortLength),b.$on("CardReduced",function(){b.mDescription=a.substr(0,b.shortLength)}),b.$on("CardExpanded",function(){b.mDescription=a.substr(0,b.largeLength)}))}),b.projectCustomTracking=function(a,b,d,e,f){var g,h={};g="more"+d+"-"+c.CURRENT_ACTIVE_PAGE,h["Link Name"]=f,h["Card Type"]=d+" Card",d="Main"==d?"City":d,h[d+" Id"]=e,h["Page Name"]=c.CURRENT_ACTIVE_PAGE},b.showMore=function(){b.$emit("DescExpand"),b.largeLength&&(b.mDescription=b.description),b.moreFlag=!1,$(".prop-buil-descr-info").addClass("builderDescInfo")},b.showLess=function(){b.mDescription=d.stripHtml(b.description).substr(0,b.shortLength),b.moreFlag=!0,$(".prop-buil-descr-info").removeClass("builderDescInfo"),window.scrollTo(0,0)}}]}}])});