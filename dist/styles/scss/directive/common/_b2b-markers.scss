/*
Desc: CSS Document for B2B Map Markers
Author: Nimit Mangal
Date: 21 April 2014
*/

/** SOME INDIVIDUAL COMPONENTS **/

/* CheckBox Btn */
.check-box-btn {
	padding: 6px 4px 2px;
	background-color: #555;
	border-top: none;
	border-left: none;
	border-right: none;
	border-bottom: solid 4px #555;
	border-top-left-radius: 5px;
	outline: 0;
	text-align: center;
	color: #fff;

	&:hover {
		border-bottom: solid 4px #000;
	};

	&:active {
		background: #222;
		padding: 0px 8px 0px;
		border-top: 4px solid #1c1c1c;
		border-bottom: 4px solid #222;
	};

	&.checked {
		border-bottom: solid 4px #1c1c1c;
	}
}



/********************************
******* Basic B2B Marker ********
********************************/
@mixin mrkr {
	position: relative;
	background: #f39c13;
	border: 1px solid #f7692c;
	@include rounded( $radius:3px);
	padding:0px;
	min-width:12px;
	margin:0 0 0px 0;
	@include box-shadow(#ffffff 0 0px 2px);
	color:#fff;
	cursor: pointer;
	text-align:center;

	&:after, &:before {
		top: 100%;
		border: solid transparent;
		content: " ";
		height: 0;
		width: 0;
		position: absolute;
		pointer-events: none;
	}

	&:after {
		width: 0;
		height: 0;
		border-right: 5px solid transparent;
		border-left: 0px solid transparent;
		border-top: 8px solid #f39c13;
		left: 5px;
	}

	&:before {
		width: 0;
		height: 0;
		border-right: 6px solid transparent;
		border-left: 0px solid transparent;
		border-top: 9px solid #f7692c;
		left: 5px;
	}

	/** shopping icon wud b dere in DOM but with display:none ---- wud b visible when mrkr has class buyit**/
	.pt.pt-icon-shopping-cart {
		display: none;
	}

	.onhover-popup {
		display: block;
		position: absolute;
		top: -35px;
		left: -81px;
		width: 180px;
		padding: 3px 8px;
		background-color: #000;
		@include box-shadow(#fff 0 0px 3px);
		text-align: left;
		color: #fff;

		&:before {
			bottom: -9px;
			border: solid transparent;
			content: " ";
			height: 0;
			width: 0;
			position: absolute;
			pointer-events: none;
			border-right: 8px solid transparent;
			border-left: 8px solid transparent;
			border-top: 8px solid #000;
			left: 47%;
		}

		.put-ellipsis {
			display: block;
		}
	}

	.onclick-popup {
		display: block;
		position: absolute;
		width: 280px;
		min-height: 30px;
		background-color: #fff;
		@include box-shadow(#999999 0 0px 3px);
		border-radius: 5px;
		text-align: left;
		color: #333;

		.buy-wrap {
			display: none;
		}

		&:before {
			bottom: -12px;
			border: solid transparent;
			content: " ";
			height: 0;
			width: 0;
			position: absolute;
			pointer-events: none;
			border-right: 11px solid transparent;
			border-left: 11px solid transparent;
			border-top: 11px solid #fff;
			left: 45%;
		}
	}

	&:hover, &.active, &.st-c  {
		background-color: #444;
		border: 1px solid #222;

		&:before {
			border-top: 9px solid #222;
		}

		&:after {
			border-top: 8px solid #444;
		}
	}

	&:hover, &.active:hover {
		z-index: 5;
	}

	&.active, &.st-c {
		z-index: 4;
	}
}


/** LOCALITY MARKER (use "l-mrkr" in case of locality marker with "mrkr" class) **/
.l-mrkr {
	@include mrkr;
	width: 32px;
	height: 32px;

	&:before {
		border-right: 9px solid transparent;
		border-left: 9px solid transparent;
		border-top: 9px solid #eb8b17;
		left: 25%;
	}

	&:after {
		border-right: 8px solid transparent;
		border-left: 8px solid transparent;
		border-top: 8px solid #f39c13;
		left: 25%;
	}

	.proj-count {
		line-height: 32px;
		font-weight: bold;

		.count {
			display: inline;
		}
	}

	.onhover-popup {
		display: none;
	}

	.onclick-popup {
		display: none;
		bottom: 43px;
		left: -120px;

		.head {
			background-color: #555;
			padding: 2px 10px;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;

			.loc-name {
				display: block;
				float: left;
				width: 67%;
				color: #fff;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}
			.last-update {
				display: block;
				float: right;
				width: 31%;
				color: #ccc;
				font-size: 11px;
				text-align: right;
			}
		}

		.rise-decline {
			.pt-icon-arrow-up {
				color: $greenish;
			}
			.pt-icon-arrow-down {
				color: $reddish;
			}
		}

		.pt_row {
			clear: both;
			padding: 3px 0px;

			[class*="pt_col-"]:first-child {
				padding-left: 10px;
			}

			&.proj-nmbr {
				font-size: 9px;
				line-height: 14px;
				text-transform: uppercase;
				color: #999;

				[class*="-count"] {
					font-size: 10px;
					line-height: 15px;
					color: #333;
				}

				.ttlow { text-transform: lowercase; }
			}

			&.loc-footer {
				margin: 4px 10px;
				border-top: solid 1px #ccc;
				text-align: center;

				[class*="pt_col-"]:first-child {
					border-right: solid 1px #ccc;
				}

				a:hover {
					text-decoration: underline;
				}
			}
		}
	}

	/** LOCALITY MARKER HOVER, CLICKED(add class active) STATE **/
	&:hover {
		.onhover-popup {
			display: none;
		}
	}

	&.active, &.st-c {
		.onhover-popup {
			display: none;
		}

		.onclick-popup {
			display: block;
		}
	}
}

/** PROJECT MARKER (use "p-mrkr" class in case of project marker with "mrkr" class) **/
.p-mrkr {
	@include mrkr;
	padding: 1px 3px 0px 2px;

	.buy {
		display: none;
	}

	.selected-icon {
		display: none;
		font-size: 10px;
		line-height: 10px;
		position: absolute;
		right: -10px;
		top: -10px;
		color: #e90000;
		background: #fff;
		border: solid 1px #555;
		@include rounded( $radius:10px);
		padding: 2px;

		i.pt {

		}
	}

	.val {
		padding:0px;
		display: block;
		min-width:6px;

		.val-type {
			padding:0px 1px 1px 1px;
			line-height:12px;
			font-size:12px;
			width:12px;
			height:12px;
		}
		.val-rate, .val-date, .val-score {
			padding:0px 1px;
			line-height:16px;
			min-width:47px;
		}
	}

	/* Staus Banners on top of Markers */
	.info-bnrs {
		top:-15px;
		position:absolute;
		left:0px;

		[class*="info-bnr-"] {
			color: #FFFFFF;
			font: bold 11px/15px Arial;
			width: 100%;
			padding:0px 3px;

			&.hide {display:none;}
		}

		.info-bnr-red {background-color:#EE1A39;}
		.info-bnr-orange {background-color:#F7941E;}
		.info-bnr-green {background-color:#3AC00B;}
		.info-bnr-blue {background-color:#00AEFF;}
	}
	/* Staus Banners on top of Markers Ends */

	.onhover-popup {
		display: none;
		left: -88px;
		width: 180px;
	}

	&.pt-type { /* 2nd level class to decide if it is by prop-type OR rate OR Poss. date.... */

		&.apartment { /* 3rd lvl class to decide when it is by prop-type :: if apartment OR villa OR plot
			background: #f39c13;
			border-color: #d3870f;
			&:after { border-top-color: #f39c13; }
			&:before { border-top-color: #f39c13; }
			*/
		}

		&.villa { /* 3rd lvl class to decide when it is by prop-type :: if apartment OR villa OR plot */
			background: #1478ab;
			border-color: #126996;
			&:after { border-top-color: #1478ab; }
			&:before { border-top-color: #126996; }
		}

		&.plot { /* 3rd lvl class to decide when it is by prop-type :: if apartment OR villa OR plot */
			background: #669933;
			border-color: #527a29;
			&:after { border-top-color: #669933; }
			&:before { border-top-color: #527a29; }
		}
	}

	&.pt-date { /* 2nd level class to decide if it is by prop-type OR rate OR Poss. date....
		background: #17A086;
		border-color: #0c7f69;
		&:after { border-top-color: #17A086; }
		&:before { border-top-color: #17A086; }

		*/

		&.dna { /* 3rd lvl class to decide when it is by date :: if No possession Date (DNA) */
			background: #1478ab;
			border: 1px solid #fff;
			@include rounded( $radius:10px);
			display: inline-block;
			padding: 0px;
			margin: 0;
			box-shadow: 0px 1px 2px #999;
			min-width: 6px;
			width: 6px;
			height:6px;
			z-index: 4;

			&:after { border-top-color: transparent; }
			&:before { border-top-color: transparent; }

			.val {
				display: none;
			}
		}

	}

	&.pt-rate { /* 2nd level class to decide if it is by prop-type OR rate OR Poss. date.... */

		&.rna { /* 3rd lvl class to decide when it is by date :: if No Rate (RNA) */
			background: #1478ab;
			border: 1px solid #fff;
			@include rounded( $radius:10px);
			display: inline-block;
			padding: 0px;
			margin: 0;
			box-shadow: 0px 1px 2px #999;
			min-width: 6px;
			width: 6px;
			height:6px;
			z-index: 4;

			&:after { border-top-color: transparent; }
			&:before { border-top-color: transparent; }

			.val {
				display: none;
			}
		}
	}

	@import '../maps/pt-colorgrad';

	/** PROJECT MARKER HOVER & CLICKED STATE **/
	&:hover, &.active, &.st-c {
		&.pt-type {
			&.apartment {
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}
			&.villa {
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}
			&.plot {
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}
		}

		&.pt-rate {
			&.rna {
				border:none;
				min-width: 3px;
				width: auto;
				height: auto;
				z-index: 11;
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}

			&[class^="rate-color-"], &[class*="rate-color-"] {
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}
		}

		&.pt-date {
			&.dna {
				border:none;
				min-width: 3px;
				width: auto;
				height: auto;
				z-index:11;
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}

			&[class^="date-color-"], &[class*="date-color-"] {
				&:before { border-top-color:#333; }
				&:after { border-top:8px solid #666666; }
			}
		}
	}

	/** PROJECT MARKER HOVER STATE ONLY **/
	&:hover {
		.onhover-popup {
			display: none;
		}
		.icon-villa { color: #fff; }
		.icon-plot { color: #fff; }
	}
	/** PROJECT MARKER CLICKED(add class active) STATE **/
	&.active, &.st-c {
		.onhover-popup {
			display: none;
		}
		.icon-villa { color: #fff; }
		.icon-plot { color: #fff; }
		.onclick-popup {
			display: block;
		}
	}
    /** PROJECT MARKER SELECTED STATE (use "selected" class with both "mrkr" and "p-mrkr" class) **/
    &.selected {
        .selected-icon {
            display: block;
        }
    }
}





/**  BUY LOCALITY MARKER  **/
.buyit {
	background-color: #7bcaca;
	border: 1px solid #2c8989;
	padding: 1px 3px 0px 2px;

	&:before { border-top: 9px solid #2c8989; }

	&:after { border-top: 8px solid #7bcaca; }

	/* LOCALITY BUYIT MARKER */
	&.l-mrkr {
		padding: 0px;
		.proj-count { display: none; }

		.buy {
			font-size: 18px;
			line-height: 32px;
			display: block;

			.pt.pt-icon-shopping-cart { display: inline-block;}
		}

		.onclick-popup {
			.buy-wrap {
				display: block;
			}

			.pt_row, .head {
				display: none;
			}
		}

		/** LOCALITY / PROJECT - BUYIT MARKER HOVER, CLICKED STATE **/
		&.active, &.st-c {
			background-color: #1acaca !important;
			border: 1px solid #0c9b9b !important;

			&:before { border-top: 9px solid #0c9b9b; }
			&:after { border-top: 8px solid #1acaca; }
		}
	}

	/* PROJECT BUYIT MARKER */
	&.p-mrkr {
		.selected-icon, .val { display: none; }

		.buy {
			font-size: 16px;
			display: block;

			.pt.pt-icon-shopping-cart { display: inline-block;}
		}
	}
}

// tooltip style for map circle sizer marker
.circle-tooltip {
	position: absolute;
	background-color: #000;
	@include rounded( $radius:4px);
	padding: 3px 5px;
	color:#fff;
	font-size: 11px;
	text-align: center;
	opacity:1;
	z-index:7;
	&:after, &:before {
		top: 100%;
		border: solid transparent;
		content: " ";
		height: 0;
		width: 0;
		position: absolute;
		pointer-events: none;
	}

	&:after {
		width: 0;
		height: 0;
		border-right: 5px solid transparent;
		border-left: 5px solid transparent;
		border-top: 5px solid #000;
		left: 48%;
	}

	/*&:before {
		width: 0;
		height: 0;
		border-right: 10px solid transparent;
		border-left: 10px solid transparent;
		border-top: 10px solid #000;
		left: 43%;
	}*/

	.sizer-div-radius {
		color: #fff; /* 2691ec */
		font-size: 13px;
	}
}



