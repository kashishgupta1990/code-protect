define(["app","text!views/directives/b2b/dashboard/two-level-tree-view.html"],function(a,b){a.directive("twoLevelTreeView",["$document",function(a){"use strict";return{restrict:"EAC",replace:!0,scope:{label:"@",list:"=",listType:"@",getList:"&"},template:b,link:function(b,c){c.bind("$destroy",function(){c.unbind("click")}),c.bind("click",function(a){a.stopPropagation()}),a.on("click",function(){b._collapse=!1,b.$apply()}),$(c).find(".list-level1").on("click","li>h6",function(){$(this).find("i.pt").toggleClass("pt-icon-minus-square"),$(this).siblings(".list-level2").toggle()}),b.$watch("_collapse",function(a){a||($(c).find("i.pt").removeClass("pt-icon-minus-square"),$(c).find(".list-level2").hide())})},controller:["$scope",function(a){a.subItems={},a.getSubItems=function(b){if(!a.subItems[b]){var c=a.getList({listType:a.listType,id:b});c.then(function(c){setTimeout(function(){a.subItems[b]=c,a.$apply()})})}}}]}}])});