define(["app","text!views/directives/maps/pt-show-locality-index.html","services/maps/mapConfig"],function(a,b){a.directive("ptShowLocalityIndex",["$rootScope","PtMapsConfig",function(a,c){return{restrict:"A",scope:{},template:b,link:function(b,d,e){b.indexSettings=c.indexSettings,b.ranges={livabilityIndexRange:[],safetyIndexRange:[]},b.$on("changeLocalityIndex",function(a,c){b.showLocalityIndex=c?!0:!1}),b.$on("gradientIndexRangeChanged",function(a,b){f(b)});var f=function(a){var c=(a.localities,a.minLivabilityScore),d=a.maxLivabilityScore,e=a.minSafetyScore,f=a.maxSafetyScore;b.ranges={livabilityIndexRange:[c,d],safetyIndexRange:[e,f]}};b.tracking=function(b,c){a.$broadcast("polygonDisplayType",c)}}}}])});