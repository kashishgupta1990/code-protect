function getCookie(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?b[2]:null}define("text!views/controller/b2b/b2b-login.html",[],function(){return'<div class="login-main-wrarpper">\n    <div class="ta-center">\n        <div class="marginT40 login">\n            <div class="text-error b2b-main-container transparent-wrap" data-ng-show="badCredentials">{{badCredentialsMessage}}\n            </div>\n            <div class="login_window paddingL15">\n                <form data-ng-submit="signInSubmit(username, password)" id="loginform" name="loginform" method="post">\n                        <div class="proplogo">\n                            <a href="/" target="_self">\n                                <i class="icons-inner-logo"></i>\n                            </a>\n                        </div>\n                         <!-- <div class="text-error paddingT15" data-ng-show="badCredentials">{{badCredentialsMessage}}</div> -->\n                        <label class="paddingT15">User Name</label>\n                        <input data-ng-model="username" type="text" placeholder="User Name" id="username" class="input-xlarge">\n                        <label class="paddingT15">Password</label>\n                        <input data-ng-model="password" type="password" class="input-xlarge" id="password" placeholder="Password">\n                        <div class="other_info">\n                            <div class="active inlineblock"></div>\n                            <div class="pull-right">\n                                <a href="javascript:void(0)"\n                                   analytics-on\n                                   data-analytics-event="Click_ForgetPassword"\n                                   data-analytics-category="Forget Password"\n                                   data-analytics-label="Submit"\n                                   ui-sref="anonymous.forgot-password" >Forgot Password</a></div>\n                        </div>\n                        <div class="proplogo">\n                    <button type="submit" data-ng-class="{\'disabled\':disableLogin}" class="btn-action" data-ng-disabled="disableLogin">Login</button>\n                        </div>\n                </form>\n            </div>\n        </div> \n    </div>\n</div>   '}),define("text!views/controller/b2b/b2b-otp.html",[],function(){return'<div class="login-main-wrarpper">\n    \n    <div class="marginT40 login">\n        <div class="text-error one-tp b2b-main-container transparent-wrap" data-ng-show="description">* {{description}}</div>\n        <div class="login_window paddingL15">\n            <div id="loginform" name="loginform">\n                <div class="proplogo">\n                    <i class="icons-inner-logo"></i>\n                </div>\n                <input data-ng-model="otpCode" type="text" placeholder="Enter OTP" id="username" class="input-xlarge marginT10">\n                <div class="paddingTB15 ta-center">\n                    <button type="button" data-ng-class="{\'disabled\':disableButton}" class="btn-primary" data-ng-click="resendOtp()">Resend OTP</button>\n                    <button type="button" data-ng-class="{\'disabled\':disableButton}" class="btn-action" data-ng-click="otpSubmit()">Continue</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("text!views/controller/b2b/settings.html",[],function(){return'<div class="b2b-main-container marginT5 marginB15 preference transparent-wrap">\n    <div class="pt_row">\n        <div class="pt_col-1-4">\n            <div class="sidebarBox">\n            <div pt-projectnavigator></div>\n            </div>\n        </div>\n        <div class="pt_col-3-4">\n            <div pt-onscroll></div>\n            <div class="pt_row contentBoxContainer marginB15 paddingTB20LR25 tabContainer">\n            <div data-ng-controller="filterCtrl">\n                <div class="contentHeader" id="preferences">\n                    <h4>Preferences</h4>\n                    <div class="pull-right">\n                        <a href="javascript:void(0)"\n                           analytics-on\n                           data-analytics-event="Click_Reset to Default"\n                           data-analytics-category="Settings"\n                           data-analytics-label=""\n                           data-ng-click="clearAll(defaultPreferenceObj);resetToDefault()" >\n                        Reset to default preferences</a>\n                    </div>\n                </div>\n\n                <div class="paddingLR15">\n                    <div class="pt_row unlink-parent">\n                        <span class="flitClickInfo pull-left" show-dropdown="true" data-ga-event="Select_Property Type" data-ga-category="Settings" equal-type filter=\'filters.propertyType\'></span>\n                    </div>\n                    <hr />\n                    <div class="budget-range-wrap">\n                        <div class="city-budget-filter">\n                            <h5 class="marginR20">\n                                Budget Range\n                                <span class="v-middle">\n                                    <i class="pt pt-icon-question-circle" tooltip="Use this option to set the medium range for the Budget graphs in the analysis pages."> </i>\n                                </span>\n                            </h5>\n                            <div show-dropdown="true" class="flitClickInfo pull-left" data-ga-category="Settings" data-ga-event="Select_Budget" budget filter=\'filters.budget\'></div>\n                        </div>\n                        <div class="clearfix pull-left"></div>\n                        <div data-ng-if="!bgtmsg" class="pull-right budget-range-data">\n                            <div class="pt_row paddingB10">\n                                <strong>Low Range: </strong>\n                                <span ng-show="preference.budgetRange.globalCityMin!=0">\n                                    &lt; <i class="pt pt-icon-inr"></i>\n                                {{preference.budgetRange.globalCityMin | priceFormat : null:null:\' L\'}}\n                                </span>\n                                <span ng-show="preference.budgetRange.globalCityMin==0">\n                                    Not Applicable\n                                </span>\n                            </div>\n                            <div class="pt_row paddingB10 middle-range">\n                                <strong>Medium Range: </strong>\n                                <i class="pt pt-icon-inr"></i>\n                                {{preference.budgetRange.globalCityMin | priceFormat : null:null:\' L\'}} -\n                                <span ng-show="preference.budgetRange.globalCityMax!=\'\'">\n                                    <i class="pt pt-icon-inr"></i>\n                                    {{preference.budgetRange.globalCityMax | priceFormat : null:null:\' L\'}}\n                                </span>\n                                <span ng-show="preference.budgetRange.globalCityMax==\'\'">\n                                    Any\n                                </span>\n                            </div>\n                            <div class="pt_row">\n                               <strong>High Range: </strong>\n                                <span ng-show="preference.budgetRange.globalCityMax">\n                                    &gt; <i class="pt pt-icon-inr"></i>\n                                {{preference.budgetRange.globalCityMax | priceFormat : null:null:\' L\'}}\n                                </span>\n                                <span ng-show="!preference.budgetRange.globalCityMax">\n                                     Not Applicable\n                                </span>\n                            </div>\n                        </div>\n                        <div data-ng-if="bgtmsg" class="pull-right">\n                            <span class="red">{{bgtmsg}}</span>\n                        </div>\n                    </div>\n                    <div class="clear paddingT15">\n                        <hr />\n                    </div>\n                    <div class="checkbox-item clear">\n                        Show top projects in Builder Analysis\n                        <input type="checkbox"\n                               analytics-on\n                               data-analytics-event="Select_Top Project in Builder"\n                               data-analytics-category="Settings"\n                               data-analytics-label="{{preference.expandOtherProjects?\'Unselect\':\'Select\'}}"\n                               data-ng-model="preference.expandOtherProjects"\n                               data-ng-true-value="0" data-ng-false-value="1">\n                        <span class="v-middle">\n                            <i class="pt  pt-icon-question-circle" tooltip="When this option is selected, the projects after the top 5 projects are grouped together as \'Others\' and displayed as a single unit."> </i>\n                        </span>\n                    </div>\n\n                    <div class="checkbox-item" >\n                        Show data in fiscal year\n                        <input type="checkbox"\n                               analytics-on\n                               data-analytics-event="Select_Data in Fiscal Year"\n                               data-analytics-category="Settings"\n                               data-analytics-label="{{preference.yearType === \'financial\'?\'Select\':\'Unselect\'}}"\n                               data-ng-model="preference.yearType"\n                               data-ng-true-value="financial"\n                               data-ng-false-value="calendar">\n                        <span class="v-middle">\n                            <i class="pt pt-icon-question-circle" tooltip="Select this to show data in fiscal year. If unselected then data is shown in calendar year."> </i>\n                        </span>\n                    </div>\n\n                    <div class="checkbox-item" >\n                        Show Dashboard Key Data in area format.\n                        <input type="checkbox"\n                               analytics-on\n                               data-analytics-event="Select_Dashboard key data in area"\n                               data-analytics-category="Settings"\n                               data-analytics-label="{{preference.dataUnitType === \'AREA\'?\'Select\':\'Unselect\'}}"\n                               data-ng-model="preference.dataUnitType"\n                               data-ng-true-value="AREA"\n                               data-ng-false-value="UNITS">\n                        <span class="v-middle">\n                            <i class="pt pt-icon-question-circle" tooltip="Select this to show Dashboard Key Data in area format. If unselected, then data is displayed in units."> </i>\n                        </span>\n                    </div>\n                    \n                    <div class="paddingT30 pull-right">\n                        <div data-ng-show="successfulySaved" class="pull-left greenish marginR20" style="line-height:35px;"></div>\n                        <button type="button"\n                                analytics-on\n                                data-analytics-event="Save_Settings"\n                                data-analytics-category="Settings"\n                                data-analytics-label=""\n                                class="btn btn-action pull-right"\n                                data-ng-click="save()">Save</button>\n                        <div class="clearfix"></div>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n                <div class="contentHeader" id="changePassword">\n                    <h4>Change Password</h4>\n                </div>\n                <div class="paddingLR15">\n                        <div class="errorMsg paddingB15" data-ng-show="msg"><span>*{{msg}}</span></div>\n                         <form class="form-horizontal">\n                            <div class="form-group">\n                                <label for="oldPassword" class="control-label col-xs-4">Current password <span class="red">*</span></label>\n                                <div class="col-xs-8">\n                                    <input class="oldPassword form-control" name="oldPassword" type="password" data-ng-model="user.oldPassword" placeholder="Current password"/>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="newPassword" class="control-label col-xs-4">New password <span class="red">*</span></label>\n                                <div class="col-xs-8">\n                                    <input class="newPassword form-control" name="newPassword" type="password" data-ng-model="user.newPassword" placeholder="New password"/>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="confirmNewPassword" class="control-label col-xs-4">Confirm new password <span class="red">*</span></label>\n                                <div class="col-xs-8">\n                                    <input class="confirmNewPassword form-control" name="confirmNewPassword" type="password" data-ng-model="user.confirmNewPassword" placeholder="Confirm new password"/>\n                                </div>\n                            </div>\n                            \n                            <button type="submit"\n                                    analytics-on\n                                    data-analytics-event="Change_Password"\n                                    data-analytics-category="Settings"\n                                    data-analytics-label=""\n                                    data-ng-click="changePassword(user)" class="btn btn-action pull-right" data-ng-disabled="disable" data-ng-class="{\'disabled\':disable}">Change</button>\n                        </form>\n                    \n                </div>\n            </div>\n            </div>\n        </div>\n    </div>\n\n   \n</div>\n'}),define("text!views/controller/b2b/myaccount.html",[],function(){return'<div class="b2b-main-container main-container-bg marginT5 marginB15">\n    <div class="contentHeader">\n        <h4 class="paddingT10">My Account</h4>\n    </div>\n    \n    <div class="pt_row paddingL15">\n        \n        <form class="form-horizontal">\n            <div class="control-group">\n                <label class="control-label" for="inputName">Name</label>\n                <div class="controls">\n                    <input type="text" id="inputName" />\n                </div>\n            </div>\n            <div class="control-group">\n                <label class="control-label" for="inputEmail">Email</label>\n                <div class="controls">\n                    <input type="text" id="inputEmail" />\n                </div>\n            </div>\n            <div class="control-group">\n                <label class="control-label" for="inputContact">Contact No.</label>\n                <div class="controls">\n                    <input type="text" id="inputContact" />\n                </div>\n            </div>\n            <div class="control-group">\n                <label class="control-label" for="inputCompany">Company Name</label>\n                <div class="controls">\n                    <input type="text" id="inputCompany" placeholder="Aam Aadmi company" />\n                </div>\n            </div>\n            <div class="control-group">\n                <label class="control-label" for="inputCompanynum">Company No.</label>\n                <div class="controls">\n                    <input type="text" id="inputCompanynum" />\n                </div>\n            </div>\n            <div class="pull-right paddingR25 paddingB20">\n                <a href="javascript:void(0)" class="btn">Cancel</a>\n                <a href="javascript:void(0)" class="btn btn-default">Save</a>\n            </div>\n        </form>\n        \n        <div class="pt_row clear">\n            <div class="contentHeader">\n            	<h4 class="paddingT10">Access Details</h4>\n            </div>\n            <div class="account_head">\n            	<div class="contentHeader">\n                	<h5>Geographical coverage</h5>\n                    <div class="pull-right"><a href="javascript:void(0)" class="btn btn-primary">Upgrade</a></div>\n                </div>\n                <span>City1, City2, City3</span>\n            </div>\n            <div class="account_head">\n            	<div class="contentHeader">\n                	<h5>Section Access</h5>\n                    <div class="pull-right"><a href="javascript:void(0)" class="btn btn-primary">Upgrade</a></div>\n                </div>\n                <ul class="inline">\n                	<li><i class="pt  pt-icon-check"></i> Dashboard</li>\n                    <li><i class="pt  pt-icon-check"></i> Catchment</li>\n                    <li><i class="pt  pt-icon-times"></i> Builder</li>\n                </ul>\n            </div>\n            <div class="account_head">\n            	<div class="contentHeader">\n                	<h5>Data Access</h5>\n                    <div class="pull-right"><a href="javascript:void(0)" class="btn btn-primary">Upgrade</a></div>\n                </div>\n                <ul class="inline">\n                	<li><i class="pt  pt-icon-check"></i> Demand</li>\n                    <li><i class="pt  pt-icon-times"></i> Supply</li>\n                </ul>\n            </div>\n            <div class="account_head">\n            	<div class="contentHeader">\n                	<h5>Access Valid till</h5>\n                    <div class="pull-right"><a href="javascript:void(0)" class="btn btn-primary">Extend Validity</a></div>\n                </div>\n                <ul class="inline">\n                	<li>15 April\'13</li>\n                </ul>\n            </div>\n        </div>\n        \n        <div class="pt_row clear">\n            <div class="contentHeader">\n            	<h4 class="paddingT10">Project Details</h4>\n            </div>\n            <div class="project_phase">\n                <div class="stat_project_data col-lg-2 col-md-2 col-sm-2 pull-left">\n					<div class="stat_header paddingTB10">&nbsp;</div>\n                    <div class="stat_data">\n                    	<ul>\n                        	<li>Launch Date</li>\n                            <li>Posession Date</li>\n                            <li>Status</li>\n                            <li>Total Units</li>\n                            <li>Sold %</li>\n                        </ul>\n                    </div>                    \n                </div>\n                <div class="dynmic_project_data col-lg-10 col-md-10 col-sm-10">\n                	<div class="col-lg-3 col-md-3 col-sm-3">\n                        <div class="stat_header paddingTB10">Phase1</div>\n                        <div class="stat_data">\n                            <ul>\n                                <li>Jan \'13</li>\n                                <li>Jan \'17</li>\n                                <li>Under Construction</li>\n                                <li>500</li>\n                                <li>25%</li>\n                        	</ul>\n                        </div>\n                   	</div>\n                    <div class="col-lg-3 col-md-3 col-sm-3">\n                        <div class="stat_header paddingTB10">Phase2</div>\n                        <div class="stat_data">\n                            <ul>\n                                <li>Jan \'13</li>\n                                <li>Jan \'17</li>\n                                <li>Under Construction</li>\n                                <li>500</li>\n                                <li>25%</li>\n                        	</ul>\n                        </div>\n                   	</div>\n                    <div class="col-lg-3 col-md-3 col-sm-3">\n                        <div class="stat_header paddingTB10">Phase3</div>\n                        <div class="stat_data">\n                        	<ul>\n                                <li>Jan \'13</li>\n                                <li>Jan \'17</li>\n                                <li>Under Construction</li>\n                                <li>500</li>\n                                <li>25%</li>\n                        	</ul>    \n                        </div>\n                   	</div>\n                    <div class="col-lg-3 col-md-3 col-sm-3">\n                        <div class="stat_header paddingTB10">Phase4</div>\n                        <div class="stat_data">\n                        	<ul>\n                                <li>Jan \'13</li>\n                                <li>Jan \'17</li>\n                                <li>Under Construction</li>\n                                <li>500</li>\n                                <li>25%</li>\n                        	</ul>    \n                        </div>\n                   	</div>                    \n                </div>\n            </div>\n        </div>\n        \n    </div>\n</div>'}),define("text!views/controller/b2b/dashboard.html",[],function(){return'<div class="sub-header">\n    <div class="container">\n        <div class="pt_row">\n            <div class="pt_col-2-6">\n                <span><i class="pt  pt-icon-tachometer"></i></span>\n                <span class="big_text">{{ header.heading }}</span>\n                <span subheader-select-box data-ng-if="header.count>1">\n                    <a href="javascript:void(0)"\n                       analytics-on\n                       data-analytics-event="Click_Multicity Dashboard"\n                       data-analytics-category="Dashboard"\n                       data-analytics-label=""\n                       class="sub-link" data-ng-click="editAreaModal(detail)">Edit</a>\n                </span>\n            </div>\n            <div class="pt_col-2-6">\n                <span>{{ header.count }} {{ detail.userType | pluralize:header.count }}, </span>\n                <span class="paddingR15">{{ header.breakup }}</span>\n            </div>\n            <div class="pt_col-2-6">\n                <span class="pull-right"><span class="gray-light">Last Update:</span> {{ header.untilDate | dateFormat }}</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="b2b-main-container transparent-wrap">\n	<!-- <div news-box city-names="cityNames" count="3"></div> -->\n    <div key-data-grid detail="detail" city-ids="cityIds" locality-ids="localityIds" detail-cities="cityLocalityIds"></div>\n    <div price-trends-grid display-type="grid" detail="detail"></div>\n    <!-- <div graph-blocks></div> -->\n    <div class="clearfix"></div>\n</div>\n'}),define("text!views/controller/b2b/catchment-creation.html",[],function(){return'<div class="b2b-main-container" data-ng-show="showMapView">\n    <div class="body_map">\n        <section class="map-body">\n            <div id="myLoader" class="loader_implement-for-b2b">\n                <div pt-loading-block  class="mapSpin"></div>\n            </div>\n            <div class="map_canvas_wrap b2bmaps">\n                \n                <img data-ng-src="{{getCDNURL(\'styles/images/sprite-map.png\')}}" style="display:none;">\n                <div pt-map btob-markers id="map_canvas" ></div>\n\n                <div pt-draw-shape ></div>\n\n                <div id="projectLoader" class="proj_loader_implement">\n                    <div pt-loading-block class="mapSpin"></div>    \n                </div>\n\n                <!-- Directive to show project detail card  -->  \n                <div pt-b2b-projectdetail ></div>\n\n                <div pt-zoom-map ></div>\n\n                <div pt-svg-legends></div>\n                <div pt-map-svg-tooltip></div>\n\n            </div>\n            <div class="sel-loc-map">\n                <div data-ng-switch on="alvDisplayType">\n                    <div data-ng-switch-when="project">\n                        <div class="row-full selectloc">\n                            <div class="pull-left">\n                                <span class="big_text">{{selectionMapLength = (selection_map | lengthOf:true)}} selected out of </span>\n                                <span class="paddingR10 clearfix displayBlock">{{alvVisibleList.length}} projects</span>\n                            </div>\n                            <div class="pull-left">\n                                <span data-ng-if="selectionMapLength" class="pull-left">\n                                    <button class="btn" data-ng-click="saveCatchment();"><i class="pt pt-icon-save"></i></button>\n                                    <button class="btn-primary marginR5" data-ng-click="onAnalysisClicked()"> Analyze</button>\n                                    <span pt-alv-download-data></span>\n                                </span>\n                                <span data-ng-if="!selectionMapLength">\n                                    <button class="btn disabled" tooltip=\'No Project selected to create catchment\'><i class="pt pt-icon-save"></i></button>\n                                    <button class="btn-primary disabled marginR5" tooltip=\'No Project selected to analyze\'> Analyze</button>\n                                    <div class="pull-right relativePostion disable_download">\n                                        <a class="inblk" tooltip=\'No project selected to download information\'>\n                                            <i class="pt pt-icon-arrow-circle-down"></i>\n                                        </a>\n                                    </div>\n                                </span>\n                                \n                            </div>\n\n                            <div class="clearfix"></div>\n                        </div>\n                        <!-- Directive to show projects listing-->\n                        <div alv-projects></div>\n                    </div>\n\n                    <div data-ng-switch-when="locality">\n                        <div class="row-full selectloc">\n                            <div class="pull-left">\n                                <span class="big_text pull-left">{{alvVisibleList.length}} Localities in view</span>\n                            </div>\n                        </div>\n                        <!-- Directive to show localities listing with lazy load scroll -->\n                        <div alv-localities ></div>\n                    </div>\n\n                </div>\n            </div>    \n            \n            <div class="clearfix"></div>\n        </section>\n    \n        <div class="clearfix"></div>\n    </div>\n</div>\n'}),define("text!views/controller/b2b/builder-search.html",[],function(){return'<div class="sub-header">\n	<div class="container">\n        <div class="pt_row">\n         <div class="pt_col-2-10">\n             <span class="big_text">Builder Search</span>\n            </div>\n            <div class="pt_col-8-10">\n             	<!--<ul class="rec-view-wrap">\n                 <li class="gray-light">Recently Viewed</li>\n                    <li><a href="javascript:void(0)" class="sub-link">Builder 1</a></li>\n                    <li><a href="javascript:void(0)" class="sub-link">Builder 2</a></li>\n                    <li><a href="javascript:void(0)" class="sub-link">Builder 3</a></li>\n                    <li><a href="javascript:void(0)" class="sub-link">Builder 4</a></li>\n                </ul>-->\n                <div class="clearfix"></div>\n            </div>\n		</div>\n	</div>\n</div>\n\n<div class="b2b-main-container transparent-wrap">\n    <div class="builder-list-cntnr">\n    \n    	<div class="pt_row builder-srch-row">\n            <div class="srch-form clearfix">\n                <div class="col-lg-4 col-md-4 col-sm-4">\n                    <span class="hdq">Headquarter City</span>\n                    <form id="" name="" method="post">\n                        <div class="input-prepend input-append input-group relativePostion">\n                            <div class="add-on btn-dd input-group-addon">\n                                <a class="dd-btn dropdown-toggle" data-toggle="dropdown">\n                                    \n                                    <span data-ng-if="bsSelectedCity"> {{bsSelectedCity}} </span>\n                                    <span data-ng-if="!bsSelectedCity">\n                                        All Cities\n                                    </span>\n                                    <i class="pt  pt-icon-caret-down"></i>\n                                </a>\n                                <ul class="dropdown-menu dd-list ta-left">\n                                    <li analytics-on\n                                        data-analytics-event="All Cities"\n                                        data-analytics-category="Builder Analysis"\n                                        data-analytics-label=""\n                                        data-ng-click="bsSelectedCity = null"> All Cities</li>\n\n                                    <li analytics-on\n                                        data-analytics-event="{{city.label}}"\n                                        data-analytics-category="Builder Analysis"\n                                        data-analytics-label=""\n                                        data-ng-repeat=\'city in cities\' data-ng-if="city.authorized" data-ng-click="selectCity(city.label)">\n                                        {{city.label}}\n                                    </li>\n                                </ul>\n                            </div>\n                            <i data-ng-show="loadingBuilders"></i>\n                            <input \n                                type="text" \n                                data-ng-model="searchedBuilder" \n                                placeholder="Search for Builders" \n                                typeahead="builder.displayText for builder in getBuilders($viewValue, bsSelectedCity)" \n                                typeahead-loading="loadingBuilders" \n                                class="form-control input-large"\n                                typeahead-on-select=\'addBuilder($item)\'>\n                            <span data-ng-show="loadingBuilders" class="spinPos">\n                                <i class="pt-icon-cog pt-spin" ></i>\n                            </span>\n                            \n                            <span class="add-on input-group-addon"><i class="pt  pt-icon-search"></i></span>\n                        </div>\n                        \n                    </form>\n                </div>\n            </div>\n            <div class="lbl-wrap">\n                <label data-ng-repeat=\'Builder in Builders\'\n                       class="label label-default marginTL5"\n                       analytics-on\n                       data-analytics-event="Unselect_Builder"\n                       data-analytics-category="Builder Analysis"\n                       data-analytics-label="{{Builder.builderName || Builder.displayText}}{{Builder.info.cityName?\',\'+Builder.info.cityName:\'\'}}"\n                       data-ng-click=\'removeBuilder(Builder)\'>\n                    {{Builder.builderName || Builder.displayText}}{{Builder.info.cityName?\',\'+Builder.info.cityName:\'\'}}<i class="pt  pt-icon-times-circle"></i>\n                </label>\n                <a href="javascript:void(0)"\n                   data-ng-click=\'clearAll()\'\n                   analytics-on\n                   data-analytics-event="Click_UnselectAll"\n                   data-analytics-category="Builder Analysis"\n                   data-analytics-label=""\n                   data-ng-if="Builders.length">Clear All<!-- &nbsp; <i class="pt  pt-icon-times-circle"></i> --></a>\n            </div>\n    	</div>\n    \n        <div class="builder-list-wrap">\n        	<i class="close pt  pt-icon-times-circle"></i>\n            <span grid-head units=\'headerUnits\' update-table=\'updateTable\' sort=\'sort\'></span>\n             <div class="text-center paddingTB20 an-text-info" data-ng-show="builderLoad">\n                 <span class="pt-icon-cog pt-spin"></span>\n             </div>\n             <div class="text-center paddingTB20 an-text-info" data-ng-if=\'!builderLoad && !Builders.length && !BuildersError\'>\n                    Search for a Builder\n             </div>\n             <div class="text-center paddingTB20 an-text-info" data-ng-if=\'!builderLoad && !Builders.length && BuildersError\'>\n                    {{BuildersError}}\n             </div>\n            <div data-ng-repeat=\'Builder in Builders\'>\n                <span data-ng-if=\'!Builder.info\'> \n                    <div pt-loading-block class="modal-open"></div>\n                </span>\n                <span builder-base-info data-ng-if=\'Builder.info\' info=\'Builder.info\'> </span>\n                </div>\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n';
}),define("text!views/controller/b2b/project-database.html",[],function(){return'<div class="pt_row b2b-main-container main-container-bg">\n        	<div class="contentHeader">\n                <h4>Project Database</h4>\n            </div>\n            \n            <div class="pt_row paddingL15">\n            	<form class="form-horizontal">\n                    <div class="form-group">\n                        <label class="col-lg-2 col-md-2 col-sm-2 control-label" for="inputCity">City of Interest</label>\n                        <div class="col-lg-10 col-md-10 col-sm-10">\n                            <div class="btn-dd pull-left">\n                            	<select data-ng-options=\'city.label for city in cities | filter:{authorized:true}\' data-ng-model=\'pdSelectedCity\' name=\'City\'>\n                                    <option value=\'\'>- Please Choose -</option>\n                                </select>\n                                <ul data-ng-if="userInfo.type == 2" class="dropdown-menu dd-list">\n                                    <li data-ng-repeat="city in userInfo.city" data-ng-click="cityChanged(city.id, city.name)">{{city.name}}</li>\n                                </ul>\n                                <i data-ng-show="showLocalityLoad"  class="pt-icon-cog pt-spin"></i>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-group" data-ng-if="pdSelectedCity">\n                        <label class="col-lg-2 col-md-2 col-sm-2 control-label" for="inputloc">\n                            Localities\n                        </label>\n                        \n                        <div class="col-lg-10 col-md-10 col-sm-10 searchbox">\n                            <i class="pt  pt-icon-search" ></i>\n                            <input type="text" data-ng-model="searchedLocOrProj" placeholder="Search for Locality" data-ng-change="getItems(searchedLocOrProj)" class="form-control input-xlarge"\n>\n                        <div class="panel panel-default" data-ng-if="localities && !localities.inFlight || filteredLocalities.length">\n	<div class="panel-heading">{{filteredLocalities.length}} Localities For {{pdSelectedCity.label}} </div>\n	<ul class="list-group searchtree_loc">\n		<li class="list-group-item" data-ng-repeat=\'locality in filteredLocalities\' >\n            <a href="javascript:void(0)" data-ng-click="getLocalityProjects(locality)" data-ng-class="{\'active\': showProjectLoad && locality.localityId == clickedLocalityId}">\n                <span class="triangle-right paddingL5"></span>\n			{{locality.label}} ({{locality.projectCount}})\n            </a>\n            <i  data-ng-show="showProjectLoad && locality.localityId == clickedLocalityId" class="pt-icon-cog pt-spin"></i>\n\n			<div class="panel panel-default custom-panel" data-ng-if="locality.projects.length">\n				<!--<div class="panel-heading paddingL20">{{locality.projects.length}} Projects For {{locality.label}} </div>-->\n				<ul>\n                   <li>\n                        <ul>\n                            <li data-ng-repeat=\'project in locality.projects\'>\n                                <a class="list-group-item"  href="/phase-detail?projectId={{project.projectId}}" target="_blank" tooltip="{{project.builder.name}} {{project.name}}">\n                                    <span class="triangle-down marginR5"></span>{{project.builder.name}} {{project.name}}\n                                </a>\n                            </li>\n                        </ul>\n					</li>\n                </ul>\n			</div>\n    	</li>\n    </ul>\n</div>    \n      <!--                  <ul class="searchtree_loc">\n                        <li><a href="#"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="#"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="#"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="#"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="#"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="#"><span class="triangle-down marginR5"></span>Locality1 name</a>\n                        	<ul>\n                            	<li><a href="#">project name</a></li>\n                                <li><a href="#">project name</a></li>\n                                <li><a href="#">project name</a></li>\n                                <li><a href="#">project name</a></li>\n                                <li><a href="#">project name</a></li>\n                            </ul>\n                        </li>\n                        </ul>\n                        </div>\n                    </div>\n                </form>\n               \n            </div>\n            </div>\n\n\n</br>\n\n\n\n</br>\n\n-->\n'}),define("text!views/controller/b2b/phase-detail.html",[],function(){return'<div>\n\n    <div class="sub-header">\n\n        <div class="container">\n            <div class="pt_row">\n                <span class="pull-left"><h4>{{projectData.name}} | </h4></span>\n                <span class="prop-address paddingL5">{{projectData.localityName}}, {{projectData.cityName}}</span>\n            </div>\n        </div>\n    </div>\n\n    <div class="pt_row b2b-main-container main-container-bg clear" data-ng-if="projectData">\n        <div class="kd-cntnr top-margin-1">\n            <div class="pt_row kd-head">\n                <div class="kd-title pt_col-1-8">Duration</div>\n                <div class="pt_col-2-8 text-right pull-right">\n\n                    <div class="add-on btn-dd margin-five">\n                        <div pt-interval\n                             data-ga-category="Phase Detail"\n                             data-ga-title="Price Trend & Inventory Analysis"\n                             duration-changed="updateTimeFrame(data)"\n                             duration="duration"\n                             constant="yearConstant">\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class="contentHeader">\n            <h5 class="paddingT10">Price Trend</h5>\n        </div>\n        <div pt-loading-block class="keyloading paddingTB10" icon-styling-class="loading-icon-size" data-ng-if="!trend">loading..</div>\n        <div pt-widgetchart widget-data="trend" class="paddingTB10" data-ng-if="trend"></div>\n        <div class="contentHeader">\n            <h5 class="paddingT10">Inventory Analysis</h5>\n        </div>\n        <div pt-loading-block class="keyloading paddingTB10" icon-styling-class="loading-icon-size" data-ng-if="!keyData">loading..</div>\n        <div pt-widgetchart widget-data="keyData" class="paddingTB10" data-ng-if="keyData"></div>\n    </div>\n\n    <div class="pt_row b2b-main-container main-container-bg clear">\n        <div class="contentHeader">\n            <h4 class="paddingT10">Project Details</h4>\n        </div>\n        <div class="project_phase">\n            <div class="stat_project_data col-lg-2 col-md-2 col-sm-2 pull-left">\n                <div class="stat_header paddingTB10">&nbsp;\n                </div>\n                <div class="stat_data">\n                    <ul>\n                        <li>Pre Launch Date</li>\n                        <li>Launch Date</li>\n                        <li>Possession Date</li>\n                        <li>Booking Status</li>\n                        <li>Launch Units</li>\n                        <li>Total Area</li>\n                        <li>Size Range</li>\n                        <li>Sold %</li>\n                    </ul>\n\n                </div>\n            </div>\n            <div class="dynmic_project_data col-lg-10 col-md-10 col-sm-10">\n                <div class="col-lg-3 col-md-3 col-sm-3" data-ng-repeat=\'phase in phases\'\n                     data-ng-class="{\'active\' : sphase.phaseId == phase.phaseId}" data-ng-click="phaseSelected(phase)">\n                    <div class="stat_header paddingTB10">\n                        {{phase.phaseName}}\n                    </div>\n                    <div class="stat_data">\n                        <ul>\n                            <li>{{phase.preLaunchDate}}\n                            <li>{{phase.launchDate}}</li>\n                            <li>{{phase.completionDate}}</li>\n                            <li>{{phase.bookingStatus.displayName}}</li>\n                            <li>{{phase.launchedUnit}}</li>\n                            <li>\n                                <span data-ng-show="phase.phaseViewMode !== \'ViewNA\'">\n                                    {{phase.totalArea | figureFMT}} sq ft\n                                    <span data-ng-show="phase.phaseViewMode ===\'ViewCarpetArea\'"> (Carpet Area) </span>\n                                </span>\n                                <span data-ng-show="phase.phaseViewMode === \'ViewNA\'">\n                                    N/A\n                                </span>\n                            </li>\n                            <li>\n                                <span data-ng-show="phase.phaseViewMode !== \'ViewNA\'">\n                                    {{phase.minSize | figureFMT}} sq ft - {{phase.maxSize | figureFMT}} sq ft\n                                    <span data-ng-show="phase.phaseViewMode ===\'ViewCarpetArea\'"> (Carpet Area) </span>\n                                </span>\n                                <span data-ng-show="phase.phaseViewMode === \'ViewNA\'">\n                                    N/A\n                                </span>\n                            </li>\n                            <li>{{phase.sold | number : 2}} %</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="content-header">\n            <span>\n               <b>Total Size: </b>\n               {{projectData.projectSize ? projectData.projectSize : \'N/A\'}} <br>\n            </span>\n            <span data-ng-show="projectData.builderMarketingShare">\n               <b>Builder\'s Marketing Share: </b>\n               {{projectData.builderMarketingShare}} %<br>\n            </span>\n            <span data-ng-show="projectData.isRedevelopementProject">\n               <b> Redevelopment Project: </b>\n               Yes <br>\n            </span>\n        </div>\n\n        <div class="content-header" data-ng-if=\'sphase\'><h3>Units for {{name}} ({{sphase.phaseName}})</h3></div>\n        <div class="relativePostion pull-left row-full"\n             pt-property-listings\n             page-type="listings"\n             properties="sphase.properties"\n             data-ng-if="sphase.properties && sphase.properties.length"\n             project="sphase"\n             page="projectDetail" data-ng-if=\'sphase\'>\n        </div>\n    </div>\n\n    <div class="pt_row b2b-main-container main-container-bg clear">\n        <div data-ng-if=\'sphase\'><h3>Gallery</h3></div>\n        <div id="projectImages" pt-imagecarousel focus="false" images="imageData" settings="projectCarouselSettings"\n             imagesfullview="imageData" data-ng-if=\'sphase\' has3dimages="has3dimages"\n             landmarkcount="landmarkImageTypeCount"></div>\n    </div>\n\n    <div pt-projectspecification specifications="projectData.specifications"\n         ng-if="projectData && projectData.specifications"\n         class="b2b-main-container paddingT10"></div>\n\n    <div pt-projectamenities amenities="projectData.amenities" data-ng-if="projectData && projectData.amenities"\n         class="b2b-main-container paddingT10"></div>\n\n    <div pt-projecthomeloan loanproviderbanks="projectData.loanProviderBanks"\n         container-class="b2b-main-container"></div>\n\n    <div class="b2b-main-container paddingT10" data-ng-if="projectData.projectAddress || projectData.builderContactNo">\n        <div class="contentHeader cursorPointer">\n            <div class="stat-subComm-head-info">\n                <h2>Project Address & Builder Contact Details</h2>\n                <div class="pull-right paddingR10"></div>\n            </div>\n        </div>\n        <div class="content-info row-full marginL20">\n            <div>\n                <div class="prop-speci-info pull-left paddingB10">\n                    <div class="col-lg-10 col-md-10 col-sm-10 proj-spec-info">\n                        <div data-ng-if="projectData.projectAddress">\n                            <div class="stat-subComm-head-info sub-Header"><b>Project Address : </b>\n                                {{projectData.projectAddress}}\n                            </div>\n                        </div>\n                        <div class="paddingT10" data-ng-if="projectData.builderContactNo">\n                            <div class="stat-subComm-head-info sub-Header"><b>Builder Contact No. : </b>\n                                {{projectData.builderContactNo}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="clearfix"></div>\n        </div>\n    </div>\n\n</div>\n\n\n<!--  <div pt-projectamenities class="paddingT10"></div> -->\n\n<!--<div data-ng-repeat=\'phase in phases\' class="pull-left">\n  <div>Launch Date {{phase.launchDate | dateFormat}}</div>\n\n  <div>Booking Status {{phase.bookingStatus.displayName}}</div>\n  <div>Possession Date{{phase.completionDate.bookingStatus | dateFormat}}</div>\n  <div>Total Units {{phase.supply}} </div>\n\n  <button data-ng-click="phaseSelected(phase)">{{phase.phaseName}}</button>\n</div>-->\n\n\n\n'}),define("text!views/controller/b2b/save-graph.html",[],function(){return'<div class="b2b-main-container marginT5 marginB15">\n	<div class="pt_row contentHeader">\n        <h4 class="pt_col-1-2">Saved Graphs</h4>\n        <div class="pt_col-1-2 ta-right">\n        	<small class="order-by">\n            	order by: <a class="option" href="javascript:void(0)">Origin</a> <a class="option active" href="javascript:void(0)">Recently saved</a>\n			</small>\n        </div>\n    </div>\n    <div class="recent template">\n    	<div class="pt_row head">\n        	<div class="pt_col-2-8">Name</div>\n            <div class="pt_col-2-8">Origin</div>\n            <div class="pt_col-2-8">Type</div>\n            <div class="pt_col-1-8">Last Modified</div>\n            <div class="pt_col-1-8">&nbsp;</div>\n        </div>\n        <div class="pt_row body">\n        	<div class="pt_col-2-8 put-ellipsis">\n            	<a href="javascript:void(0)" class="">Graph Name</a>\n            </div>\n            <div class="pt_col-2-8 put-ellipsis">\n            	Catchment Name\n            </div>\n            <div class="pt_col-2-8">\n            	Price > Aggregate\n            </div>\n            <div class="pt_col-1-8">\n            	12 Jan 2014\n            </div>\n            <div class="pt_col-1-8">\n            	<div class="pull-right">\n                    <button class="btn btn-default" tooltip="Unpin from Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                    <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n				</div>\n            </div>\n        </div>\n        <div class="pt_row body">\n        	<div class="pt_col-2-8 put-ellipsis">\n            	<a href="javascript:void(0)" class="">Graph Name</a>\n            </div>\n            <div class="pt_col-2-8 put-ellipsis">\n            	Builder Name\n            </div>\n            <div class="pt_col-2-8">\n            	Sale > Project\n            </div>\n            <div class="pt_col-1-8">\n            	12 Jan 2014\n            </div>\n            <div class="pt_col-1-8">\n            	<div class="pull-right">\n                    <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                    <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n				</div>\n            </div>\n        </div>\n        <div class="pt_row body">\n        	<div class="pt_col-2-8 put-ellipsis">\n            	<a href="javascript:void(0)" class="">Graph Name</a>\n            </div>\n            <div class="pt_col-2-8 put-ellipsis">\n            	Catchment Name\n            </div>\n            <div class="pt_col-2-8">\n            	Price > Aggregate\n            </div>\n            <div class="pt_col-1-8">\n            	12 Jan 2014\n            </div>\n            <div class="pt_col-1-8">\n            	<div class="pull-right">\n                    <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                    <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n				</div>\n            </div>\n        </div>\n        <div class="pt_row body">\n        	<div class="pt_col-2-8 put-ellipsis">\n            	<a href="javascript:void(0)" class="">Graph Name</a>\n            </div>\n            <div class="pt_col-2-8 put-ellipsis">\n            	Builder Name\n            </div>\n            <div class="pt_col-2-8">\n            	Sale > Project\n            </div>\n            <div class="pt_col-1-8">\n            	12 Jan 2014\n            </div>\n            <div class="pt_col-1-8">\n            	<div class="pull-right">\n                    <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                    <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n				</div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="b2b-main-container marginT5 marginB15">\n	<div class="pt_row contentHeader">\n        <h4 class="pt_col-1-2">Saved Graphs</h4>\n        <div class="pt_col-1-2 ta-right">\n        	<small class="order-by">\n            	order by: <a class="option active" href="javascript:void(0)">Origin</a> <a class="option" href="javascript:void(0)">Recently saved</a>\n			</small>\n        </div>\n    </div>\n    <div class="origin template">\n            <div class="pt_row head">\n                <div class="pt_col-4-8">Catchment 1</div>\n                <div class="pt_col-2-8">Type</div>\n                <div class="pt_col-1-8">Last Modified</div>\n                <div class="pt_col-1-8">&nbsp;</div>\n            </div>\n            <div class="pt_row body">\n                <div class="pt_col-4-8 put-ellipsis">\n                    <a href="javascript:void(0)" class="">Graph Name</a>\n                </div>\n                <div class="pt_col-2-8">\n                    Price > Aggregate\n                </div>\n                <div class="pt_col-1-8">\n                    12 Jan 2014\n                </div>\n                <div class="pt_col-1-8">\n                    <div class="pull-right">\n                        <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                        <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n                    </div>\n                </div>\n            </div>\n            <div class="pt_row body">\n                <div class="pt_col-4-8 put-ellipsis">\n                    <a href="javascript:void(0)" class="">Graph Name</a>\n                </div>\n                <div class="pt_col-2-8">\n                    Sale > Project\n                </div>\n                <div class="pt_col-1-8">\n                    12 Jan 2014\n                </div>\n                <div class="pt_col-1-8">\n                    <div class="pull-right">\n                        <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                        <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n                    </div>\n                </div>\n            </div>\n            <div class="pt_row head">\n                <div class="pt_col-4-8">Builder 1</div>\n                <div class="pt_col-2-8">Type</div>\n                <div class="pt_col-1-8">Last Modified</div>\n                <div class="pt_col-1-8">&nbsp;</div>\n            </div>\n            <div class="pt_row body">\n                <div class="pt_col-4-8">\n                    <a href="javascript:void(0)" class="">Graph Name</a>\n                </div>\n                <div class="pt_col-2-8">\n                    Price > Aggregate\n                </div>\n                <div class="pt_col-1-8">\n                    12 Jan 2014\n                </div>\n                <div class="pt_col-1-8">\n                    <div class="pull-right">\n                        <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                        <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n                    </div>\n                </div>\n            </div>\n            <div class="pt_row body">\n                <div class="pt_col-4-8 put-ellipsis">\n                    <a href="javascript:void(0)" class="">Graph Name</a>\n                </div>\n                <div class="pt_col-2-8">\n                    Sale > Project\n                </div>\n                <div class="pt_col-1-8">\n                    12 Jan 2014\n                </div>\n                <div class="pt_col-1-8 put-ellipsis">\n                    <div class="pull-right">\n                        <button class="btn" tooltip="Pin to Dashboard"><i class="pt  pt-icon-thumb-tack"></i></button>\n                        <button class="btn btn-default" tooltip="Delete"><i class="pt  pt-icon-trash-o"></i></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n</div>'}),define("text!views/controller/b2b/analysis.html",[],function(){return"<div ui-view ></div>"}),define("text!views/controller/b2b/analysis/builder.html",[],function(){return'<div class="sub-header">\n    <div class="container">\n        <div class="pt_row b-analysis">\n            <div class="pt_col-7-20"> \n                <span class="b-logo"><img alt="" data-ng-src="{{builder.data.imageURL}}"></span>\n                <strong class="lh35">{{builder.data.name}} </strong>\n                <span class="b-info-wrap">\n                    <a href="javascript:void(0)"\n                       analytics-on\n                       data-analytics-event="Hover_BuilderSearch"\n                       data-analytics-category="Builder Analysis"\n                       data-analytics-label="{{builder.data.name}}"\n                       title="Click here to view a brief information about the builder"\n                       class="b-info dropdown-toggle" data-toggle="dropdown">\n                        <i class="pt  pt-icon-info-circle"></i>\n                    </a>\n                    \n                    <div builder-detail builder=\'builder\'></div>\n                </span>\n            </div>\n            <div class="pt_col-6-20 ta-right">\n                <span class="lh35">{{builder.data.cities.length}} Cities</span>,\n                <span class="lh35">{{builder.data.builderLocalityCount}} Localities</span>,\n                <span class="lh35">{{builder.data.projectCount}} Projects</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class="b2b-main-container transparent-wrap">\n\n<div class="filter-cntnr" data-ng-controller="filterCtrl">\n    <div class="pt_row head">\n        <div class="pt_col-1-2">\n            <div class="filter-txt-wrap">\n                <i class="pt  pt-icon-filter"></i> <span class="filter-txt">Apply Filters</span> \n                <!--button class="btn"><i class="pt  pt-icon-chevron-up"></i></button-->\n            </div>\n        </div>\n        <div class="pt_col-1-2 ta-right">\n            <span class="show-filtered-count" href="javascript:void(0)"><span class="nmbr">{{matchingProjects}}</span> Matching Projects </span>\n        </div>\n    </div>\n\n    <!-- <div class="pt_row body paddingTB20 unlink-parent">\n        <div class="col-sm-8 col-md-8 col-lg-8">\n            <label>Cities</label>\n            <div class="add-on btn-dd">\n                <button data-ng-if="!cityToShow" class="btn dropdown-toggle" data-toggle="dropdown">\n                    Select city\n                    <span class="caret"></span>\n                </button>\n                <button data-ng-if="cityToShow" class="btn dropdown-toggle" data-toggle="dropdown">\n                    {{cityToShow | uppercase}}\n                    <span class="caret"></span>\n                </button> \n                <ul class="dropdown-menu dd-list ta-left">\n                    <li data-ng-repeat="city in builderCities" data-ng-click="cityChanged(city)">\n                        <a>{{city | uppercase}}</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div> -->\n    <div class="pt_row body unlink-parent">\n        <div class="searchFilterBar col-sm-6 col-md-12 col-lg-12">\n            <div class="flitClickInfo filListInfo pull-left"\n                 show-dropdown="true"\n                 data-ga-event="Select_AnalyseBuilderSearch_Project Type"\n                 data-ga-category="Builder Analysis"\n                 equal-type\n                 filter=\'filters.propertyType\'></div>\n            <div class="flitClickInfo filBedInfo pull-left"\n                 show-dropdown="true"\n                 data-ga-event="Select_AnalyseBuilderSearch_Beds"\n                 data-ga-category="Builder Analysis"\n                 equal-type\n                 filter=\'filters.bed\'></div>\n            <div class="flitClickInfo filBudgetInfo pull-left" show-dropdown="true" data-ga-category="Builder Analysis" data-ga-event="Select_Budget" budget filter=\'filters.budget\'></div>\n            <div class="flitClickInfo filProjectInfo pull-left" show-dropdown="true" data-ga-event="Select_AnalyseBuilderSearch_Status" data-ga-category="Builder Analysis" equal-type filter=\'filters.projectStatus\'></div>\n            <div class="add-on btn-dd pull-right">\n                <button data-ng-if="!cityToShow" class="btn filtr-btn dropdown-toggle" data-toggle="dropdown">\n                    Select city\n                    <span class="pt pt-icon-angle-down iconArrow"></span>\n                </button>\n                <button data-ng-if="cityToShow" class="btn filtr-btn dropdown-toggle" data-toggle="dropdown">\n                    {{cityToShow | uppercase}}\n                    <span class="pt pt-icon-angle-down iconArrow"></span>\n                </button> \n                <ul class="dropdown-menu dd-list ta-left">\n                    <li data-ng-repeat="city in builderCities" data-ng-click="cityChanged(city)">\n                        <a>{{city | uppercase}}</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n\n\n\n</div>\n\n<div graph builder-id=\'builderId\'></div>\n</div>\n'}),define("text!views/controller/b2b/analysis/catchment.html",[],function(){return'<div class="sub-header">\n	<div class="container">\n        <div class="pt_row">\n            <div class="pt_col-1-10" data-ng-show="currentCatchment.status !== \'Inactive\'">\n	            <button class="btn btn-default" data-ng-click="backToCatchment();"><i class="pt  pt-icon-arrow-left"></i></button>\n            </div>\n            <div class="pt_col-6-10">\n                <span data-ng-if="currentCatchment.status !== \'Inactive\'"><strong class="lh35">Catchment Analysis of </strong>{{currentCatchment.name}}</span>\n                <span data-ng-if="currentCatchment.status === \'Inactive\'"><strong class="lh35">New Catchment</strong></span>\n            </div>\n            <div class="pt_col-2-10">\n                <span class="lh35">{{currentCatchment.projIds.length}}</span> Projects\n            </div>\n            <div class="pt_col-1-10 ta-right" data-ng-show="currentCatchment.status === \'Inactive\'">\n             	<button title="Save Catchment" class="btn btn-default" data-ng-click="saveCatchment();"><i class="pt  pt-icon-save"></i></button>\n            </div>\n		</div>\n	</div>\n</div>\n \n<div class="b2b-main-container transparent-wrap">\n\n<div class="filter-cntnr">\n    <div class="pt_row head">\n        <div class="pt_col-1-2">\n            <div class="filter-txt-wrap">\n                <i class="pt  pt-icon-filter"></i> <span class="filter-txt">Apply Filters</span> \n            </div>\n        </div>\n        <div class="pt_col-1-2 ta-right">\n            <span class="show-filtered-count" href="javascript:void(0)"><span class="nmbr">{{matchingProjects}}</span> Matching Projects </span>\n        </div>\n    </div>\n    <div class="pt_row body unlink-parent" data-ng-controller="filterCtrl">\n        <div class="searchFilterBar col-sm-6 col-md-12 col-lg-12">\n            <div class="flitClickInfo filListInfo pull-left" show-dropdown="true" equal-type filter=\'filters.propertyType\'></div>\n            <div class="flitClickInfo filBedInfo pull-left" show-dropdown="true" equal-type filter=\'filters.bed\'></div>\n            <div class="flitClickInfo filBudgetInfo pull-left" show-dropdown="true" show-dropdown="true" budget filter=\'filters.budget\'></div>\n            <div class="flitClickInfo filProjectInfo pull-left" show-dropdown="true" equal-type filter=\'filters.projectStatus\'></div>\n        </div>\n\n    </div>\n</div>\n\n<div graph catchment-id=\'catchmentId\'></div>\n</div>\n'}),define("text!views/controller/b2b/pt-knowledgebank.html",[],function(){return'<div class="b2b-main-container transparent-wrap">\n    <div class="pt_row">\n    	<div class="pt_col-1-4">\n            <div class="sidebarBox">\n                <div class="sidebarHeader">\n                    <span>Knowledge Bank</span>\n                </div>\n                <ul class="quickContactLink sidebarContContainer">\n                    <li><a href="javascript:void(0)">Saved Catchments</a></li>\n                    <!-- <li><a href="javascript:void(0)">News</a></li>\n                    <li><a href="javascript:void(0)">Master plans of Cities</a></li>\n                    <li><a href="javascript:void(0)">Real estate reports</a></li>\n                    <li><a href="javascript:void(0)">Private Equity Deals</a></li>\n                    <li><a href="javascript:void(0)">Project Database</a></li>-->\n                </ul>\n            </div>\n        </div>\n        <div class="pt_col-3-4">\n            <div class="pt_row contentBoxContainer marginB15 paddingTB20LR25 tabContainer">\n                <div class="contentHeader">\n                    <h4>Saved Catchments</h4>\n                </div>\n            \n                <div class="pt_row head" data-ng-show="savedCatchment &&  savedCatchment.length">\n                    <div class="pt_col-3-8"><strong>Catchment Name</strong></div>\n                    <div class="pt_col-3-8"><strong>Creation Date</strong></div>\n                    <div class="pt_col-2-8">&nbsp;</div>\n                </div>\n                <div class="text-center" data-ng-hide="savedCatchment &&  savedCatchment.length">\n                    <span>No saved catchment available.</span>\n                </div>\n                <div class="pt_row body row-alt-color" data-ng-repeat="catchment in savedCatchment">\n                    <div class="pt_col-3-8"><a class="put-ellipsis" once-text="catchment.name" data-ng-click="fetchCatchment(catchment);"></a></div>\n                    <div class="pt_col-3-8"><span once-text="catchment.createdAt | dateFormat:\'dd MMM, yyyy\'"></span></div>\n                    <div class="pt_col-2-8"><a href="/analysis/catchment/{{catchment.id}}" class="pt_col-1-2 ta-right"><i class="pt  pt-icon-bar-chart-o"></i> Analyse</a></div>\n                </div>\n            </div>\n        	\n<!--             <div class="pt_row contentBoxContainer marginB15 paddingTB20LR25 tabContainer">\n                <div class="contentHeader">\n                    <div class="pull-right">\n                        <select>\n                            <option>Most Recent</option>\n                            <option>january</option>\n                            <option>March</option>\n                        </select>\n                    </div>\n                    <h4>News</h4>\n                </div>\n            \n                <div class="pt_row paddingL15">\n                    <tabset justified="true">\n                        <tab heading="All Cities">\n                            <div class="details paddingB30">\n                               <p class="paddingB5">Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>\n                               <span class="grey_date">12 jan \'13   #Property #DLF #noida</span>\n                            </div>\n                            <div class="details paddingB30">\n                               <p class="paddingB5">Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>\n                               <span class="grey_date">12 jan \'13   #Property #DLF #noida</span>\n                            </div>\n                        </tab>\n                        <tab heading="City 1">\n                        </tab>\n                        <tab heading="City 2">\n                        </tab>\n                    </tabset>\n                </div>\n            </div>\n            <div class="pt_row contentBoxContainer marginT5 marginB15 paddingTB20LR25 tabContainer">\n                <div class="contentHeader">\n                    <h4>MasterPlan</h4>\n                </div>\n                <div class="thumbsHolder row-full">\n                	<div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="span3">\n                        <a href="javascript:void(0)">\n                            <div class="simil-prop-info">\n                                <img src="../../styles/images/424088.jpeg" alt="image" />\n                                <div class="simil-prop-detail-info">\n                                    Master plan\n                                </div>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class="pt_row contentBoxContainer marginT5 marginB15 paddingTB20LR25 tabContainer">\n        	<div class="contentHeader">\n                <h4>Real Estate Report</h4>\n            </div>\n            \n            <div class="pt_row paddingL15">\n            	<tabset justified="true">\n                	<tab heading="All Cities">\n                    	<div class="pull-right">\n                            <div class="pull-left paddingTB6LR10"><small>showing from Oct \'13 - Mar \'14</small></div>\n                            <div class="btn-dd pull-left">\n                                <button class="btn btn-default marginT5 dropdown-toggle" data-toggle="dropdown">\n                                select option <span class="caret"></span>\n                                </button>\n                                <ul data-ng-if="userInfo.type == 2" class="dropdown-menu dd-list">\n                                <li data-ng-repeat="city in userInfo.city" data-ng-click="cityChanged(city.id, city.name)">{{city.name}}</li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class="contentHeader clear">\n                        	<h5>Mar\'13</h5>\n                        </div>\n                        <ul class="paddingB20">\n                            <li><a href="javascript:void(0)">Noida Report</a></li>\n                            <li><a href="javascript:void(0)">Gurgaon Report</a></li>\n                            <li><a href="javascript:void(0)">Mumbai Report</a></li>\n                            <li><a href="javascript:void(0)">Pune Report</a></li>\n                        </ul>\n\n                        <div class="contentHeader clear">\n                        	<h5>Feb\'14</h5>\n                        </div>\n                        <ul class="paddingB20">\n                            <li><a href="javascript:void(0)">Noida Report</a></li>\n                            <li><a href="javascript:void(0)">Gurgaon Report</a></li>\n                            <li><a href="javascript:void(0)">Mumbai Report</a></li>\n                            <li><a href="javascript:void(0)">Pune Report</a></li>\n                        </ul>\n	                </tab>\n                    <tab heading="City 1">\n                    </tab>\n                    <tab heading="City 2">\n                    </tab>\n                </tabset>\n            </div>\n            </div>\n            <div class="pt_row contentBoxContainer marginT5 marginB15 paddingTB20LR25 tabContainer">\n        	<div class="contentHeader">\n                <h4>Private equity deals</h4>\n            </div>\n            \n            <div class="pt_row paddingL15">\n            	<tabset justified="true">\n                	<tab heading="All Cities">\n                    	<div class="pull-right">\n                            <div class="pull-left paddingTB6LR10"><small>showing from Oct \'13 - Mar \'14</small></div>\n                            <div class="btn-dd pull-left">\n                                <button class="btn btn-default marginT5 dropdown-toggle" data-toggle="dropdown">\n                                select option <span class="caret"></span>\n                                </button>\n                                <ul data-ng-if="userInfo.type == 2" class="dropdown-menu dd-list">\n                                <li data-ng-repeat="city in userInfo.city" data-ng-click="cityChanged(city.id, city.name)">{{city.name}}</li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class="contentHeader clear">\n                        	<h5>Mar\'13</h5>\n                        </div>\n                        <ul class="paddingB20">\n                            <li><a href="javascript:void(0)">Noida Deals</a></li>\n                            <li><a href="javascript:void(0)">Gurgaon Deals</a></li>\n                            <li><a href="javascript:void(0)">Mumbai Deals</a></li>\n                            <li><a href="javascript:void(0)">Pune Deals</a></li>\n                        </ul>\n\n                        <div class="contentHeader clear">\n                        	<h5>Feb\'14</h5>\n                        </div>\n                        <ul class="paddingB20">\n                            <li><a href="javascript:void(0)">Noida Deals</a></li>\n                            <li><a href="javascript:void(0)">Gurgaon Deals</a></li>\n                            <li><a href="javascript:void(0)">Mumbai Deals</a></li>\n                            <li><a href="javascript:void(0)">Pune Deals</a></li>\n                        </ul>\n	                </tab>\n                    <tab heading="City 1">\n                    </tab>\n                    <tab heading="City 2">\n                    </tab>\n                </tabset>\n            </div>\n            </div>\n            <div class="pt_row contentBoxContainer marginT5 marginB15 paddingTB20LR25 tabContainer">\n        	<div class="contentHeader">\n                <h4>Project Database</h4>\n            </div>\n            \n            <div class="pt_row paddingL15">\n            	<form class="form-horizontal">\n                    <div class="control-group">\n                        <label class="control-label" for="inputCity">City of Interest</label>\n                        <div class="controls">\n                            <div class="btn-dd pull-left">\n                            <button class="btn btn-default marginT5 dropdown-toggle" data-toggle="dropdown">\n                            select option <span class="caret"></span>\n                            </button>\n                            <ul data-ng-if="userInfo.type == 2" class="dropdown-menu dd-list">\n                            <li data-ng-repeat="city in userInfo.city" data-ng-click="cityChanged(city.id, city.name)">{{city.name}}</li>\n                            </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="control-group">\n                        <label class="control-label" for="inputloc">Localities, Projects</label>\n                        <div class="controls searchbox">\n                            <i class="pt  pt-icon-search"></i><input type="text" placeholder="Please enter a locality or Project number" class="input-xlarge">\n                        <ul class="searchtree_loc">\n                        <li><a href="javascript:void(0)"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="javascript:void(0)"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="javascript:void(0)"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="javascript:void(0)"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="javascript:void(0)"><span class="triangle-right paddingL5"></span>Locality1 name</a></li>\n                        <li><a href="javascript:void(0)"><span class="triangle-down marginR5"></span>Locality1 name</a>\n                        	<ul>\n                            	<li><a href="javascript:void(0)">project name</a></li>\n                                <li><a href="javascript:void(0)">project name</a></li>\n                                <li><a href="javascript:void(0)">project name</a></li>\n                                <li><a href="javascript:void(0)">project name</a></li>\n                                <li><a href="javascript:void(0)">project name</a></li>\n                            </ul>\n                        </li>\n                        </ul>\n                        </div>\n                    </div>\n                </form>\n               \n            </div>\n            </div> -->\n        </div>\n    </div>\n</div>';
}),define("text!views/controller/b2b/reset-password.html",[],function(){return'<div class="login-main-wrarpper">\n    <div class="ta-center">\n        <div class="marginT40 login">\n            <div class="text-error b2b-main-container transparent-wrap" data-ng-show="message.show">\n                {{message.text}}\n            </div>\n            <div class="login_window paddingL15">\n                <form data-ng-submit="resetPassword()" id="loginform" name="loginform" method="post">\n                    <div class="proplogo">\n                        <a href="/" target="_self">\n                            <i class="icons-inner-logo"></i>\n                        </a>\n                    </div>\n                    <!-- <div class="text-error paddingT15" data-ng-show="badCredentials">{{badCredentialsMessage}}</div> -->\n                    <label class="paddingT15">New Password</label>\n                    <input data-ng-model="user.newPassword" type="password" placeholder="New Password" class="input-xlarge">\n                    <label class="paddingT15">Confirm Pasword</label>\n                    <input data-ng-model="user.confirmNewPassword" type="password" class="input-xlarge"\n                           placeholder="Confirm Password">\n                    <div class="other_info">\n                    </div>\n                    <div class="proplogo">\n                        <button type="submit"\n                                analytics-on\n                                data-analytics-event="Click_ResetPassword"\n                                data-analytics-category="Reset Password"\n                                data-analytics-label="Submit"\n                                data-ng-class="{\'disabled\':disableLogin}" class="btn-action"\n                                data-ng-disabled="disableLogin">Submit\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>   '}),define("text!views/controller/b2b/forgot-password.html",[],function(){return'<div class="login-main-wrarpper">\n    <div class="ta-center">\n        <div class="marginT40 login">\n            <div class="text-error b2b-main-container transparent-wrap" data-ng-show="forgotPasswordMessage.show">\n                {{forgotPasswordMessage.text}}\n            </div>\n            <div class="login_window paddingL15">\n                <form data-ng-submit="forgotPassword()" id="loginform" name="loginform" method="post">\n                    <div class="proplogo">\n                        <a href="/" target="_self">\n                            <i class="icons-inner-logo"></i>\n                        </a>\n                    </div>\n                    <!-- <div class="text-error paddingT15" data-ng-show="badCredentials">{{badCredentialsMessage}}</div> -->\n                    <label class="paddingT15">User Name</label>\n                    <input data-ng-model="user.email" type="text" placeholder="User Name" class="input-xlarge">\n                    <div class="other_info">\n                    </div>\n                    <div class="proplogo">\n                        <button type="submit"\n                                analytics-on\n                                data-analytics-event="Click_ForgotPassword"\n                                data-analytics-category="Forgot Password"\n                                data-analytics-label="Submit"\n                                class="btn-action">Reset Password</button>\n                        <button type="button"\n                                analytics-on\n                                data-analytics-event="Click_ForgotPassword"\n                                data-analytics-category="Forgot Password"\n                                data-analytics-label="Cancel"\n                                class="btn-action" data-ng-click="forgotPasswordCancel()">Cancel</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>   '}),define("text!views/controller/b2b/terms-and-condition.html",[],function(){return'<div class="b2b-main-container marginT5 marginB15 preference transparent-wrap">\n    <h4><strong>Please agree to term &amp; conditions given below.</strong></h4>\n    <div class="termsBox">\n        <h4>End-User License Agreement</h4>\n        <p>This user license is an agreement between you (subscribers/licensees/licensee), as an individual licensee and\n            the\n            Aarde Technosoft Private Limited.</p>\n        <p>\n            <strong>Aarde Technosoft Private Limited</strong>, incorporated and registered in India with Company\n            Identification Number U72300UP2013PTC056204 having registered office is at D-12, Sector 3, Noida – 201301\n            (hereinafter referred as Supplier). The supplier has developed a specialised online platform presently\n            accessible on the web address www.proptiger.com (platform), through which it provides the services (defined\n            below) to its subscribers/licensees on a scheduled payment basis. By clicking I agree\n            subscribers/licensees/licensee agree that this agreement is enforceable like any written negotiated\n            agreement\n            signed by you, and you agree to be bound by the terms and conditions of this agreement. If you do not agree\n            to\n            be bound by the terms and conditions of this agreement, do not download, install or use any part of the\n            service\n            provided by the Supplier\n        </p>\n\n        <h3>Agreed terms</h3>\n        <h2>Interpretation</h2>\n        <p>\n            The definitions and rules of interpretation in this clause apply in this agreement.\n        </p>\n        <p>\n            Authorised User: means:(a) in case the Subscriber is an individual, the Subscriber himself, and (b) in case\n            the\n            Subscriber is any other person, each employee, director, officer and/or authorised representative of the\n            Subscriber whose name is listed in the Subscription Agreement and who is legally or contractually entitled\n            to\n            access the Services on the Subscriber’s behalf; but does not include any person who is, directly or\n            indirectly\n            affiliated with, a competitor of the Supplier.\n        </p>\n        <p>\n            Business Day: means a day other than a Saturday, Sunday or a public holiday in Noida, Uttar Pradesh when\n            banks\n            in Noida, Uttar Pradesh are open for business.\n        </p>\n        <p>\n            Confidential Information: means information that is proprietary or confidential and is either clearly\n            identified\n            as such or in the circumstances of disclosure should be treated as Confidential Information in clause 15.\n        </p>\n        <p>\n            <strong>Intellectual Property Rights</strong>: mean and include (i) all rights, title and interest under any\n            statute or under\n            common law, including copyrights, trademarks, Moral Rights, rights to goodwill and any similar rights in\n            respect\n            of the Subscription Product and the Platform, anywhere in the world, whether negotiable or not; (ii) any\n            licenses, permissions, grants and registrations in connection therewith; (iii) applications for any of the\n            foregoing and the right to apply for them in any part of the world; (iv) right to obtain, transfer and hold\n            appropriate registrations in Subscription Product and the Platform anywhere in the world and all extensions\n            and\n            renewals thereof; and (vi) causes of action in the past, present or future, related thereto, including the\n            rights to damages and profits, due or accrued, arising out of past, present or future infringements or\n            violations thereof and the right to sue for and recover the same. “Moral Rights” means any rights to claim\n            authorship of a work, any right to object to any distortion or other modification of a work, and any similar\n            right, existing under the laws of any country, or under any treaty.\n        </p>\n        <p><strong>Normal Business Hours</strong>: means 10:00 AM TO 6:00 PM Indian Standard Time, each Business Day.\n        </p>\n        <p><strong>Permitted Use</strong>: means the limited purpose and/or intended use of the Services detailed in\n            Schedule 1 of the Subscription Agreement, for which the Services are being provided by the Supplier, and\n            utilised by the Subscriber, in terms of this agreement, and includes any rights and/or restrictions\n            associated\n            therewith as may be specified herein. </p>\n        <p>\n            <strong>Platform</strong>: has the meaning given to it in the Background above and includes such other web\n            address (es) notified by the Supplier to the Subscriber from time to time.\n        </p>\n\n        <p>\n            <strong>Renewal Period</strong>: means the period mentioned in the Subscription Agreement.\n        </p>\n\n        <p>\n            <strong>Services</strong>: means the subscription services provided by the Supplier to its subscribers on a\n            scheduled payment basis, in relation to certain scheduled, limited and pre-agreed cities and regions of\n            India as\n            set out in Schedule 2 of the Subscription Agreement , which include the agreed number of licenses to use the\n            Platform and Subscription Product provided to the Subscriber in terms of clause 1 and Schedule 2, as part of\n            such subscription services.\n        </p>\n\n        <p>\n            <strong>Subscription Agreement</strong>: means the agreement entered between the Supplier with its\n            subscribers\n            providing all the details of the license, validity, tenure, user details, payment details and other related\n            details for using the Platform and subscription product. This Subscription Agreement shall be a part of this\n            Agreement.\n        </p>\n\n        <p>\n            <strong>Subscription Fees</strong>: means the subscription fees payable by the Subscriber to the Supplier\n            for\n            the Services as set out in Subscription Agreement.\n        </p>\n        <p>\n            <strong>Subscription Product</strong>: means all written content, including documents, information,\n            analysis,\n            reports, presentations, compilations, news material and articles, published works/material, etc., in\n            relation to\n            the existing and upcoming real estate projects, including but not limited to, information relation to their\n            location, nearby amenities, master plan data, price, available inventory, builder data; analysis on new\n            projects, market environment and current trends, etc., for the cities and regions of India as set out in\n            Schedule 2, prepared and/or made available by the Supplier to the Subscriber as part of the Services, via\n            the\n            Platform or other mode(s) of electronic or contemporaneous communication.\n\n        </p>\n        <p>\n\n            <strong>Subscription Term</strong>: has the meaning given in Subscription Agreement (being the Initial\n            Subscription Term together with any subsequent Renewal Periods).\n        </p>\n\n        <p>\n            <strong>Service Request(s)</strong> has the meaning given in clause 7.7.\n        </p>\n\n\n        <p>\n\n            Virus: means anything or device (including any "back doors", "time bombs", "trojan horses", "worms", "drop\n            dead\n            devices", or other computer software code, or routines, or hardware or software components, files or\n            programmes,\n            or other similar things or devices) which may: prevent, impair or otherwise adversely affect the operation\n            of\n            any computer software, hardware or network, any telecommunications service, equipment or network or any\n            other\n            service or device; prevent, impair or otherwise adversely affect access to or the operation of any programme\n            or\n            data, including the reliability of any programme or data (whether by re-arranging, altering or erasing the\n            programme or data in whole or part or otherwise); or adversely affect the user experience.\n\n        </p>\n\n        <p>\n\n            Any Clause, schedule and paragraph headings shall not affect the interpretation of this agreement.\n        </p>\n\n        <p>\n            References to clauses and schedules are to the clauses and schedules of this agreement; references to\n            paragraphs\n            are to paragraphs of the relevant schedule to this agreement.\n            Services\n\n        </p>\n\n        <ul>\n            <li>\n                Subject to the Subscriber subscribing to the Services in accordance with the terms and conditions of\n                this\n                agreement and the restrictions set out in this clause 2, the Supplier hereby grants to the Subscriber, a\n                non-exclusive, limited, revocable, non-transferable and non-assignable:\n                right to receive and use the Services;license and right to receive and use the Subscription Product\n                provided\n                in relation to, and as part of, the Services in accordance with Schedule 1 of the Subscription\n                Agreement;\n                and license and right to access and use the Platform, whose access is provided in relation to, as part\n                of,\n                and for enabling the use of, the Services,\n                for utilisation towards the Permitted Use, during the Subscription Term\n            </li>\n\n            <li>\n                <strong>The services shall be provided on an ‘as is basis’ and the supplier will host the subscription\n                    product on the platform to be procured by the subscriber through the usernames and passwords to be\n                    provided by the supplier.</strong>\n                In order to access the Services, including the Subscription Product, each Authorised User shall have an\n                account which shall be password protected. In this regard, the Supplier will provide the Subscriber with\n                account details (including user names and passwords) for each Authorised User, which details will need\n                to be\n                kept confidential by the Subscriber and/or the respective Authorised User. In the event of change of\n                Authorised Users, the Subscriber shall promptly inform the Supplier in writing of such change, to enable\n                the\n                Supplier issue new usernames and passwords for the new Authorised Users and disable access to Services\n                for\n                the erstwhile Authorised Users, and to this end, Schedule 1 of the Subscription Agreement would stand\n                amended accordingly. Provided that the Supplier will not be deemed liable in case of any unauthorised\n                access\n                to the Services by or on behalf of an erstwhile Authorised User, after such person ceases to be an\n                Authorised User, and prior to disabling of his access to the Services in terms of this clause 2.2.\n            </li>\n\n\n        </ul>\n\n        <p>\n            The supplier shall provide updates and revisions to the subscription product on a quarterly basis. However,\n            the\n            supplier may update and modify the subscription product earlier than the scheduled quarterly updates in its\n            sole\n            discretion, but not as an obligation.\n\n        </p>\n        <p>\n            <strong>Acknowledgement of Title</strong>: The Subscribers/licensee acknowledges and agrees that, subject to\n            the\n            disclaimers clause, the Supplier and/or its licensors own all Intellectual Property Rights in the Services,\n            including the Platform and the Subscription Product, and the Subscribers/licensee shall not (and shall\n            ensure\n            that the Authorised Users do not) do anything inconsistent with such ownership, or dispute or claim such\n            ownership during the Subscription Term or thereafter. Except as expressly stated herein, this agreement does\n            not\n            grant the Subscribers/licensee any rights to, or interest in, the Intellectual Property Rights, or any other\n            rights or licences in respect of the Services or the Subscription Product.\n            License. supplier hereby grants you a revocable, limited, non-exclusive license during the term of the\n            Agreement\n            to use the product content solely for your personal, use, and subject to the limitations set forth in the\n            Agreement. Licensors grant non-exclusive licenses and not exclusive licenses or assignments. All rights not\n            expressly granted in this Agreement are reserved.\n        </p>\n        <p>Representation and liabilities of the Subscribers/licensee</p>\n\n        <ul>\n            <li>\n\n                By accepting these covenants and availing data using the user names and passwords the\n                subscribers/licensees/Licensee represents that they are the authorised user to use the service by the\n                supplier and:\n                subscribers/licensees/Licensee will be solely liable for any use or misuse of the Services by any\n                Authorised\n                User on its behalf, including in a case of breach of any of the provisions of this agreement directly or\n                indirectly attributable to the use of Services by an Authorised User;\n                if it becomes aware that an account has been created to access the Services by or for any person who is\n                not\n                an Authorised User, then the Subscribers/licensee shall promptly disable such account or request the\n                Supplier in writing to do so;\n                the scope and extent of an Authorised User’s access to the Services is limited to, and will not in any\n                manner exceed, the scope of rights granted to the Subscribers/licensee under this agreement. Subject to\n                foregoing, any suspension or withdrawal of the Subscribers/licensee’s access to the Services (or any\n                part\n                thereof) in terms of this agreement, will result in a corresponding suspension or withdrawal (as the\n                case\n                may be) of every Authorised User’s access to the Services, in the same manner and to the same extent;\n                it will not allow an Authorised User to raise or institute any claim of whatsoever nature arising under\n                this\n                agreement, directly or indirectly, against the Supplier in any manner, unless such claim is made for and\n                on\n                behalf of the Subscribers/licensee;\n                it shall, and shall ensure that an Authorised User shall, keep the login or access information provided\n                by\n                the Supplier for accessing the Services, secure and confidential at all times;\n                The Subscribers/licensee shall not use the Services (including the Subscription Product or any part\n                thereof)\n                for any purpose, or access, store, distribute or transmit any Viruses or any other material during the\n                course of its use of the Services, that:\n                is unlawful, harmful, threatening, defamatory, obscene, infringing, harassing or racially or ethnically\n                offensive and/or promotes unlawful violence; and/or facilitates illegal activity;\n                results in loss or unauthorised disclosure of the Confidential Information of either party or any other\n                person;\n                influences functionality of the Platform, or the computers on which the Platform is accessed;\n                in a manner that is otherwise illegal or causes or facilitates damage or injury to any person (including\n                reputation) or property; or\n                exceeds the scope of Permitted Use,\n                and in the event of act or omission committed in breach of this clause 2, the Supplier reserves the\n                right,\n                without liability or prejudice to its other rights to the Subscribers/licensee, to temporarily or\n                permanently disable the Subscribers/licensee’s access to the Services, in its sole discretion.\n            </li>\n\n            <li>\n                The Subscribers/licensee shall not:\n                except as may be allowed by any applicable law which is incapable of exclusion by agreement between the\n                parties and/or except to the extent expressly permitted under the Subscription agreement (Permitted\n                Use):\n                attempt to copy, modify, duplicate, create derivative works from, frame, mirror, republish, download,\n                display, transmit, or distribute all or any portion of the Platform (including its source code) and/or\n                Subscription Product (as applicable) in any form or media or by any means; or\n                attempt to reverse compile, disassemble, reverse engineer or otherwise reduce to human-perceivable form\n                all\n                or any part of the Platform (including its source code) and/or the Subscription Product; or\n                access all or any part of the Services in order to build a product or service which competes with the\n                Services (including the Subscription Product); or\n                license, sell, rent, lease, transfer, assign, distribute, display, disclose, or otherwise commercially\n                exploit, or otherwise make the Services (including the Subscription Product) available to any third\n                party\n                except the Authorised Users in terms of this agreement; or\n                attempt to obtain, or assist third parties in obtaining, access to the Services and/or Subscription\n                Product.\n            </li>\n\n        </ul>\n\n        <p>\n            The Subscribers/licensee shall use all reasonable endeavours to prevent any unauthorised access to, or use\n            of,\n            the Services and/or the Subscription Product and, in the event of any such unauthorised access or use,\n            promptly\n            notify the Supplier.\n        </p>\n\n        <p>\n            The rights provided under this clause are granted to the Subscribers/licensee only, and shall not be\n            considered\n            granted to any subsidiary or holding company of the Subscribers/licensee.\n        </p>\n\n        <p>\n\n            The Subscribers/licensee shall defend, indemnify and hold harmless the Supplier, and its affiliates and\n            their\n            respective officers, directors and employees from and against all claims, actions, proceedings, losses,\n            damages,\n            expenses and costs (including without limitation court costs and reasonable legal fees) arising out of or in\n            connection with (directly or indirectly): (i) the Subscribers/licensee\'s and/or an Authorised User’s use of\n            the\n            Services (including the Platform and/or Subscription Product) at variance with the terms of this agreement,\n            or\n            (ii) the breach of the Subscribers/licensees’ representations, warranties or undertakings contained in this\n            agreement or any other terms hereof, or (iii) the violation of applicable laws by the Subscribers/licensee\n            and/or an Authorised User, and shall indemnify the Subscribers/licensee for any amounts awarded against the\n            Subscribers/licensee in judgment or settlement of such claims.\n\n        </p>\n\n\n        <p>\n            The Subscribers/licensee acknowledges and agrees that, subject to the disclaimers clause, the Supplier\n            and/or\n            its licensors own all Intellectual Property Rights in the Services, including the Platform and the\n            Subscription\n            Product, and the Subscribers/licensee shall not (and shall ensure that the Authorised Users do not) do\n            anything\n            inconsistent with such ownership, or dispute or claim such ownership during the Subscription Term or\n            thereafter.\n            Except as expressly stated herein, this agreement does not grant the Subscribers/licensee any rights to, or\n            interest in, the Intellectual Property Rights, or any other rights or licences in respect of the Services or\n            the\n            Subscription Product.\n\n        </p>\n\n        <p>\n\n            he Subscribers/licensee shall:\n            comply with all applicable laws and regulations with respect to its activities under this agreement;\n            comply with the terms and conditions and privacy policy governing the use of the Platform, notwithstanding\n            that\n            the compliance with any of the terms thereof may have been waived under this agreement whether by\n            implication or\n            specification;\n            carry out all other Subscribers/licensee responsibilities set out in this agreement in a timely and\n            efficient\n            manner;\n            abide by its representations, warranties, undertakings and covenants in this agreement, including without\n            limitation in Schedule 1 , relating to the Authorised Users’ and its use of the Services;\n            be solely responsible for procuring and maintaining its network connections and telecommunications links\n            from\n            its systems to access the Services, including the Platform and the Subscription Product, and all problems,\n            conditions, delays, delivery failures and all other loss or damage arising from or relating to the\n            Subscribers/licensee\'s network connections or telecommunications links or caused by the internet.\n            Suppliers rights and liabilities\n        </p>\n\n        <p>\n            The Supplier undertakes that the Services will be performed substantially in accordance with this agreement,\n            with reasonable skill and care and at levels consistent with the prevalent industry standards.\n        </p>\n\n        <p>\n            The Supplier undertakes that in providing the Services in terms of this agreement, it will not breach any\n            duty\n            it owes to, or rights of, any third party under any contract or otherwise.\n        </p>\n\n        <p>\n            The Supplier shall manage and administer the Services strictly in terms of this agreement and it shall not\n            alter\n            the scope of Services at any time during the Subscription Term, without prior written consultation with the\n            Subscribers/licensee.\n        </p>\n\n        <p>\n\n            The Supplier shall use commercially reasonable endeavours to ensure that the Subscription Product can be\n            accessed, and is fully functional when accessed, on computer systems, tablets and mobile phones running on a\n            majority of the popular and commonly used operating systems in use from time to time.\n\n        </p>\n\n        <p>\n            The Supplier will make use commercially reasonable endeavours to keep the Subscription Product Virus-free\n            and\n            will reasonable efforts to ensure that the Subscription Product cannot be hacked or accessed in an\n            unauthorised\n            manner or tampered with in any manner.\n        </p>\n\n        <p>\n            The Supplier shall use commercially reasonable endeavours to make the Services available at least 99%\n            (ninety-nine percent) of the time during 24 (twenty-four) hours a day, and 7 (seven) days a week, as may be\n            mapped at monthly intervals, except for planned maintenance or schedule down time which shall be informed to\n            the\n            subscribers/licensees/Licensee prior in advance\n\n        </p>\n\n\n        <p>\n\n            The Supplier will, as part of the Services and at no additional cost to the Subscribers/licensee, provide\n            the\n            Subscribers/licensee with the Supplier’s standard customer support services during Normal Business Hours.\n            All\n            requests for support in relation to the Services and any defects in implementation thereof (Service\n            Request(s))\n            shall be made by Subscribers/licensee to dedicated/designated telephone number(s) provided by Supplier at\n            the\n            time of execution of this agreement, which shall be operational during Normal Business Hours. A Service\n            Request\n            may also be made via e-mail at customer.service-datalabs@proptiger.com.\n        </p>\n\n        <p>\n\n            A Service request may be resolved and/or closed by providing a resolution or steps towards a resolution, a\n            workaround, configuration changes, escalating a bug report and/or resolving the bug issues. Supplier will\n            endeavour to meet, and even exceed when possible, the levels of Services proposed to be provided under this\n            agreement. The resolution of all Services Requests shall be prompt and in any case, all critical issues,\n            relating to (or affecting) the core functionality of the Services, and hampering the continued usage of\n            Services, shall be resolved within 8 (eight) Normal Business Hours of the respective Service Requests, and\n            all\n            other issues must be resolved within 24 (twenty four Normal Business Hours of the respective Service\n            Requests.\n            Provided that the Supplier shall estimate the resolution time of each Service Request, and in case the\n            resolution of a Service Request is expected to take more than the resolutions times stated in this clause,\n            due\n            to reasons beyond the reasonable control of the Supplier, the Supplier shall inform the Subscribers/licensee\n            accordingly, and attempt to resolve the Service Request at the earliest.\n        </p>\n\n        <p>\n\n            his agreement shall not prevent the Supplier from entering into similar agreements with third parties, or\n            from\n            independently developing, using, selling or licensing reports, products and/or services which are similar to\n            those provided under this agreement, including where any such third party(ies) is/are competitor(s) of the\n            Subscribers/licensee.\n        </p>\n\n        <p>\n\n            The Supplier warrants that it has and will maintain all necessary licences, consents, and permissions\n            necessary\n            for the performance of its obligations under this agreement.\n            the Supplier:\n            does not warrant that the Subscribers/licensee\'s use of the Services will be uninterrupted or error-free; or\n            that the Services, Subscription Product and/or the information obtained by the Subscribers/licensee through\n            the\n            Services will meet or be specifically customised according to the Subscribers/licensee\'s requirements;\n            is not responsible for any delays, delivery failures, or any other loss or damage resulting from the\n            transfer of\n            data over communications networks and facilities, including the internet, and the Subscribers/licensee\n            acknowledges that the Services (including the Platform and Subscription Product) may be subject to\n            limitations,\n            delays and other problems inherent in the use of such communications facilities.\n            is not responsible for any loss or liability suffered as a result of any transaction entered or proposed to\n            be\n            entered into by the Subscribers/licensee or any other person (including an Authorised User), upon placing\n            any\n            direct or indirect reliance on the Services, Subscription Product and/or any information obtained through\n            the\n        </p>\n        <p>\n            Services is not responsible for any loss or liability suffered as a result of any disclosure by the\n            Subscribers/licensee\n            or any other person (including an Authorised User), of any Confidential Information of the Supplier in a\n            manner\n            not authorised under this agreement, and/or any information made available to the Subscribers/licensee\n            during\n            the provision of Services (including the Subscription Product) in pursuance of this agreement whose\n            disclosure\n            is subject to the Supplier’s or any third party’s prior consent or directions (whether or not designated as\n            such), as the case may be;\n            is not responsible for any loss or liability suffered as a result of the Subscribers/licensee’s and/or any\n            Authorised User’s non-compliance with the terms of this agreement and/or any other document referred herein.\n            Continuity and Support\n        </p>\n\n        <p>\n\n            The Supplier shall use commercially reasonable endeavours to make the Services available at least 99%\n            (ninety-nine percent) of the time during 24 (twenty four) hours a day, and 7 (seven) days a week, as may be\n            mapped at monthly intervals, except for:\n            planned maintenance or scheduled down time outside Normal Business Hours, including for making changes as\n            specified in the Platform and/or the Subscription Product, and ordinarily during the maintenance/down time\n            window of 10:00 p.m. to 12:00 p.m. India time, and/or such other times/windows as may be notified by the\n            Supplier to the Subscriber at least 24 (twenty four) hours in advance;\n            unscheduled maintenance carried out during or outside Normal Business Hours, provided that the Supplier has\n            used\n            reasonable endeavours to give the Subscriber at least 4 (four) hours’ notice in advance;\n            unscheduled or unexpected down time or interruption in Services caused by factors beyond the reasonable\n            control\n            of the Supplier, including due to any acts or omission of a third party, the Subscriber and/or any\n            Authorised\n            User;\n            suspension or withdrawal of the Subscriber’s the right to access the Services (or any part thereof) in terms\n            of\n            this agreement.\n            However, the Supplier shall inform the Subscriber accordingly, and attempt to resolve the Service Request at\n            the\n            earliest.\n            A Service Request by Subscriber for customer support may be made via e-mail at\n            customer.service-datalabs@proptiger.com.\n        </p>\n\n\n        <h4>Proprietary Rights</h4>\n\n\n        <p>\n\n            The Subscriber acknowledges and agrees that, subject to the disclaimers as stated herein, the Supplier\n            and/or\n            its licensors own all Intellectual Property Rights in the Services, including the Platform and the\n            Subscription\n            Product, and the Subscriber shall not (and shall ensure that the Authorised Users do not) do anything\n            inconsistent with such ownership, or dispute or claim such ownership during the Subscription Term or\n            thereafter.\n            Except as expressly stated herein, this agreement does not grant the Subscriber any rights to, or interest\n            in,\n            the Intellectual Property Rights, or any other rights or licences in respect of the Services or the\n            Subscription\n            Product.\n\n        </p>\n\n        <p>\n            The Supplier confirms that it has the rights in relation to the Services and the Subscription Product that\n            are\n            necessary to grant all the rights it purports to grant under, and in accordance with, the terms of this\n            agreement.\n        </p>\n\n        <p>\n            The Supplier shall endeavour to notify the Subscriber in writing of any of the following matters which comes\n            to\n            its attention at any point in time:\n            any actual, suspected or threatened infringement of the Intellectual Property Rights;\n            any other form of attack or claim to which the Subscription Product or the Intellectual Property Rights\n            therein\n            may be subject.\n            The Subscriber shall provide any reasonable assistance which the Supplier requires in connection with any of\n            the\n            matters as discussed in this clause at the cost of the Supplier.\n            The Supplier be allowed to use the logo and name of the Subscriber for its marketing activities with\n            prospective\n            clients.\n        </p>\n\n        <p>\n            <strong>Disclaimers:</strong>\n            Except as expressly stated in this agreement, with respect to the deliverables of the Supplier hereunder,\n            the\n            Supplier makes no warranties, express or implied, including but not limited to the implied warranties of\n            fitness\n            for a particular purpose, merchantability, quiet enjoyment, quality of information, or\n            title/non-infringement\n            and all such warranties required by statute or common law or otherwise are hereby specifically disclaimed.\n        </p>\n        <p>\n            Subject to the terms of this agreement, and without prejudice to clauses of this Agreement, the Supplier\n            further\n            hereby disclaims as under:\n            any intellectual property related to the real estate projects and developments belonging to third parties,\n            including any trademarks, service marks, designs, photographs, literary works, patterns, colour schemes,\n            layouts\n            and trade names, that may appear during the course of utilisation of the Services (including in the\n            Subscription\n            Product), are the property of their respective owners;\n            the Supplier makes no representations and warranties, express or implied, regarding the accuracy and/or\n            quality\n            of any information provided and/or obtained through the use of the Services;\n            any information provided or obtained through the use of Services, including details of any real\n            estate/property,\n            neither constitute an offer or contract, nor part of one. The Supplier does not have any authority to make\n            any\n            representations about any real estate/property promoted, analysed, assessed, marketed, posted, valued or\n            disused\n            during the provision of Services (including in the Subscription Product), and the Subscriber is advised to\n            independently verify any statements made in respect of any real estate/property with the owner or developer\n            thereof, or any other person legally or contractually entitled to deal in the same;\n            the Services provided under this agreement, including specifically the Subscription Product, rely on\n            information\n            obtained from several public and non-public third party sources, such as, without limitation, information\n            provided by project owners/developers, real estate brokers and agents, unit owners, local/nearby residents,\n            newspapers, magazines and other published and non-published materials/news portals, media coverage, third\n            party\n            satellite data and maps, project brochures and other publicity materials, etc. The Supplier makes every\n            reasonable effort to independently ascertain the accuracy of any information of a third party origin, before\n            using it for provision of the Services (including publishing it on the Platform and/or including it in the\n            Subscription Product), and where possible or deemed prudent, the Supplier also cites the sources of the\n            respective information in the interest of full and complete disclosure to its subscribers. However,\n            notwithstanding anything contained herein or elsewhere, the Supplier makes no warranties, express or\n            implied, in\n            relation to the accuracy or reliability of any such information or data of a third party origin, which is\n            used\n            and/or relied on by the Supplier during the provision of Services in terms of this agreement, and all such\n            warranties are hereby specifically disclaimed;\n            the Supplier shall, at all times during the Subscription Term and thereafter, retain the unilateral right to\n            change the user interface of the Platform, including without limitation, the design, colour-coding, layout,\n            pattern, fonts, links, accessibility, tone, tenor, etc., and/or make any similar or other changes to the\n            Subscription Product, which changes may directly or indirectly affect the user experience of the Subscriber\n            using the Services. Except as otherwise specified in this agreement, the Supplier will not be required to\n            obtain\n            the prior permission of, or give prior intimation to, the Subscriber before undertaking any such changes,\n            and\n            the Supplier will not be liable for any loss or liability arising as a result of any such changes or as a\n            result\n            of its failure to take permission from, or give intimation to, the Subscriber in respect of any such\n            changes;and\n            the Supplier does not exercise any kind of supervisory or editorial control over and/or assume any\n            responsibility for any views, opinions or comments posted by third party users of the Platform, on the\n            Platform.\n        </p>\n        <p>\n            However, the Supplier reserves the right to remove any such posts if it is of the opinion that such posts or\n            comments are derogatory, unlawful, misleading, defamatory, immoral or otherwise opposed to the virtues of\n            civilised communication. The Supplier hereby specifically disclaims all liabilities arising from the\n            Subscriber’s reliance on the content of any such views, opinions or comments posted by third party users of\n            the\n            Platform, on the Platform.\n        </p>\n\n        <p>\n\n            <strong>Subscriber Data</strong>\n            The parties acknowledge that the nature of Services provided under this agreement is not such that requires\n            the\n            Subscriber (and/or an Authorised User) to provide any personal or sensitive data or information to the\n            Supplier.\n            However, in case the Supplier is required to collect such data or information from the Subscriber (or any\n            Authorised User) for purposes of efficiently providing Services under this agreement, then, in such case:\n            the Supplier shall implement the such data security protocols to protect such data or information from\n            unauthorised disclosure, as would be consistent with the Supplier’s data privacy obligations under the\n            applicable laws of India;\n            the Subscriber shall ensure that the relevant Authorised Users have been informed of, and have given their\n            consent to, such use, processing, and transfer as required by all applicable data protection legislation;\n            the Subscriber shall ensure that the Subscriber is entitled to transfer the relevant personal or sensitive\n            data\n            to the Supplier so that the Supplier may lawfully use, process and transfer the personal data in accordance\n            with\n            this agreement on the Subscriber\'s behalf; and\n            each party shall take appropriate technical and organisational measures against unauthorised or unlawful\n            processing of the personal data or its accidental loss, destruction or damage.\n        </p>\n\n\n        <p>\n\n\n            <strong>Confidentiality</strong>\n            Each party may be given access to Confidential Information from the other party in order to perform its\n            obligations under this agreement and Subscription Agreement. A party\'s Confidential Information shall not be\n            deemed to include information that:\n            is or becomes publicly known other than through any act or omission of the receiving party;\n            was in the other party\'s lawful possession before the disclosure;\n            is lawfully disclosed to the receiving party by a third party without restriction on disclosure;\n            is independently developed by the receiving party, which independent development can be shown by written\n            evidence; or\n            is required to be disclosed by law, by any court of competent jurisdiction or by any regulatory or\n            administrative body.\n\n        </p>\n\n        <p>\n\n            Each party shall hold the other\'s Confidential Information in confidence and, unless required by law, not\n            make\n            the other\'s Confidential Information available to any third party, or use the other\'s Confidential\n            Information\n            for any purpose other than the implementation of this agreement.\n\n        </p>\n\n        <p>\n\n            Each party shall take all reasonable steps to ensure that the other\'s Confidential Information to which it\n            has\n            access is not disclosed or distributed by its employees or agents in violation of the terms of this\n            agreement.\n        </p>\n\n        <p>\n            The Subscriber acknowledges that details of the Services, and the Subscription Product, shall be included as\n            part of the Supplier\'s Confidential Information.\n\n        </p>\n\n        <p>\n            This clause 15 shall survive termination of this agreement, however arising.\n\n        </p>\n\n        <p>\n\n            No party shall make, or permit any person to make, any public announcement concerning this agreement without\n            the\n            prior written consent of the other parties (such consent not to be unreasonably withheld or delayed), except\n            as\n            required by law, any governmental or regulatory authority (including, without limitation, any relevant\n            securities exchange), any court or other authority of competent jurisdiction. Provided however, that the\n        </p>\n        <p>\n            Supplier will be entitled to use the details of the Subscriber (as a consumer of Services) in any\n            promotional,\n            marketing, advertising, soliciting and/or publicity material relating to the Services or any part thereof,\n            without disclosing any personal or commercial terms agreed between the parties under this agreement, and\n            applicability of the confidentiality obligations under this clause 15 will, to this extent, stand excluded\n            accordingly.\n        </p>\n\n        <p>\n\n            <strong>Indemnity</strong>\n            Subject to the terms of this agreement, the Supplier shall defend the Subscriber against any direct claims\n            that\n            the Services infringe any intellectual property right of a third party, provided that:\n            the Supplier is given prompt notice of any such claim;\n            the Subscriber provides reasonable co-operation to the Supplier in the defence and settlement of such claim,\n            at\n            the Supplier\'s expense; and\n            the Supplier is given sole authority to defend or settle the claim.\n\n        </p>\n        <p>\n            In the defence or settlement of any claim, the Supplier may its sole discretion procure the right for the\n            Subscriber to continue using the Services, or replace or modify the Services so that they become\n            non-infringing,\n            or if such remedies are not reasonably available, terminate this agreement with immediate effect without any\n            additional liability or obligation to the Subscriber.\n            In no event shall the Supplier, its employees, agents and sub-contractors be liable to the Subscriber to the\n            extent that the alleged infringement is based on:\n            a modification of the Services by anyone other than the Supplier; or\n            the Subscriber\'s use of the Services in a manner contrary to the instructions given to the Subscriber by the\n        </p>\n        <p>\n\n            Supplier in terms of this Agreement; or\n            the Subscriber\'s continued use of the Services after notice of the alleged or actual infringement from the\n            Supplier or any appropriate authority.\n        </p>\n\n        <p>\n            The foregoing and clause 17.2(b) states the Subscriber\'s sole rights and remedies, and the Supplier\'s\n            (including\n            the Supplier’s employees\', agents\' and sub-contractors’) entire obligations and liability, for infringement\n            of\n            any third party intellectual property rights.\n        </p>\n\n        <p>\n            <strong>Limitation of Liability</strong>\n            This clause sets out the entire financial liability of the Supplier (including any liability for the acts or\n            omissions of its employees, agents and sub-contractors) to the Subscriber:\n            arising under or in connection with this agreement;\n            in respect of any use made by the Subscriber of the Services or any part of them; and\n            in respect of any representation, statement or tortious act or omission (including negligence) arising under\n            or\n            in connection with this agreement.\n        </p>\n        <p>\n            Subject to clause 17.1:\n            both parties shall not be liable whether in tort (including for negligence or breach of statutory duty),\n            contract, misrepresentation, restitution or otherwise for any loss of profits, loss of business, depletion\n            of\n            goodwill and/or similar losses or loss or corruption of data or information, or pure economic loss, or for\n            any\n            special, indirect or consequential loss, costs, damages, charges or expenses however arising under this\n            agreement; and\n            the Supplier\'s total aggregate liability in contract (including in respect of the indemnity at clause 16.2),\n            tort (including negligence or breach of statutory duty), misrepresentation, restitution or otherwise,\n            arising in\n            connection with the performance or contemplated performance of this agreement shall be limited to the total\n        </p>\n        <p>\n            Subscription Fees paid for the Services during the 12 (twelve) months immediately preceding the date on\n            which\n            the claim arose.\n        </p>\n\n        <p>Term and Termination </p>\n        <ul>\n            <li>\n                This Agreement shall for the term accordance with the Subscription Agreement.\n\n            </li>\n            <li>\n                Without affecting any other right or remedy available to it, either party may terminate the Subscription\n                Agreement as per the clause mentioned in the Subscription agreement\n            </li>\n        </ul>\n\n        <p>\n            Force majeure\n            Neither party shall have any liability to the other party under this agreement if it is prevented from or\n            delayed in performing its obligations under this agreement, or from carrying on its business, by acts,\n            events,\n            omissions or accidents beyond its reasonable control, including, without limitation, strikes, lock-outs or\n            other\n            industrial disputes (whether involving the workforce of the party), failure of a utility service or\n            transport or\n            telecommunications network, act of God, war, riot, civil commotion, malicious damage, compliance with any\n            law or\n            governmental order, rule, regulation or direction, accident, breakdown of plant or machinery, fire, flood,\n            storm\n            or default of suppliers or sub-contractors, provided that the other party is notified of such an event and\n            its\n            expected duration..\n        </p>\n\n        <p>\n\n\n            <strong>Variation</strong>\n            No variation of this agreement shall be effective unless it is in writing and signed by the parties (or\n            their\n            authorised representatives).\n\n        </p>\n\n        <p>\n\n            <strong>Waiver</strong>\n            No failure or delay by a party to exercise any right or remedy provided under this agreement or by law shall\n            constitute a waiver of that or any other right or remedy, nor shall it prevent or restrict the further\n            exercise\n            of that or any other right or remedy. No single or partial exercise of such right or remedy shall prevent or\n            restrict the further exercise of that or any other right or remedy.\n        </p>\n\n        <p>\n            <strong> Rights and remedies</strong>\n            Except as expressly provided in this agreement, the rights and remedies provided under this agreement, are\n            in\n            addition to, and not exclusive of, any rights or remedies provided by law.\n\n        </p>\n\n        <p>\n\n            <strong>Severance</strong>\n            <br>If any provision (or part of a provision) of this agreement and/or Subscription Agreement is found by\n            any\n            court or administrative body of competent jurisdiction to be invalid, unenforceable or illegal, the other\n            provisions shall remain in force.\n            </br>If any invalid, unenforceable or illegal provision would be valid, enforceable or legal if some part of\n            it\n            were deleted, the provision shall apply with whatever modification is necessary to give effect to the\n            commercial\n            intention of the parties\n        </p>\n\n        <p>\n            <strong>Entire Agreement</strong>\n            <br>This agreement, Subscription Agreement and any documents referred to in it, constitute the whole\n            agreement\n            between the parties and supersede any previous arrangement, understanding or agreement between them relating\n            to\n            the subject matter they cover.\n            <br>Each of the parties acknowledges and agrees that in entering into this agreement it does not rely on any\n            undertaking, promise, assurance, statement, representation, warranty or understanding (whether in writing or\n            not) of any person (whether party to this agreement or not) relating to the subject matter of this\n            agreement,\n            other than as expressly set out in this agreement.\n        </p>\n\n        <p>\n\n            <strong>Assignment</strong>\n            <br> The Subscriber shall not, without the prior written consent of the Supplier, assign, transfer, charge,\n            sub-contract or deal in any other manner with all or any of its rights or obligations under this agreement\n            and/or subscription Agreement.\n            <br>The Supplier may at any time assign, transfer, charge, sub-contract or deal in any other manner with all\n            or\n            any of its rights or obligations under this agreement.\n\n        </p>\n\n        <p>\n            <strong>No partnership or agency</strong>\n            <br>Nothing in this agreement is intended to or shall operate to create a partnership between the parties,\n            or\n            authorise either party to act as agent for the other, and neither party shall have the authority to act in\n            the\n            name or on behalf of or otherwise to bind the other in any way (including, but not limited to, the making of\n            any\n            representation or warranty, the assumption of any obligation or liability and the exercise of any right or\n            power).\n        </p>\n\n        <p>\n            <strong>Third party rights</strong>\n            <br>This agreement does not confer any rights on any person or party (other than the parties to this\n            agreement\n            and, where applicable, their successors and permitted assigns) who is not a party to this agreement.\n        </p>\n\n        <p>\n            <strong>Notices</strong>\n            <br>Any notice required to be given under this Agreement or Subscription agreement shall be in writing and\n            shall\n            be delivered by hand or sent by pre-paid first-class post or recorded delivery post to the other party at\n            its\n            address set out in this agreement, or at the address mentioned in the Subscription Agreement or such other\n            address as may have been notified by that party for such purposes, or sent by fax to the other party\'s fax\n            number or sent by e-mail to the other party’s e-mail address, in each case, as may be notified by that party\n            for\n            such purposes.\n            <br>A notice delivered by hand shall be deemed to have been received when delivered (or if delivery is not\n            in\n            business hours, at 9 am on the first business day following delivery). A correctly addressed notice sent by\n            pre-paid first-class post or recorded delivery post shall be deemed to have been received at the time at\n            which\n            it would have been delivered in the normal course of post. A notice sent by fax or e-mail shall be deemed to\n            have been received at the time of transmission (as shown by the timed printout obtained by the sender in\n            case of\n            transmission by fax or as evidenced by the absence of receipt of a delivery failure notification by the\n            sender\n            within 5 (five) minutes of transmission by e-mail).\n        </p>\n\n        <p>\n            <strong>Governing law</strong>\n            <br> This agreement and any dispute or claim arising out of or in connection with it or its subject matter\n            or\n            formation (including non-contractual disputes or claims) shall be governed by and construed in accordance\n            with\n            the law of the Republic of India.\n        </p>\n\n        <p>\n            <strong>Jurisdiction and Arbitration</strong>\n            <br>Each party irrevocably agrees that the courts of Gurgaon, Haryana .shall have exclusive jurisdiction to\n            settle any dispute or claim arising out of or in connection with this agreement or its subject matter or\n            formation (including non-contractual disputes or claims).\n            <br> The parties shall refer any disputes arising between them which relate to this agreement or\n            transactions\n            contemplated hereby to arbitration to be conducted by a sole arbitrator mutually appointed by the parties\n            and/or\n            by the Court of Gurgaon, as the case may be, in accordance with the Arbitration and Conciliation Act, 1996.\n            The\n            venue of arbitration shall be Gurgaon and the language of arbitration will be English. The award of the\n            arbitrator will be final and binding on both parties.\n\n        </p>\n    </div>\n\n    <div ng-show="termsAndConditionFlag" class="text-center">\n        <button type="button"\n                analytics-on\n                data-analytics-event="CLICK_TnC"\n                data-analytics-category="Terms & Conditions"\n                data-analytics-label="Ok"\n                data-ng-click="defaultNavigate()" class="btn-action v-align">\n            Ok\n        </button>\n    </div>\n\n    <div ng-show="!termsAndConditionFlag" class="text-center">\n        <button type="button"\n                analytics-on\n                data-analytics-event="CLICK_TnC"\n                data-analytics-category="Terms & Conditions"\n                data-analytics-label="Agree"\n                data-ng-click="agreeOnTermsAndCondition()" class="btn-action v-align">I\n            Agree\n        </button>\n        <button type="button"\n                analytics-on\n                data-analytics-event="CLICK_TnC"\n                data-analytics-category="Terms & Conditions"\n                data-analytics-label="Cancel"\n                data-ng-click="logout()" class="btn">\n            Cancel\n        </button>\n    </div>\n</div>';
}),define("services/notificationService",["app"],function(a){a.factory("NotificationService",[function(){var a={},b=function(b){a.msg=b.msg,a.type=b.type,a.htmlMode=b.htmlMode?!0:!1,a.isConfirm=b.isConfirm?!0:!1,a.showYes=b.onYes?!0:!1,a.onYes=b.onYes?b.onYes:!1,a.showNo=b.onNo?!0:!1,a.onNo=b.onNo?b.onNo:!1,a.confirmText=b.confirmText?b.confirmText:"Yes",a.cancelText=b.cancelText?b.cancelText:"No",a.isNetworkError=b.isNetworkError?b.isNetworkError:!1},c=function(){return a},d=function(){$("#notification").animate({top:"-40px","z-index":"-1"},{duration:"3000"},function(){$scope.showAlert="false",$scope.alert.msg=""}).fadeOut("slow")};return{getNotification:c,setNotification:b,removeNotification:d}}])}),define("services/getHttpService",["app","services/notificationService"],function(a){a.factory("GetHttpService",["NotificationService",function(a){var b=function(b,c){var d=!1,e={};"2XX"!==b.statusCode?e={type:"error",msg:"Something went wrong !!"}:(e={type:"success",msg:"undefined"!=typeof c&&""!==c.trim()?c:""},""!==e.msg&&(d=!0)),d&&a.setNotification(e)},c=function(b){var c={type:"error",msg:"undefined"!=typeof b&&""!==b.trim()?b:"Sorry there was an error in submitting your request. Please try again."};a.setNotification(c)},d=function(a,d,e){return"2XX"===a.statusCode?(e?0===a.totalCount&&c("No data found for the filters applied, please update some filters for better results"):(("undefined"==typeof d||""===d.trim())&&(d=""),b(a,d)),!0):!1},e=function(a,b,e,f){if(200===a.status||202===a.status){if(!a.data||!a.data.error)return d(a.data,b,e);c(a.data.error.msg)}else f||c()};return{commonResponse:e,commonResponseData:d}}])}),define("text!views/modal/captchaView.html",[],function(){return'<div class="padding10 row-full">\n    <div class="content-info marginB15 paddingL10">\n        Our systems have detected unusual traffic from your computer network. To continue, please <br>type the characters given below\n   </div>\n    <div id="captchadiv"></div>\n    <div class="row-full marginT15">\n        <button type="submit" name="Button1" value="Submit Captcha" data-ng-click="submitCaptchaForm();" class="btn-action text-right clear">Submit Captcha\n    </button><span class="error" style="color:#cc3e33; font-size: 11px">{{err}}</span>\n    </div>\n</div>\n<script type="text/javascript">\n         var captcha_key = $("#captcha_key").html();\n          function showRecaptcha(captcha_key) {\n            Recaptcha.create(captcha_key, \'captchadiv\', {\n                tabindex: 1,\n                theme: "clean",\n                callback: Recaptcha.focus_response_field,\n                lang: "en"\n            });\n          }\n          showRecaptcha(captcha_key);         \n        </script>'}),define("services/captchaService",["app","text!views/modal/captchaView.html"],function(a,b){a.factory("CaptchaService",["$modal","$timeout",function(a,c){var d=function(c,d,e,f,g,h){var i;return i=a.open({template:b,controller:["$scope","$rootScope","$modalInstance","GlobalService","GetHttpService",function(a,b,i,j,k){var l=function(a,b,c){var d=new RegExp("([?;&])"+a+"[^&;]*[;&]?"),e=c.replace(d,"$1").replace(/&$/,"");return(e.length>2?e+"&":"?")+a+"="+b};a.submitCaptchaForm=function(){a.err="";var m=$("#recaptcha_challenge_field").val(),n=$("#recaptcha_response_field").val();if(""===n.trim()||void 0===n.trim())return a.err="   Please enter captcha response",!1;var o={};o.recaptcha_challenge_field=m,o.recaptcha_response_field=n;var p="";if(c.indexOf("recaptcha_challenge_field")>=0&&c.indexOf("recaptcha_response_field")>=0){var q=l("recaptcha_challenge_field",m,c);p=l("recaptcha_response_field",n,q)}else p=j.appendQueryString(c,o);j.makePostCall(p,d,e,f,g,h).then(function(a){p.search("wish-list")>-1?k.commonResponse(a,"")&&b.$broadcast("favChanged",a.data.data):p.search("entity/enquiry")>-1&&b.$broadcast("leadAfterCaptcha",a)}),i.dismiss("cancel")}}]})};return{openCaptchaPopUp:d}}])}),define("services/b2b/CookieService",["app"],function(a){a.factory("CookieService",["$cookies",function(a){var b=function(b,c){b&&(a[b]=encodeURIComponent(c))},c=function(b){var c=null;return a[b]&&(c=decodeURIComponent(a[b])),c},d=function(b,c){try{a[b]=JSON.stringify(c)}catch(d){console.log("Error in setting key:"+b,"value:",c)}},e=function(b){var c=a[b];if(!c)return null;try{return JSON.parse(c)}catch(d){return console.log("Error in getting key:"+b),null}},f=function(b){return a[b]},g=function(b,c){a[b]=c},h=function(){var a="user_b2bSession";return{isActive:function(){return c(a)||!1},active:function(){b(a,"true")},inactive:function(){b(a,"")}}}();return{setCookie:b,getCookie:c,setJson:d,getJson:e,set:g,get:f,userSession:h}}])}),define("services/globalService",["app","services/getHttpService","services/captchaService","services/b2b/CookieService"],function(a){a.factory("GlobalService",["$location","$cookies","$rootScope","$http","GetHttpService","CaptchaService","md5","$cacheFactory","CookieService","$timeout",function(a,b,c,d,e,f,g,h,i,j){var k=h.get("$http"),l=function(){return"/"},m=function(){d({method:"POST",url:"app/v1/logout",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(b){return 200!==b.status?!1:(i.userSession.inactive(),void j(function(){c.userDetails=void 0,c.termsAndConditionAccept=!1,a.search({}),a.path("/login")},100))})},n=function(){var a=(new Date).getTime();return a>14181498e5&&1418409e6>a?!0:!1},o=function(a){var b={};a&&"/"!=a[0]&&(a="/".concat(a));var c=(new Date).getTime(),d=g.createHash(a+"#$$#"+navigator.userAgent+"#$$#"+c+"#$$#"+$("#app_keys #askey").html());return b["X-shhkey"]=d,b["server-time"]=c,b},p=function(a){var b="/";return a&&"/"!==a[0]?b+a:void 0},q=function(){if(r())return c.userDetails.id;if(a.$$search.userId)return a.$$search.userId;var b=a.path();return"/login"!=b&&(c.redirectUrl=b,a.path("/login")),"7"},r=function(){return c.userDetails&&c.userDetails.id?("/login"==a.path()&&a.path("/"),!0):!1},s=function(a){a.indexOf("{userId}")>-1&&(a=a.replace("{userId}",q()));var b=l()+a;return b},t=function(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split(".");c.length;){var d=c.shift();if(!(d in a))return;a=a[d]}return a},u=function(){if(b.HOME_CITY){var a=z("HOME_CITY").split(","),c={};return 2===a.length&&(c={id:a[0],label:a[1]}),c}},v=function(a,b){y("HOME_CITY",a+","+b)},w=function(a){y("CATCHMENT_LAST_VISITED_CTIY",a)},x=function(){return b.CATCHMENT_LAST_VISITED_CTIY?b.CATCHMENT_LAST_VISITED_CTIY:null},y=i.setCookie,z=i.getCookie,A=function(a,b){return N(a,!1,!0,!0,!0).then(function(a){return e.commonResponse(a,""),200===a.status?b?a.data:a.data.data:null})},B=function(a){var b=!1;if("object"==typeof a&&a.length){for(var c=0;c<a.length;c++)a[c]=encodeURIComponent(a[c]);var d=a.join("&api="),e="app/v1/composite?api="+d;b=A(e)}return b},C=function(a){return"data/v2/entity/locality/"+a+'/top-rated?selector={"fields":["localityId","label","url","overviewUrl","averageRating","priority","geoDistance"]}'},D=function(a,b){return"locality"===b?"data/v2/entity/locality/"+a+'/top-rated?selector={"fields":["localityId","label","url","averageRating","numberOfUsersByRating","ratingsCount"]}':"data/v2/entity/locality/top-rated?"+b+"Id="+a+'&selector={"fields":["localityId","label","url","averageRating","numberOfUsersByRating","ratingsCount"]}'},E=function(a,b){return"data/v1/entity/locality/popular?"+b+"Id="+a+'&selector={"fields":["localityId","label","url"]}'},F=function(a,b){return"data/v1/entity/locality/highest-return?locationType="+b+"&locationId="+a+'&selector={"fields":["localityId","label","url","avgPriceRisePercentage","avgPriceRiseMonths"]}'},G=function(a,b){return'data/v1/entity/builder/top?selector={"filters":{"and":[{"equal":{"'+b+'Id":["'+a+'"]}}]},"fields":["id","name","imageURL","url","priority"]}}'},H=function(a,b){return'data/v1/entity/project/popular?selector={"filters":{"and":[{"equal":{"'+b+'Id":'+a+'}}]},"fields":["projectId","address","name","minPrice","maxPrice","imageURL","URL","builder","locality","label","altText","mainImage"]}'},I=function(a,b){return"data/v1/entity/project/recently-discussed?locationType="+b+"&locationId="+a+'&selector={"fields":["projectId","name","minPrice","maxPrice","imageURL","URL","totalProjectDiscussion","address","builder","altText","mainImage"]}'},J=function(a,b){return"data/v1/entity/project/most-discussed?locationType="+b+"&locationId="+a+'&selector={"fields":["projectId","address","name","minPrice","maxPrice","imageURL","URL","totalProjectDiscussion","builder","locality","label","altText","mainImage"]}'},K=function(a,b){return"data/v1/entity/project/highest-return?locationType="+b+"&locationId="+a+'&selector={"fields":["projectId","address","name","minPrice","maxPrice","imageURL","URL","locality","label","avgPriceRisePercentage","avgPriceRiseMonths","altText","mainImage"]}'},L=function(a,b,c){if(!a)return"";a=a.trim().toLowerCase();var d="";switch(a){case"mostdiscussproject":case"most discuss project":case"most_discuss_project":d=J(b,c);break;case"recentdiscussproject":case"recentlydiscussproject":case"recent discuss project":case"recently discuss project":case"recent_discuss_project":case"recently_discuss_project":d=I(b,c);break;case"popularproject":case"popular project":case"popular_project":d=H(b,c);break;case"popularlocality":case"popular locality":case"popular_locality":d=E(b,c);break;case"topratedlocality":case"top rated locality":case"top_rated_locality":d=D(b,c);break;case"nearbylocality":case"nearby locality":case"nearby_locality":d=C(b,c);break;case"highreturnlocality":case"high return locality":case"high_return_locality":d=F(b,c);break;case"topbuilder":case"top builder":case"top_builder":d=G(b,c);break;case"highreturnproject":case"high return project":case"High Return Project":d=K(b,c)}return d},M=function(a,b,c,g,h,i){c=""!==c&&void 0!==c||-1===c?c:"application/x-www-form-urlencoded";var j=b?g?b:$.param(b):null,k=void 0===i?"":i;return d({method:"POST",url:s(a),data:j,headers:-1===c?"":{"Content-Type":c}}).then(function(a){return e.commonResponse(a,""),h?k?a:a.data:O(a.data)},function(b){return"2XX"!==b.data.statusCode&&"495"===b.data.statusCode?((!$("#captchadiv").is(":visible")||a.indexOf("recaptcha_challenge_field")>=0&&a.indexOf("recaptcha_response_field")>=0)&&f.openCaptchaPopUp(a,j,c,g,h,i),!1):"2XX"!==b.data.statusCode&&-1!=["497","492","493","494","4XX","400","483","484","485","486","487"].indexOf(b.data.statusCode)?b.data:void 0})},N=function(a,b,c,f,g,h,i,j){b=""!==b&&void 0!==b||-1===b?b:"application/x-www-form-urlencoded";var l=void 0===f?"":f;g||(g=!1),i=i?i:!1,h&&$(".loadingBarInfo").show();var m=o(a);return angular.extend(m,{"Content-Type":b}),d({method:"GET",cache:g,url:s(a),headers:m,timeout:i}).then(function(b){return e.commonResponse(b,"",void 0,j),(!b.data||$.isEmptyObject(b.data))&&k.remove(s(a)),c?l?b:b.data:O(b.data)})},O=function(a){var b="";return b=200===a.status||"2XX"==a.statusCode?"string"==typeof a.data?a.data.trim():a.data:!1},P=function(a,b){var c=-1==a.indexOf("?")?"?":"&",d=[];for(var e in b)d.push(e+"="+b[e]);var f=d.join("&");return a+c+f},Q=function(a,b,c,d,e){var f,g={};return g.fullDescription=a,a.length>c?(g.smallDescription=a.substring(0,c),b&&(f=g.smallDescription.lastIndexOf(" "),-1!=f&&(g.smallDescription=g.smallDescription.substr(0,f))),g.smallDescription+=e||"...",a.length>d?(g.mediumDescription=a.substring(0,d),b&&(f=g.mediumDescription.lastIndexOf(" "),-1!=f&&(g.mediumDescription=g.mediumDescription.substr(0,f))),g.mediumDescription+=e||"..."):g.mediumDescription=a,g.contentTrimmed=!0):(g.smallDescription=a,g.mediumDescription=a,g.contentTrimmed=!1),g},R=function(a,b){for(var c=[];a.length;)c.push(a.splice(0,b));return c};return{getHost:l,addCDNHost:p,getAPIURL:s,getUserId:q,getObjectValuebyString:t,getHomeCity:u,setHomeCity:v,getCatchmentVisitedCity:x,setCatchmentVisitedCity:w,setCookie:y,getCookie:z,getServiceUrl:L,makeCompositeCall:B,makePostCall:M,callApiAndRespond:A,returnUserResp:O,appendQueryString:P,getSecurityHeaders:o,makeGetCall:N,isGOSFRunning:n,isLoggedIn:r,stripContent:Q,groupList:R,b2bLogout:m}}])}),define("services/constants",["app"],function(a){a.factory("Constants",[function(){return{MASTER_PLAN_CITIES:["Bangalore","Pune","Noida"],LISTINGS:{SINGLE_QUERY_LOAD:9,AUTO_SCROLL_MULTIPLE:6},COMPARE:{MAX_PROJECTS:4},DESCRIPTION:{SHORT_LENGTH:170},GLOBAL:{APPLICATION:{WEBSITE:"Website",B2B:"B2B"},PAGE_TYPES:{LISTING:"listing",PROJECT:"project",MAP:"map",PROPERTY:"property",COMPARE:"compare",PORTFOLIO:"portfolio",PROJECTDETAIL:"projectdetail",HOME:"home",MOBILE_APPS:"mobile-apps",DASHBOARD:"dashboard",BUILDER:"builder",BUILDERSEARCH:"buildersearch",CATCHMENTANALYSIS:"catchmentanalysis",PROJECTDATABASE:"projectdatabase",SETTINGS:"settings",LOGIN:"login",OTP:"otp",RESALE_LISTING:"RESALE-LISTING"},MAX_ZINDEX:12},JAN2012:13253562e5,IMAGES:{THUMBNAIL:{width:130,height:100},SMALL:{width:360,height:270},MEDIUM:{width:520,height:400},LARGE:{width:1336,height:768},MOBILE_0:{width:220,height:120},MOBILE_1:{width:280,height:200},MOBILE_2:{width:320,height:220},MOBILE_3:{width:360,height:240},MOBILE_4:{width:420,height:280},MOBILE_5:{width:480,height:320},MOBILE_6:{width:520,height:340},MOBILE_7:{width:1040,height:780},MOBILE_8:{width:380,height:280},MOBILE_9:{width:940,height:720},MOBILE_10:{width:680,height:580},MOBILE_11:{width:800,height:620},MOBILE_12:{width:940,height:720},MOBILE_13:{width:520,height:400}},VALID_PROJECT_STATUS:["Launching Soon","New Launch"],UNITTYPE_COUNT:5,FACEBOOK_SHARE_URL:"https://www.facebook.com/sharer/sharer.php?u=",GOOGLE_PLUS_SHARE_URL:"https://plus.google.com/share?url=",TWITTER_SHARE_URL:"https://twitter.com/home?status=",LINKED_IN_SHARE_URL:"https://www.linkedin.com/shareArticle?mini=true&url="}}])}),define("formatters/common",["app","services/constants"],function(a){a.factory("Formatter",["$rootScope","$timeout","Constants",function(a,b,c){var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["bed","bedrooms","bath","bathrooms","budget","unitType","projectStatus","primaryOrResaleBudget","locality[]","area","size","start","builderLabel","localityOrSuburbLabel","possessionDate","isResale"],f={launchingSoon:"Launching Soon",underConstruction:"Under Construction",newLaunch:"New Launch",readyToMoveIn:"Ready To Move In"},g={nearby:[{key:"school",displayText:"School",iconKey:"school"},{key:"restaurant",displayText:"Restaurant",iconKey:"restaurant"},{key:"hospital",displayText:"Hospital",iconKey:"hospital"},{key:"gas_station",displayText:"Petrol Pump",iconKey:"petrol-station"},{key:"bank",displayText:"Atm/Banks",iconKey:"bank"}],connectivity:[{key:"bus_station",displayText:"Bus Stop",iconKey:"bus-stop"},{key:"train_station",displayText:"Train Station",iconKey:"train-station"},{key:"airport",displayText:"Airport",iconKey:"airport"}]},h=[{amenityDisplayName:"24X 7 Security System",amenityMaster:{abbreviation:"Sec",amenityName:"24 X 7 Security"}},{amenityDisplayName:"Gymnasium",amenityMaster:{abbreviation:"Gym",amenityName:"Gymnasium"}},{amenityDisplayName:"Swimming Pool",amenityMaster:{abbreviation:"Swi",amenityName:"Swimming Pool"}},{amenityDisplayName:"Power Backup",amenityMaster:{abbreviation:"Pow",amenityName:"Power Backup"}},{amenityDisplayName:"Sports Facility",amenityMaster:{abbreviation:"Spo",amenityName:"Sports Facility"}},{amenityDisplayName:"Landscaped Gardens",amenityMaster:{abbreviation:"Lan",amenityName:"Landscaped Gardens"}},{amenityDisplayName:"Children's play area",amenityMaster:{abbreviation:"Chi",amenityName:"Children's play area"}},{amenityDisplayName:"Indoor Games",amenityMaster:{abbreviation:"Ind",amenityName:"Indoor Games"}},{amenityDisplayName:"Club house",amenityMaster:{abbreviation:"Clu",amenityName:"Club House"}},{amenityDisplayName:"Cafeteria",amenityMaster:{abbreviation:"Caf",amenityName:"Cafeteria"}},{amenityDisplayName:"Jogging Track",amenityMaster:{abbreviation:"Jog",amenityName:"Jogging Track"}},{amenityDisplayName:"Multipurpose Room",amenityMaster:{abbreviation:"Mul",amenityName:"Multipurpose Room"}},{amenityDisplayName:"Rain Water Harvesting",amenityMaster:{abbreviation:"Rai",amenityName:"Rain Water Harvesting"}},{amenityDisplayName:"Golf Course",amenityMaster:{abbreviation:"Gol",amenityName:"Golf Course"}},{amenityDisplayName:"Intercom Facility",amenityMaster:{abbreviation:"Int",amenityName:"Intercom"}},{amenityDisplayName:"Maintenance Staff",amenityMaster:{abbreviation:"Mai",amenityName:"Maintenance Staff"}}],i=50,j=function(a){return(a+"").replace(/^([a-z])|\s+([a-z])/g,function(a){return a.toUpperCase()})},k=function(a,b){switch(b=window.unescape(b),a){case"locality[]":a="Locality",b=b.replace("+"," ");break;case"start":a="Page",b=parseInt(b,10),1>=b&&(b=null);break;case"budget":case"primaryOrResaleBudget":case"area":case"size":var c=[],d="";if("budget"===a||"primaryOrResaleBudget"===a?(c=b.split(","),"budget"===a?d="lacs":"primaryOrResaleBudget"===a&&(c[0]=c[0]/1e5,c[1]&&(c[1]=c[1]/1e5),d="lacs"),a="Budget"):(a="Size",c=b.indexOf(";")>-1?b.split(";"):b.split(","),d="sq ft"),2===c.length)if("budget"===a)b=0===c[0]&&0===c[1]?null:0===c[0]?"Upto "+parseInt(c[1],10)+" "+d:0===c[1]?parseInt(c[0],10)+" "+d+" onwards":parseInt(c[0],10)+"-"+parseInt(c[1],10)+" "+d;else{for(var e=0;e<c.length;e++)parseFloat(c[e]).toFixed(2)-parseInt(c[e],10)<.01?c[e]=parseInt(c[e],10):c[e]=parseFloat(c[e]).toFixed(2);b=c[0]+"-"+c[1]+" "+d}else b=null;break;case"bed":case"bedrooms":case"bath":case"bathrooms":a="bed"===a||"bedrooms"===a?"Bed":"Bath";break;case"unitType":a="Type";break;case"projectStatus":a="Status",b=b.split(",").map(function(a){return f[a]?f[a]:a}).join(", ").replace(/,(?=[^,]*$)/," or");break;case"builderLabel":a="Builder",b=b.split(",").map(function(a){return f[a]?f[a]:a}).join(", ").replace(/,(?=[^,]*$)/," or");break;case"localityOrSuburbLabel":a="Locality Or Suburb",b=b.split(",").map(function(a){return f[a]?f[a]:a}).join(", ").replace(/,(?=[^,]*$)/," or");break;case"possessionDate":a="Possession Date",b=b.split(",").join("-")+" Days";break;case"isResale":a="Resale Or Primary",b=b.indexOf("true")>-1&&b.indexOf("false")>-1?"Both":b.indexOf("true")>-1?"Resale":"Primary"}return[a,b]},l=function(a){return d[new Date(a).getMonth()]},m=function(a){return new Date(a).getFullYear()},n=function(a,b){b||(b="/");var c=new Date(a);return c.getDate()+b+(c.getMonth()+1)+b+c.getFullYear()},o=function(a,b){b||(b="/");var c=new Date(a);return c.getFullYear()+b+(c.getMonth()+1)+b+c.getDate()},p=function(a){a=a.toString().split(",").join("");var b=a.substring(a.length-3),c=a.substring(0,a.length-3);return""!==c&&(b=","+b),c.replace(/\B(?=(\d{2})+(?!\d))/g,",")+b},q=function(a){var b="-NA-";if(a&&0!==a.trim().length){a=a.trim();var c=[];if(-1!==a.indexOf("#")?c=a.split("#"):-1!==a.indexOf("?")&&(c=a.split("?")),c.length>1){c=c[1].split("&");var d=[];$.each(c,function(a,b){var c=b.split("=");if(-1!==e.indexOf(c[0])){var f=k(c[0],c[1]);null!==f[1]&&d.push(f[0]+" : "+f[1])}}),d.length>0&&(b=d.join("; "))}}return b},r=function(a,b){var c=new Date(a),d=b||"/",e=("0"+(c.getMonth()+1)).slice(-2),f=("0"+c.getDate()).slice(-2);return[f,e,c.getFullYear()].join(d)},s=function(a,b){if(!a)return!1;var c="",e=new Date(a);if(b){var f=e.getFullYear()%100;c=d[e.getMonth()]+" '"+f}else c=d[e.getMonth()]+" "+e.getFullYear();return c},t=function(a){var b=document.createElement("div");b.innerHTML=a;var c=b.textContent||b.innerText||"";return c},u=function(a){g=parseInt(a,10);var b=g.toString(),c=b.slice(0,-3),d="",e=c.split("").reverse();for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];d=f&&f%2===0?g+","+d:g+""+d}var h=d;return""===h?b:h+b.slice(-3)},v=function(a){return Math.round(10*a)/10},w=function(a){return Math.round(100*a)/100},x=function(a,b){var c="Lacs",d=6,e="Cr",f=8;if(b&&(c=b),a){var g,h=a.toString().split(".")[0];return h.length>=d&&h.length<f?(g=v(a/Math.pow(10,d-1)),g%100===0?(g/100).toString()+" "+e:g.toString()+" "+c):h.length>=f?(g=w(a/Math.pow(10,f-1)),g.toString()+" "+e):h}return"0"},y=function(a,b){var c=[];if(a.indexOf("-")>=0)c=a.split("-");else{if(!(a.indexOf("/")>=0))return a;c=a.split("/")}var e="",f=parseInt(c[2],10),g=d[parseInt(c[1],10)-1],h=c[0];return isNaN(f)||(e=f),g&&b?e=g+" "+e:e+=" "+g,h>0&&(e?e+=", "+h:e=h),e},z=function(a){var b=Math.floor((new Date-a)/1e3),c=Math.floor(b/31536e3);return c>1?c+" years ago":(c=Math.floor(b/2592e3),c>1?c+" months ago":(c=Math.floor(b/86400),c>1?c+" days ago":(c=Math.floor(b/3600),c>1?c+" hours ago":(c=Math.floor(b/60),c>1?c+" minutes ago":Math.floor(b)+" seconds ago"))))},A=function(a,b){var d,e;return b&&c.IMAGES[b]?(d=c.IMAGES[b],e=a+"?width="+d.width+"&height="+d.height):a},B=function(a){var b="";switch(a=a.toLowerCase()){case"launch":b="New Launch";break;case"on hold":b="On Hold";break;case"under construction":b="Under Construction";break;case"not launched":b="Launching Soon";break;case"pre launch":b="Launching Soon";break;case"ready for possession":case"occupied":case"completed":b="Ready to Move In";break;default:b="NA"}return b},C=function(a){var b="";switch(a.trim().toLowerCase()){case"atm":case"bank":b="bank";break;case"bus-stop":case"bus_stop":case"bus stop":case"busstop":case"bus":b="bus-stop";break;case"hospital":b="hospital";break;case"petrol-pump":case"petrol_pump":case"petrolpump":case"petrol":b="petrol-station";break;case"restaurant":b="restaurant";break;case"school":case"play-school":case"play_school":case"play school":case"playschool":case"higher-education":case"higher_education":case"higher education":case"highereducation":b="school";break;case"train-station":case"train_station":case"train station":case"trainstation":case"train":b="train-station";break;case"metro-station":case"metro_station":case"metro station":case"metrostation":case"metro":b="metrostation";break;default:b="Oth"}return b="pt-icon-"+b},D=function(a){return $("#"+a).length&&$("#"+a).offset().top>$(window).scrollTop()?$(".header").height():0},E=function(b,c,d){var e=D(b);if(a.CURRENT_ACTIVE_PAGE&&a.CURRENT_ACTIVE_PAGE.toLowerCase().indexOf("overview")>0?1==$("#"+b).length&&("fixed"==$(".overview-toplink-info").css("position")?$("html, body").animate({scrollTop:$("#"+b).offset().top-105+e,duration:1e3}):$("html, body").animate({scrollTop:$("#"+b).offset().top-168+e,duration:1e3})):a.CURRENT_ACTIVE_PAGE&&a.CURRENT_ACTIVE_PAGE.toLowerCase().indexOf("property")>=0?1==$("#"+b).length&&("fixed"==$("#hedsml").css("position")?$("html, body").animate({scrollTop:$("#"+b).offset().top-103+e,duration:1e3}):$("html, body").animate({scrollTop:$("#"+b).offset().top-162+e,duration:1e3})):a.CURRENT_ACTIVE_PAGE&&a.CURRENT_ACTIVE_PAGE.toLowerCase().indexOf("projectdetail")>=0?1==$("#"+b).length&&("fixed"==$("#hedsml").css("position")?$("html, body").animate({scrollTop:$("#"+b).offset().top-103+e,duration:1e3}):$("html, body").animate({scrollTop:$("#"+b).offset().top-154+e,duration:1e3})):1==$("#"+b).length&&$("html, body").animate({scrollTop:$("#"+b).offset().top-103+e,duration:1e3}),"undefined"!=typeof c){var f,g;"sidebar"==d?(f="sidebar",g="Sidebar Clicked"):(f="goto",g="GOTO Link Clicked")}},F=function(a){try{JSON.parse(a)}catch(b){return!1}return!0},G=function(a){return a?F(a)?JSON.parse(a):a:""},H=function(a){var b=$(window).scrollTop(),c=b+$(window).height(),d=$(a).offset().top,e=d+$(a).height();return c>=e&&d>=b},I=function(a){return 1e5*a},J=function(a){if(-1!=a.indexOf("?")){for(var b,c=a.split("?"),d=c[1],e={},f=d.replace(/^\?/,"").split("&"),g=f.length,h=0;g>h;h++)f[h]&&(b=f[h].split("="),e[b[0]]=b[1]);return{__url:c[0],__search:e}}return{__url:a,__search:{}}},K=[{key:"play_school",value:"Play Schools"},{key:"school",value:"Schools"},{key:"restaurant",value:"Restaurants"},{key:"hospital",value:"Hospitals"},{key:"park",value:"Parks"},{key:"shopping_mall",value:"Market Complexes"},{key:"subway_station",value:"Connectivity"}],L=function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return e[1]},M=function(a){if(!Number.isInteger(a)||0>a)return"";var b=a%10,c=a%100;return 0==b&&0==c?" on ground floor":1==b&&11!=c?" on "+a+"st floor":2==b&&12!=c?" on "+a+"nd floor":3==b&&13!=c?" on "+a+"rd floor":" on "+a+"th floor"},N=function(a,b){for(var c=a.length,d=0,e=[],f=0,g=function(a,b,c){for(var e=0,f="",g=0;!(g>=c&&0==e)&&d<a.length;){var h=a.charAt(d);"<"==h&&e++,">"==h&&e--,f+=h,g++,d=b+g}return f};c>d;)e[f]=g(a,d,b),f++;return e};return{ucword:j,getDateMonth:l,getDateYear:m,getDDMMYYYY:n,getYYYYMMDD:o,getSearchText:q,convertToIST:r,formatRs:u,formatPrice:x,formatDate:y,timeSince:z,getUrlWithParam:J,epochToISTMonth:s,getClassByAmenity:C,roundSingleDecimal:v,roundDoubleDecimal:w,getProjectStatusKey:B,getImagePath:A,goToEl:E,isElementVisible:H,filterFormatValue:I,stripHtml:t,neighborhoodPlaces:g,amenitiesFullList:h,formatPriceWithComma:p,isSvgDetail:G,reqAmenities:K,findQueryParam:L,resaleFloorStr:M,splitString:N,monthsForPriceTrend:i}}])}),define("services/searchService",["app","services/globalService","services/notificationService","services/getHttpService","formatters/common"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("SearchService",["GlobalService","$http","$location","NotificationService","GetHttpService","$rootScope","Formatter",function(a,b,c,d,e,f,g){var h=null,i="";f.VIEW_TYPES={PROJECT:1,LISTING:2,MAP:3,NONE:-1};var j=f.VIEW_TYPES,k=function(a){if(-1!=c.path().indexOf("maps"))return j.MAP;if(a){if("builder"==a||"city"==a)return j.LISTING;if("project"==a)return j.PROJECT}return j.NONE},l=function(b,c){var d=i?b+"&enhance=gp&typeAheadType="+i:b+"&enhance=gp";return c&&"All Cities"!=c&&(d+="&city="+c),a.makeGetCall("columbus/app/v4/typeahead?query="+d,!1,!0,!0)},m=function(b){var c=b+"&typeAheadType=(project)";return a.makeGetCall("columbus/app/v4/typeahead?query="+c,!1,!0,!0)},n=function(b){var c=b+"&typeAheadType=(project or locality)";return a.makeGetCall("columbus/app/v4/typeahead?query="+c,!1,!0,!0).then(function(a){return a.data.data})},o=function(b,c){var d="app/v1/project-listing?selector=";b=decodeURIComponent(JSON.stringify(b)),a.makeGetCall(d+b,!1,!0,!0).then(function(a){c(a.data)})},p=function(b,c){if("undefined"!=typeof b){var d=["app/v1/gp/place-detail/"+b,"app/v2/project-listing?gpid="+b+'&selector={"paging":{"start":0,"rows":0}}'];a.makeCompositeCall(d).then(function(a){return c?void c(a):a})}};return{getSearchSuggestions:l,getProjectSuggestions:m,getProjLocSuggestions:n,getSearchResults:o,searchController:h,getViewType:k,findAllLandmarkProperties:p}}])}),define("services/seoService",["app","services/globalService","formatters/common"],function(a){a.factory("SeoService",["GlobalService","$http","Formatter","$location",function(a,b,c,d){var e=function(b){"/"===b.slice(0,1)&&(b=b.slice(1));var c="seo/data/v2/seo-text?url=";"/"===b.slice(-1)&&(b=b.slice(0,-1));var e="filters";return-1!=b.indexOf(e,b.length-e.length)&&(b=b.replace(e,"")),-1!=_.keys(d.search()).indexOf("page")&&(b=b+"&page="+d.search().page),a.callApiAndRespond(c+b)},f=function(a){if(a)var b=a.meta,c=a.footer;if(b){var d=$("#app_keys #fb_key").html();return{footertext:b.description,title:b.title,metatags:{"DC.title":b["DC.title"],"geo.placename":b["geo.placename"],"geo.region":b["geo.region"],country:b.country,Author:b.Author,googlebot:b.googlebot,"geo.position":b["geo.position"],ICBM:b.ICBM,property:b.property},opengraph:{"og:title":b["og:title"]?b["og:title"]:b.title,"og:type":b["og:type"]?b["og:type"]:"website","og:url":b["og:url"]?b["og:url"]:"","og:image":b["og:image:url"]?b["og:image:url"]:"https://www.proptiger.com/images/og_proptiger_logo.png","og:image:secure_url":b["og:image:secure_url"]?b["og:image:secure_url"]:"https://cdn.proptiger.com/images/og_proptiger_logo.png","og:site_name":b["og:site_name"]?b["og:site_name"]:"PropTiger.com","og:description":b["og:description"]?b["og:description"]:b.description,"fb:app_id":d},description:b.description,keywords:b.keywords,h1:b.h1,h2:b.h2,h3:b.h3,footer:c}}return{}};return{getSeoTags:e,parseSeoTags:f}}])}),define("services/lazyLoadFactory",["app"],function(a){a.factory("lazyLoadFactory",["$window","$q","$timeout",function(a,b,c){var d={},e={},f=function(a){var e=a.url,f=a.time||0;if(d[e])return d[e];var g=b.defer(),i=function(){c(function(){var a=$("<script>");a.attr("src",e).attr("type","text/javascript").attr("async","true"),a.insertBefore("#styles"),a.on("load",function(){g.resolve()})},f)};return d[e]=g.promise,h(i),g.promise},g=function(a){var f=a.time||0,g=a.url;if(e[g])return d[g];var h=b.defer();return c(function(){var a=document.createElement("link");a.href=g,a.rel="stylesheet",document.body.appendChild(a),a.onload=function(){h.resolve()}},f),e[g]=h.promise,h.promise},h=function(a){"complete"===document.readyState?a():window[addEventListener?"addEventListener":"attachEvent"](addEventListener?"load":"onload",a)};return{loadOnWindowLoad:f,callbackOnWindowLoad:h,loadCSSInBottom:g}}])}),define("services/lazyLoadScripts",["app","services/lazyLoadFactory"],function(a){a.config([function(){"use strict"}]).factory("lazyLoadScripts",["$window","$q","lazyLoadFactory","$rootScope","$ocLazyLoad",function(a,b,c,d,e){var f=[,{url:"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",time:3e3}],g=[{url:"/styles/css/fonts.e21618d0.css",time:500}],h=function(){f.forEach(function(a,b){c.loadOnWindowLoad(a)}),g.forEach(function(a,b){c.loadCSSInBottom(a)})};return d.$on("$stateChangeStart",function(a,b,d,e,f){var g={};"base.home"!==b.name&&(g.url="/styles/css/commonStyle.a55e8f5d.css",g.time=500,c.loadCSSInBottom(g))}),d.$on("loadCss",function(a,b){var d={};d.url="/styles/css/"+b+".css",d.time=500,c.loadCSSInBottom(d)}),{init:h}}])}),define("directives/common/pt-onscroll",["app"],function(a){a.directive("ptOnscroll",["$rootScope","$window",function(a,b){return function(b,c,d){var e=function(){var b=g();a.$broadcast("scrolled",{yoffset:b.y,height:this.innerHeight})},f=_.throttle(e,150,{trailing:!1});$(window).bind("scroll",f),b.$on("$destroy",function(){$(window).unbind("scroll",f)});var g=function(){if(null!==window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var a=window.document;return"CSS1Compat"===document.compatMode?{x:a.documentElement.scrollLeft,y:a.documentElement.scrollTop}:{x:a.body.scrollLeft,y:a.body.scrollTop}}}}])}),define("run",["app","services/globalService","services/searchService","services/seoService","services/constants","services/notificationService","formatters/common","services/lazyLoadScripts","directives/common/pt-onscroll","services/b2b/CookieService"],function(a){a.run(["$timeout","$rootScope","GlobalService","SearchService","SeoService","$location","Formatter","Constants","lazyLoadScripts","NotificationService","CookieService",function(a,b,c,d,e,f,g,h,i,j,k){b.applicationType="B2B",b.$on("$locationChangeSuccess",function(){angular.element('meta[name="ROBOTS"]').remove(),b.showmenucard=!1}),b.$on("$viewContentLoaded",function(){$(window).scrollTop(0)}),b.toTopButtonHide=!0,b.$on("scrolled",function(a,c){if(c&&void 0!==c.yoffset){var d=parseInt(c.yoffset);d>800&&d<$(document).height()-$("body").height()-100?b.toTopButtonHide=!1:800>d&&(b.toTopButtonHide=!0)}}),b.selfStateChange=!1,b.$watch(function(){return location.hash},function(c,d){d.indexOf("openGallery")>0&&a(function(){$.each(angular.element("[modal-window]"),function(a,c){b.selfStateChange=!0,angular.element(c).scope().$dismiss()})},200)}),b.$on("$stateChangeStart",function(a,c,e,g,h){"anonymous.otp"===c.name&&"anonymous.login"!==g.name&&f.path("/"),-1===c.name.indexOf("base.maps")&&0===g.name.indexOf("base.maps")&&(f.search("geo",null),f.search("_keys",null)),(c.name.indexOf("maps")||g.name.indexOf("maps"))&&(d.searchController=null),c.name.indexOf("base.maps")>-1?b.notificationPadding=!0:c.name.indexOf("base.listing")>-1?b.notificationPadding=!0:b.notificationPadding=!1}),b.$on("$stateChangeError",function(a,b,c,d,e,f){console.log("StateChangeError: ",f),console.log("From State: ",d),console.log("To State: ",b);
}),b.$watch("PARSED_URL_DATA",function(a,b){a&&-1!==a.VIEW_TYPE&&d.searchController&&d.searchController(a,b)}),i.init(),b.bandwidth={}}])}),define("controllers/b2b/abstractCtrl",["app"],function(a){a.controller("abstractCtrl",["$rootScope","resolvedUserDetails","$scope","$location",function(a,b,c,d){return b?(a.userLoggedIn=!0,void c.$on("$locationChangeSuccess",function(b,c,d){var e=c.indexOf("/settings"),f=d.indexOf("/settings");e>0&&-1===f&&(a.settingsSavedUrl={},a.settingsSavedUrl.path=/[^?]*/.exec(d)[0],-1==d.indexOf("?")?a.settingsSavedUrl.search="":a.settingsSavedUrl.search=d.substring(d.indexOf("?")+1))})):void d.path("/login")}])}),define("controllers/b2b/b2bInterceptor",["app","services/b2b/CookieService"],function(a){a.factory("sessionManage",["$q","$location","$rootScope","CookieService",function(a,b,c,d){var e={request:function(a){return a.headers.applicationType="b2b",a},responseError:function(e){var f=a.defer();return(401==e.status||400==e.status)&&("/login"===b.path()?"494"===e.data.statusCode?(c.$broadcast("unknownLoginIP",e.data),b.path("/otp")):"492"===e.data.statusCode||"493"===e.data.statusCode?(c.$broadcast("badCredentials",e.data),b.path("/login")):(c.$broadcast("badCredentials",{error:{msg:"Wrong username/password combination"}}),b.path("/login")):"/otp"===b.path()?c.$broadcast("unknownLoginIP",e.data):e.data&&e.data.error&&"Unauthorized"===e.data.error.msg?b.path("/unauthorized"):"/reset-password"===b.path()||"/forgot-password"===b.path()||(c.userDetails=void 0,c.saveAttemptedURL=b.path(),d.userSession.active(),b.path("/login"))),f.resolve(e),f.promise}};return e}]),a.config(["$httpProvider",function(a){a.interceptors.push("sessionManage")}])}),define("text!views/directives/common/b2b-header.c8ad4fb1.html",[],function(){return'<header class="header">\n    <div class="navbar navbar-inverse navbar-fixed-top custom-nav">\n        <div pt-notification  class="notification-info"></div>\n        <div class="navbar-inner">\n            <div class="container-fluid">\n                <div class="logo">\n                    <a analytics-on\n                       data-analytics-event="Click_Proptiger Logo"\n                       data-analytics-category="Dashboard"\n                       data-analytics-label=""\n                       href="/">\n                        <img src="../../../styles/images/logo1.png" alt="logo" /></a>\n                    <span class="tagline">powered by <span class="firsttag">Prop</span><span class="secondtag">Tiger</span></span>\n                </div>\n                <div class="">\n                	<ul class="nav navbar-nav">\n                     	<li data-ng-class="{active: \'dashboard\'===selectedTab}"><a href="/dashboard">Dashboard</a></li>\n                        <li data-ng-class="{active: \'maps\'===selectedTab}"><a data-ng-click="catchmentClick()">Catchment Analysis</a></li>\n                        <li data-ng-class="{active: \'builderAnalysis\'===selectedTab}"><a href="/buildersearch">Builder Analysis</a></li>\n                        <li data-ng-class="{active: \'knowledgeBank\'===selectedTab}"><a href="/projectdatabase">Project Database</a></li>\n                    </ul>\n                </div>\n                <div class="pull-right searchitem">\n                	<div class="">\n                        <ul class="nav navbar-nav">\n                            <li class="dropdown">\n                            	<a analytics-on\n                                   data-analytics-event="Top Search"\n                                   data-analytics-category="Button Click"\n                                   data-analytics-label="" href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown" data-ng-click="hideChildDropdown()"><i class="pt  pt-icon-search"></i> <b class="caret"></b></a>\n                                <div class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">\n                                	<div class="searchdrop" data-ng-click="$event.stopPropagation();">\n                                    	<form id="form1" name="form1" method="post">\n                                        	<div class="input-prepend input-append input-group paddingB10" >\n                                                <div class="add-on btn-dd input-group-addon" data-ng-class="{\'open\': toggleMenu}">\n                                                    <a class="dd-btn" data-ng-click="menuToggle()">\n                                                        <span data-ng-if="hSelectedCity"> {{hSelectedCity}} </span>\n                                                        <span data-ng-if="!hSelectedCity">\n                                                            All Cities\n                                                        </span>\n                                                        <i class="pt  pt-icon-caret-down"></i>\n                                                    </a>\n                                                    <ul class="dropdown-menu dd-list ta-left">\n                                                        <li analytics-on\n                                                            data-analytics-category="Top Search"\n                                                            data-analytics-event="All Cities"\n                                                            data-analytics-label="" data-ng-click="selectCity(null)" > All Cities</li>\n                                                        <li data-ng-repeat=\'city in cities\'\n                                                            data-ng-if="city.authorized"\n                                                            data-ng-click="selectCity(city)"\n                                                            analytics-on\n                                                            data-analytics-category="Top Search"\n                                                            data-analytics-event="{{city.label}}"\n                                                            data-analytics-label="">\n                                                            {{city.label}}\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                                <input type="text" data-ng-model="searchedItem" placeholder="Search builders, projects, localites, landmarks and cities" \n                                                    typeahead="result.displayText for result in getSearchResults($viewValue, hSelectedCity)"\n                                                    typeahead-template-url="views/controller/b2b/headerSearch.html"\n                                                    class="input-xxlarge"\n                                                    typeahead-on-select=\'searchedItem = undefined\' id="appendedDropdownButton" />\n                                                <span class="add-on input-group-addon"><i class="pt  pt-icon-search"></i></span>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </div>\n                             </li>\n                            <li class="dropdown">\n                            	<a href="javascript:void(0)" class="dropdown-toggle toUpperCase" data-toggle="dropdown">{{userFirstName}} <b class="caret"></b></a>\n                                <ul class="dropdown-menu dd-list acc-btn" role="menu" aria-labelledby="dropdownMenu">\n                                    <!-- <li><a href="javascript:void(0)">My Graph</a></li>\n                                    <li><a href="javascript:void(0)">My Account</a></li> -->\n                                    <li>\n                                        <a analytics-on\n                                           data-analytics-event="Settings"\n                                           data-analytics-category="Account"\n                                           data-analytics-label=""\n                                           href="settings" >Settings</a>\n                                    </li>\n                                    <!-- <li><a href="javascript:void(0)">Get Help</a></li> -->\n                                    <li>\n                                        <a analytics-on\n                                           data-analytics-event="Log Out"\n                                           data-analytics-category="Account"\n                                           data-analytics-label=""\n                                           href="javascript:void(0)" data-ng-click="logout()">Log Out</a>\n                                    </li>\n                                </ul>\n                             </li>\n                        </ul>\n                	</div>\n                </div>        \n            </div>\n        </div>\n    </div>\n</header>\n'}),define("text!views/directives/common/pt-cityDropdown.html",[],function(){return'<div class="add-on btn-dd">\n    <button data-ng-if="!cityToShow" class="btn dropdown-toggle" data-toggle="dropdown">\n        Select city\n        <span class="caret"></span>\n    </button>\n    <button data-ng-if="cityToShow" class="btn dropdown-toggle" data-toggle="dropdown">\n        {{cityToShow}}\n        <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu dd-list ta-left" id="city-list">\n        <li data-ng-if="city.authorized && ( city.displayPriority == 1 || city.displayPriority == 2 || applicationType == \'B2B\')" data-ng-repeat="city in cityList" class="{{city.class}}">\n                <a data-ng-click="cityChanged(city.label, city.id)" data-ng-class="{\'city-bold\' : city.displayPriority === 1}">{{city.label}}</a>\n         </li>\n    </ul>\n</div>\n\n'}),define("directives/common/pt-cityDropdown",["app","text!views/directives/common/pt-cityDropdown.html"],function(a,b){a.directive("ptCityDropdown",[function(){return{restrict:"EA",replace:!1,template:b,controller:["$scope","$location","$rootScope","GlobalService","CityService","GoogleAnalyticsService",function(a,b,c,d,e,f){e.getMainCities().then(function(a){c.cityList=a.data}),a.cityChanged=function(e,g){c.$broadcast("newCatchmentCall",!0);var h="projects-in-"+e.toLowerCase();c.CURRENT_ACTIVE_PAGE,d.setCatchmentVisitedCity(e),f.gaEventCityDropDownChange(e),-1!==b.path().indexOf("maps")&&(h="/maps/projects-in-"+e.toLowerCase()),a.defaultPreference?b.path(h).search(a.defaultPreference):b.path(h).search({})};var g=function(b,d,e,f){var g;c.cityList?(g=h(b,f,c.cityList),d&&d(e?e:g)):a.$watch("cityList",function(a){a&&(g=h(b,f,c.cityList),d&&g&&d(e?e:g))})},h=function(b,e,f){var g;return b||e?(g=_.find(f,function(a){return b?a.label.toLowerCase()==b.toLowerCase():a.id==e}),g?(a.cityToShow=g.label,c.selectedCity=g,d.setHomeCity(g.id,g.label)):(c.selectedCity=void 0,a.cityToShow=!1)):a.cityToShow=!1,g};a.$watch("PARSED_URL_DATA",function(a,b){a&&a.TYPE&&(!c.selectedCity||c.selectedCity&&c.selectedCity.id!=a.SEARCH_OBJ.cityId)&&c.waitUpdateCity(a.SEARCH_OBJ.city)}),a.$on("citychanged",function(b,c){c?a.cityChanged(c):a.cityToShow=!1}),c.waitUpdateCity=g}]}}])}),define("parsers/citiesParser",["app"],function(a){a.factory("CityParser",[function(){var a=function(a){return a.data},b=function(a){var b=[];return $.each(a,function(a,c){b.push({id:c.countryId,name:c.label,code:c.countryCode}),7==c.countryId&&b.push({id:c.countryId+1,name:"----------",code:""})}),b};return{parse:a,parseCountry:b}}])}),define("services/citiesService",["app","services/globalService","services/getHttpService","parsers/citiesParser"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("CityService",["$http","GlobalService","GetHttpService","CityParser",function(a,b,c,d){var e,f='data/v1/entity/city?selector={"sort":[{"field":"displayPriority","sortOrder":"ASC"},{"field":"displayOrder","sortOrder":"ASC"}],"paging":{"start":0,"rows":10000},"fields":["id","displayOrder","displayPriority","label","centerLatitude","centerLongitude","minZoomLevel","maxZoomLevel","amenities","latitude","longitude","localityAmenityTypes","name","isCouponAvailable","maxDiscount","authorized","cityPropertyCount","cityProjectCount","cityLocalityCount"]}',g="application/x-www-form-urlencoded",h=!0,i=b.makeGetCall(f,g,!0,!0,h),j=function(a){return a&&(i=null),i||(i=b.makeGetCall(f,g,!0,!0)),i},k=function(a){var b={};return angular.forEach(a,function(a){b[a.id]=a}),b},l=function(){if(!e){var a={data:""},b={citiesData:function(){return i.then(function(b){return a.data=d.parse(b.data),a})}};e=b.citiesData()}return e},m=function(a,c,d,e,f){if(c||(c=0),d||(d=10),a){var h;return h=a instanceof Array?"data/v1/entity/news?tag="+a.join(",")+'&selector={"paging":{"start":0,"rows":'+d+"}}":1===e?"data/v1/entity/news?tag="+a+'&selector={"paging":{"start":0,"rows":'+d+"}}":"data/v1/entity/blog?tag="+a+'&selector={"paging":{"start":0,"rows":'+d+"}}",b.makeGetCall(h,g,!0,!0,!0).then(function(a){if(200===a.status){if(!f)return a.data;f(a.data.data)}})}throw"cityId not provided"},n=function(a,c){var d='app/v1/project-listing?selector={"filters":{"and":[{"equal":{"builderId":'+a+"}}]}}&facets=cityLabel";return b.makeGetCall(d,g,!0,!0,!0).then(function(a){if(200===a.status){if(!c)return a.data.data.facets.cityLabel;c(a.data.data)}})},o=function(){return b.makeGetCall("data/v1/entity/country",!1,!0,!0,h).then(function(a){return a&&a.data&&a.data.data?d.parseCountry(a.data.data):void 0})},p=function(a,c){var d="data/v1/trend/hitherto?filters=cityId=="+a+"&monthDuration=3&fields=sumCustomerDemand,localityName&group=localityId";return c?d:b.callApiAndRespond(d)},q=function(a){return r(a,"suburb")},r=function(a,c,d){var e='data/v1/entity/locality?selector={"filters":{"and":[{"equal":{"'+c+'Id":["'+a+'"]}}]},"fields":["localityId","label","url"],"paging":{"start":0,"rows":5}}';return d?e:b.callApiAndRespond(e)},s=function(a,c){var d='data/v1/entity/suburb?selector={"filters":{"and":[{"equal":{"cityId":'+a.toString()+'}}]},"fields":["id","label","url"]}';return c?d:b.callApiAndRespond(d)},t=function(a,c,d,e){if(!a||!c)return!1;d||0===d||(d=0),e||(e=4);var f="data/v1/entity/"+c+"/"+a+"/locality-review?start="+d+"&rows="+e;return b.callApiAndRespond(f,!0)},u=function(a){return l().then(function(b){if(b){var c,d;return angular.forEach(b.data,function(e,f){e.id===a&&(c=b.data[f],d={cityId:c.id,isCouponAvailable:c.isCouponAvailable,maxDiscount:c.maxDiscount,label:c.label})}),d}})},v=function(a){var b,c=0;return angular.forEach(a,function(a){a.authorized&&(c++,b=a)}),1===c?b:!1};return{getMainCities:l,getLocality:r,getPopularSuburbs:s,getSuburbLocality:q,getBlogOrNews:m,getCountry:o,getReview:t,getDemand:p,getBuilderCities:n,getLoggedInUserCities:j,getCityCouponInfo:u,getCityForSingleCityUserAccess:v,cityIdAndNameMapping:k}}])}),define("text!views/directives/common/pt-notification.html",[],function(){return'<div id="notification" data-ng-show="showAlert">\n<div id="alert" class="alert alert-{{alert.type}} alert-dismissable">\n	<!--<button type="button" class="close" data-ng-click="closeNoti()">&times;</button>-->\n	<span class="pull-left">\n    <i data-ng-if="alert.type===\'alert\'" class="pt pt-icon-exclamation-triangle"></i>\n    <i data-ng-if="alert.type===\'info\'" class="pt pt-icon-info-circle"></i>\n    <i data-ng-if="alert.type===\'error\'" class="pt pt-icon-ban"></i>\n        <span data-ng-hide="alert.htmlMode">{{notimsg}}</span>\n    </span> \n    <span data-ng-if="alert.htmlMode" data-ng-bind-html="alert.HtmlMsg" class="alertBulMesInfo"></span>\n	<span class="paddingL15 pull-right">\n        <button data-ng-if="alert.showYes" type="button" class="btn btn-small search-bg notificationBtn" data-ng-click="actionTaken(\'onYes\')">{{alert.confirmText}}</button>\n        <button data-ng-if="alert.showNo" type="button" class="btn btn-small search-bg notificationBtn" data-ng-click="actionTaken(\'onNo\')">{{alert.cancelText}}</button>\n  	</span>\n</div>\n</div>\n'}),define("directives/common/pt-notification",["app","text!views/directives/common/pt-notification.html","services/notificationService"],function(a,b){a.directive("ptNotification",["$rootScope","NotificationService","$sce",function(a,c,d){return{restrict:"A",template:b,link:function(a,b,c){a.$on("$destroy",function(){b.remove()})},controller:["$scope","$rootScope","NotificationService","$timeout","$location",function(a,b,c,e,f){a.showAlert="false",a.fadeOut=c.removeNotification,a.alert=c.getNotification(),f.$$url.indexOf("/maps")>-1?a.notiClass="":a.notiClass="xyz",a.$watch("alert.msg",function(c,g){if(c&&a.alert.htmlMode&&(a.alert.HtmlMsg=c=d.trustAsHtml(a.alert.msg)),c&&(c!=g||a.alert.isNetworkError)){if(a.notimsg=c,"undefined"!=typeof a.notimsg&&a.notimsg.indexOf("@TS@")>-1){var h=a.notimsg.split("@TS@");a.notimsg=h[0]}a.timer&&e.cancel(a.timer),a.showAlert="true";var i,j=6.5*c.length+150;if(i=b.notificationPadding?"89px":"45px",$("#notification").css({width:j+"px","margin-left":-j/2+"px"}).fadeIn("4000").animate({top:i,"z-index":"2"},{duration:"50000"},function(){}),"Authentication error"==c){var k=f.path();k.indexOf("portfolio")>-1?window.location.href="/property-portfolio-tracker":window.location.href="/"}else a.alert.isConfirm||(a.timer=e(function(){a.showAlert="false",a.alert.msg=""},1e4))}else a.fadeOut()}),a.actionTaken=function(b){a.alert[b]?(a.alert[b](),a.fadeOut()):a.showAlert="false"},a.closeNoti=function(){a.fadeOut()}}]}}])}),define("directives/common/b2b-header.c8ad4fb1",["app","text!views/directives/common/b2b-header.c8ad4fb1.html","directives/common/pt-cityDropdown","services/citiesService","services/notificationService","directives/common/pt-notification","services/searchService","formatters/common","services/globalService","services/b2b/CookieService"],function(a,b){a.directive("b2bHeader",[function(){return{restrict:"EA",replace:!0,template:b,controller:["$scope","$rootScope","$location","$timeout","$http","CityService","GlobalService","$state","$stateParams","SearchService","NotificationService","Formatter","CookieService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){a.userFirstName=b.userDetails.firstName,a.logout=g.b2bLogout,f.getMainCities().then(function(b){a.cities=b.data;var c=f.getCityForSingleCityUserAccess(a.cities);c&&a.selectCity(c)});var n=function(a,b){var d,e=!1,f={};j.findAllLandmarkProperties(a.googlePlaceId,function(a){if(angular.forEach(a,function(a,b){"undefined"!=typeof a.data.placeId&&""!=a.data.placeId?(f.placeDetailData=a.data,d=f.placeDetailData.url):(f.projectListingCnt=a.totalCount,f.projectListingCnt>0&&(e=!0))}),e&&f.placeDetailData&&f.placeDetailData.cityid){var b=l.getUrlWithParam(d);c.path("/maps/"+b.__url).search(b.__search)}else k.removeNotification(),k.setNotification({msg:"Sorry! No projects found in this area. Continue exploring.@TS@-"+(new Date).getTime(),type:"error"})})};a.goToThis=function(a){switch(a.type){case"BUILDER":c.path("/analysis/builder/"+a.id);break;case"PROJECT":c.path("/phase-detail").search("projectId",a.id);break;case"CATCHMENT":c.path("/analysis/catchment/"+a.id)}},a.gotoSearchResult=function(a){if(a.isGooglePlace)return void n(a,"map");switch(a.type){case"BUILDERCITY":case"BUILDER":var e=a.builderId?a.builderId+"-"+a.entityId:a.id;j.getViewType()==b.VIEW_TYPES.MAP?b.searchHandler(a):"/buildersearch"===c.path()?(c.search("ids",e),d(function(){h.reload()},10)):c.path("/buildersearch").search("ids",e);break;case"PROJECT":b.$broadcast("newCatchmentCall",!0),j.getViewType()==b.VIEW_TYPES.MAP?b.searchHandler(a):c.path("/maps/"+a.localityURL).search({projectId:a.id});break;case"LOCALITY":case"SUBURB":b.$broadcast("newCatchmentCall",!0),j.getViewType()==b.VIEW_TYPES.MAP?b.searchHandler(a):c.path("/maps/"+a.redirectUrl).search({});break;case"CATCHMENT":c.path("/maps/"+a.redirectUrl);break;case"CITY":b.$broadcast("newCatchmentCall",!0),j.getViewType()==b.VIEW_TYPES.MAP?b.searchHandler(a):c.path("/maps/"+a.redirectUrl).search({})}};var o=[];a.Results=o,a.getSearchResults=function(a,b){var c=a+"&enhance=gp";return b&&(c=c+"&city="+b),e.get(g.getAPIURL("columbus/app/v4/typeahead?query="+c)).then(function(a){var b=[];if(a&&a.data){for(var c in a.data.data)if(!a.data.data[c].isSuggestion){var d=a.data.data[c].id.lastIndexOf("-");a.data.data[c].id=a.data.data[c].id.substr(d+1),b.push(a.data.data[c])}return b}})},a.menuToggle=function(){a.toggleMenu=!a.toggleMenu},a.selectCity=function(b){b?a.hSelectedCity=b.label:a.hSelectedCity=null,a.hideChildDropdown()},a.hideChildDropdown=function(){a.toggleMenu=!1},a.catchmentClick=function(){-1!==c.url().indexOf("/maps")&&(b.$broadcast("newCatchmentCall",!0),b.urlData={pageType:"empty"}),c.path("/maps")}}]}}])}),define("text!views/directives/b2b/modal/create-new-c-save-old.html",[],function(){return'<div pt-loading-block data-ng-if="showLoader" class="dspl-inline"></div>\n\n<div class="modal-body">\n\n    <div class="modal-box alert-new-catchment" data-ng-if="currentCatchment.state == \'new\' || currentCatchment.state == \'rename\'">\n        <div data-ng-if="!currentCatchment.id">\n            <span data-ng-if="currentCatchment.state == \'rename\'">Oops! Catchment with the same name already exists. <br /></span>\n            <span>Save a New Catchment</span>\n            <div class="clearfix"></div><br />\n            <input type="text" class="catchmentName" placeholder="Enter a name for catchment"/>\n            <button class="pull-right btn-primary conti paddingRL10" data-ng-click="create();" >Save</button>\n            <div data-ng-if="errorMsg" class="red">{{errorMsg}}</div>\n            <div class="clearfix"></div>\n        </div>\n        <div data-ng-if="currentCatchment.id">\n            <div data-ng-if="currentCatchment.status === \'Active\'">\n                <button class="btn-primary conti" data-ng-click="update();">Save Your Changes</button>\n                <span class="or">OR</span>\n                <hr />\n            </div>\n            <span data-ng-if="currentCatchment.state == \'rename\'">Oops! Catchment with the same name already exists. <br /></span>\n            <span>Save your changes in a New Catchment</span>\n            <div class="clearfix"></div><br />\n            <input type="text" class="catchmentName pull-left" placeholder="Enter a name for catchment"/>\n            <button class="pull-right btn-primary conti paddingRL10" data-ng-click="create();">Save New Catchment</button>\n            <div data-ng-if="errorMsg" class="red">{{errorMsg}}</div>\n            <div class="clearfix"></div>\n        </div>\n    </div>\n    \n    <div class="modal-box alert-new-catchment" data-ng-if="currentCatchment.state == \'saved\'">\n        <br>\n        <span class="success">Great! Your catchment has been saved.</span>\n        <br>\n        <button class="pull-right paddingT10 paddingB10 paddingR20 btn small-btn" data-ng-click="cancel();">Okay</button>\n    </div>\n    \n    <div class="modal-box alert-new-catchment" data-ng-if="currentCatchment.state == \'error\'">\n        <br>\n        <span class="red">Sorry! Not able to save due to some error, try again later.</span>\n        <br>\n        <button class="pull-right paddingT10 paddingB10 paddingR20 btn small-btn" data-ng-click="cancel();">Okay</button>\n    </div> \n        \n</div>\n<div data-ng-click="cancel()" class="closeBtn">\n    <i class="pt  pt-icon-times"></i>\n</div> \n'}),define("directives/b2b/maps/saveCatchment",["app","text!views/directives/b2b/modal/create-new-c-save-old.html"],function(a,b){a.directive("b2bSaveCatchment",[function(){return{restrict:"A",template:"",controller:["$scope","$rootScope","$modal","$location",function(a,c,d,e){var f=[],g=a.$on("newCatchmentCall",function(){c.currentCatchment={name:"New Catchment",id:null,state:"new",projIds:[],status:"Inactive",attr:""}});f.push(g);var h=a.$on("saveCatchment",function(){d.open({backdrop:"static",keyboard:!1,template:b,controller:["$scope","$rootScope","$modalInstance","$location","CatchmentService",function(a,b,c,d,e){a.save=function(c){var d=e.updateCatchment(c.id,c.name,c.projects,c.status,c.attr,function(a){"2XX"===a.data.statusCode?(b.currentCatchment.state="saved",b.currentCatchment.status="Active",b.currentCatchment.name=c.name,b.currentCatchment.id=a.data.data.id):"499"===a.data.statusCode?b.currentCatchment.state="rename":(b.currentCatchment.state="error",console.log("Unknown error while catchment creation. Status : ",a.data.statusCode))});d&&(a.errorMsg=d.msg)},a.update=function(){var c={};c.name=b.currentCatchment.name,c.id=b.currentCatchment.id,c.projects=b.currentCatchment.projIds,c.status="Active",c.attr=b.currentCatchment.attr,a.save(c)},a.create=function(){var c={};a.errorMsg=void 0,c.name=$(".catchmentName").val(),c.id=null,c.projects=b.currentCatchment.projIds,c.status="Active",c.attr=b.currentCatchment.attr,a.save(c)},a.cancel=function(){c.dismiss("cancel")}}]})});f.push(h),a.$on("$destroy",function(){j()});var i=function(a,b){b&&b()},j=function(){$.each(f,i)}}]}}])}),define("text!views/directives/maps/map-help.html",[],function(){return'<div data-ng-if="showOverview">\n    <div class="help-overlay"></div>\n    <div class="help-screen-1">\n    	<div class="content-wrap">\n            <h2>PropTiger Maps</h2>\n            <h3>Smarter way to explore</h3>\n            <div class="feature-list">\n                <div class="feature">\n                    <div class="feature-icon"><i class="pt pt-icon-map-marker"></i></div>\n                    <div class="feature-desc">\n                        <h4>Get Local</h4>\n                        <p>Check localities, find projects, get directions and other local info</p>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n                <div class="feature">\n                    <div class="feature-icon"><i class="pt pt-icon-coffee"></i></div>\n                    <div class="feature-desc">\n                        <h4>Neighborhood, Connectivity &amp; more</h4>\n                        <p>Locate Schools, Restaurants, ATMs, Airports and other nearby facilities</p>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n                <div class="feature">\n                    <div class="feature-icon"><i class="pt pt-icon-adjust"></i></div>\n                    <div class="feature-desc">\n                        <h4>Heat Maps - Price &amp; Possession</h4>\n                        <p>Reduce search time to 50% through price variation &amp; property-readiness heat maps</p>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n            </div>\n            <center><button type="button" class="btn btn-large btn-default" data-ng-click="closeOverview(\'ok\')">OKAY, GOT IT</button></center>\n		</div>\n        <button type="button" class="close" title="Close" data-ng-click="closeOverview(\'cancel\')">x</button>\n    </div>\n</div>'}),define("directives/maps/map-help",["app","text!views/directives/maps/map-help.html"],function(a,b){a.directive("mapHelp",["$rootScope",function(a){return{restrict:"A",template:b,controller:["$scope","$rootScope","$cookies","$timeout","$location",function(a,b,c,d,e){if("undefined"!=typeof c.MAP_HELP_SCREEN)g=JSON.parse(c.MAP_HELP_SCREEN),f=g;else var f={},g="";a.showHelp="false",a.showOverview="false",a.cardNumber="1",a.$watch("CURRENT_ACTIVE_PAGE",function(b,d){if(-1===e.path().indexOf("maps"))return a.showHelp="false",a.showOverview="false",!1;if(a.pageType=b,a.showHelp="false",a.showOverview="false",a.cardNumber="1",b){if("undefined"!=typeof c.MAP_HELP_SCREEN&&(g=JSON.parse(c.MAP_HELP_SCREEN)),a.cookies_val=g,("undefined"==typeof g.map_home_close||g.map_home_close&&"true"!=g.map_home_close)&&(a.showOverview="true"),"map-sale-listing-city"==a.pageType){if("undefined"==typeof g.city_card_number)var h=1;else var h=parseInt(g.city_card_number);"true"==g.map_help_close||"true"==g.map_city_close?a.showHelp="false":(a.showHelp="true",a.cardNumber=h)}if("map-sale-listing-city-locality"==a.pageType){if("undefined"==typeof g.locality_card_number)var i=1;else var i=parseInt(g.locality_card_number);"true"==g.map_help_close||"true"==g.map_locality_close?a.showHelp="false":(a.showHelp="true",a.cardNumber=i)}"map-projectdetail"==a.pageType&&("true"==g.map_help_close||"true"==g.map_project_close?a.showHelp="false":a.showHelp="true"),"true"==a.showOverview&&(a.showHelp="false"),f&&f.length>0&&(c.MAP_HELP_SCREEN=JSON.stringify(f))}}),a.closeOverview=function(d){if(b.$broadcast("showCorrectHelp"),"undefined"!=typeof c.MAP_HELP_SCREEN)g=JSON.parse(c.MAP_HELP_SCREEN),e=g;else{var e={};g={}}e.map_home_close="true",a.showOverview="false",a.showHelp="true",c.MAP_HELP_SCREEN=JSON.stringify(e)}}]}}])}),define("parsers/imageParser",["app","formatters/common"],function(a){a.factory("ImageParser",["Formatter","$location","$rootScope",function(a,b,c){var d=function(c,d,e,f,g,h,i,j,k){e="date"===e?"createdAt":"type";var l={},m=!1,n=0,o=0,p=-1;$.each(d,function(d,f){if(f.videoUrl){var g=b.protocol(),m={video:!0,text:f.category,image:g+"://img.youtube.com/vi/"+f.videoUrl+"/0.jpg",mediumImage:g+"://img.youtube.com/vi/"+f.videoUrl+"/0.jpg",thumbImage:g+"://img.youtube.com/vi/"+f.videoUrl+"/1.jpg",largeImage:g+"://img.youtube.com/vi/"+f.videoUrl+"/0.jpg",videoId:f.videoUrl};f.imageType={},f.imageType.type="videos"}else var m={image:f.absolutePath,floor3dImage:f.floor3dImage||null,panoramaViewPath:f.panoramaViewPath||null,panoramaUnit:f.panoramaUnit||null,walkThrough:f.walkThrough||null,walkThroughThumb:f.walkThroughThumb||null,walkThroughHeight:f.walkThroughHeight||null,walkThroughWidth:f.walkThroughWidth||null,mediumImage:a.getImagePath(f.absolutePath,"MEDIUM"),thumbImage:a.getImagePath(f.absolutePath,"THUMBNAIL"),largeImage:a.getImagePath(f.absolutePath,"LARGE"),text:f.altText,height:f.height,width:f.width,takenAt:f.takenAt,pageUrl:f.pageUrl&&f.imageType.imageSitemapEnabled?f.pageUrl:k,unitName:f.unitName,measure:f.measure,size:f.size,carpetArea:f.carpetArea,imType:f.imType,displayName:f.imageType.displayName,svg_details:f.svg_details||null};f.floor3dImage&&(m.floor3DImageWidth=f.floor3DImageWidth,m.floor3DImageHeight=f.floor3DImageHeight),f.objectId&&(m.objectId=f.objectId),h&&(m.mainTitle=h),i&&(m.city=i),j&&(m.locality=j.label);var n="",o=null;"date"===e?(n=a.getDateMonth(f.createdAt)+"-"+a.getDateYear(f.createdAt),o=n):(n=f.imageType.type,o="undefined"!=typeof c[n]?c[n]:""),o&&"object"!=typeof l[o]&&(l[o]=[]),""!==o&&l[o].push(m)}),g&&$.each(g,function(a,b){if(l[a]&&l[a].length){"Videos"===a&&(o+=l[a].length,m=!0),l[b]||(l[b]=[]);for(var c=0;c<l[a].length;c++)"Videos"===a&&-1===p&&(p=l[b].length),l[b].push(l[a][c]);delete l[a]}});var q=[];"object"==typeof f&&$.each(f,function(a,b){l[b]&&(q.push({index:b,data:l[b]}),delete l[b])}),$.each(l,function(a,b){q.push({index:a,data:b})});for(var r=0;r<q.length;r++)m&&"Photos"===q[r].index&&(q[r].index="Photos & Videos"),n+=q[r].data.length;return n-=o,{imageCount:n,videoCount:o,videoIndex:p,data:q}},e=function(a){var b=o(a,"type"),c=[],d=[];return $.each(b,function(a,b){b.data&&$.each(b.data,function(a,b){c.push(b)})}),c.length&&(d=[{index:"Project",data:c}]),d},f=function(a){if(!a||!a.images)return[];var b=a.images,c=[],d=[];return $.each(b,function(a,b){var d={image:b.absolutePath,text:b.title};c.push(d)}),c.length&&d.push({index:"Project",data:c}),d},g=function(a){var b={config:[],startIdx:null};return a&&a.length&&angular.forEach(a,function(a,c){a.slideidx=c,a.unitName&&(null===b.startIdx&&(b.startIdx=c),b.config.push(a))}),b},h=function(a){var b={mall:"Mall",hospital:"Hospital",school:"School",road:"Road",temple:"Temple",other:"Others",park:"Park",office_complex:"Office Complex",grocery_or_supermarket:"Grocery",subway_station:"Subway Station",
shopping_mall:"Shopping Mall",airport:"Airport",atm:"ATM",bank:"Bank",bus_station:"Bus Station",commercialComplex:"Commercial Complex",gas_station:"Petrol Pump",higher_education:"College",hotel:"Hotel",play_school:"Play School",restaurant:"Restaurant",sportsComplex:"Sports Complex",train_station:"Train Station"};return b[a]},i=function(a,b){var c={config:[],startIdx:null},d={};return a&&a.length&&(angular.forEach(a,function(a,b){"Neighborhood"==a.type&&(null===c.startIdx&&(c.startIdx=b),d.hasOwnProperty(a.imType)||(d[a.imType]=b))}),angular.forEach(b,function(a,b){c.config.push({type:h(b),count:a,startindex:d[b]})})),c},j=function(a,b){for(var c=!1,d=0;d<a.length;d++)if(a[d].index==b){c=!0;break}return c},k=function(a,b,c){for(var d=0;d<a.length;d++)a[d].index==b&&(a[d].data="undefined"==typeof a[d].data?[]:a[d].data,a[d].data.push(c));return a},l=function(a,b){var c={data:[],imageCount:0};c.imageCount=a.imageCount;for(var d=0;d<b.length;d++)for(var e=0;e<a.data.length;e++)b[d]&&a.data[e]&&a.data[e].index==b[d]&&c.data.push(a.data[e]);return c},m=function(b,c,d,e,f){var g,h={videos:'<i class="pt pt-icon-youtube-play"></i> Videos',living:"Living Room",bedroom:"Bedroom",kitchen:"Kitchen",balcony:"Balcony",dining:"Dining"},i=['<i class="pt pt-icon-youtube-play"></i> Videos',"Living Room","Bedroom","Kitchen","Balcony","Dining","Others"],m={data:[],imageCount:0};if(_.each(b,function(b){b.absolutePath&&(m.imageCount=m.imageCount+1,b.mediumImage=a.getImagePath(b.absolutePath,"MEDIUM"),b.thumbImage=a.getImagePath(b.absolutePath,"THUMBNAIL"),b.largeImage=a.getImagePath(b.absolutePath,"LARGE"),b.text=b.altText,b.mainTitle=b.title,b.displayName=b.imageType.displayName,b.city=d?d:"",b.locality=c?c:"",_.keys(h).indexOf(b.imageType.type)>-1&&!j(m.data,h[b.imageType.type])?m.data.push({index:h[b.imageType.type]}):_.keys(h).indexOf(b.imageType.type)>-1||j(m.data,"Others")||m.data.push({index:"Others"}),g="undefined"!=typeof h[b.imageType.type]?h[b.imageType.type]:"Others",m.data=k(m.data,g,b))}),f){var n={walkThroughThumb:a.getImagePath(f[0].imageUrl,"MEDIUM"),walkThrough:r(f[0].mediaExtraAttributes.videoUrlDetails),walkThroughWidth:f[0].width?f[0].width:800,walkThroughHeight:f[0].height?f[0].height:600,internalVideo:!0,thumbImage:a.getImagePath(f[0].imageUrl,"THUMBNAIL")};m.data.push({data:[n],index:'<i class="pt pt-icon-youtube-play"></i> Videos'})}return m=l(m,i),e&&e.floorPlan&&(m.imageCount=m.imageCount+1,e.floorPlan.mediumImage=a.getImagePath(e.floorPlan.absolutePath,"MEDIUM"),e.floorPlan.thumbImage=a.getImagePath(e.floorPlan.absolutePath,"THUMBNAIL"),e.floorPlan.largeImage=a.getImagePath(e.floorPlan.absolutePath,"LARGE"),m.data.push({data:[e.floorPlan],index:"FLOOR PLAN"})),0===m.imageCount&&e&&e.elevetionImg&&(m.imageCount=m.imageCount+1,e.elevetionImg.mediumImage=a.getImagePath(e.elevetionImg.absolutePath,"MEDIUM"),e.elevetionImg.thumbImage=a.getImagePath(e.elevetionImg.absolutePath,"THUMBNAIL"),e.elevetionImg.largeImage=a.getImagePath(e.elevetionImg.absolutePath,"LARGE"),m.data.push({data:[e.elevetionImg],index:"PHOTO"})),m},n=function(a){var b=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),c={config:[],startIdx:null},d={};return a&&a.length&&(angular.forEach(a,function(a,e){var f;if("Construction"==a.type){if(null===c.startIdx&&(c.startIdx=e),a.takenAt){var g=new Date(a.takenAt);f=b[g.getMonth()]+"'"+g.getFullYear().toString().slice(2,4)}else f="Before Oct'13";d.hasOwnProperty(f)||(d[f]=e)}}),angular.forEach(d,function(a,b){c.config.push({type:b,startindex:a})})),c},o=function(a,b,c){if(!a||!a.images)return[];var d=a.images;return a.landmarkImages&&angular.forEach(a.landmarkImages,function(a,b){a.imType=a.imageType.type,a.imageType.type="neighbor",d.push(a)}),a.properties&&a.properties.length>0&&$.each(a.properties,function(a,b){d=d.concat(s(b))}),a.videoUrls&&(d=d.concat(a.videoUrls)),a.builder&&(a.fullName=a.builder.name+" "+a.name),p(d,b,c,a.fullName,a.city,a.locality,a.URL)},p=function(a,b,c,e,f,g,h){var i={clusterPlan:"Cluster Plan",constructionStatus:"Construction",layoutPlan:"Layout Plan",locationPlan:"Location Plan",floorPlan:"Project & Floor Plans",main:"Photos",masterPlan:"Master Plan",sitePlan:"Site Plan",videos:'<i class="pt pt-icon-youtube-play"></i> Videos',neighbor:"Neighborhood",amenities:"Amenities",mainOther:"Photos"};if("construction"===c)var j=["Construction","Photos",'<i class="pt pt-icon-youtube-play"></i> Videos',"Project & Floor Plans","Amenities","Master Plan","Site Plan","Layout Plan","Cluster Plan","Location Plan"];else var j=["Photos",'<i class="pt pt-icon-youtube-play"></i> Videos',"Project & Floor Plans","Amenities","Master Plan","Site Plan","Layout Plan","Cluster Plan","Location Plan","Construction"];var k={"Master Plan":"Project & Floor Plans","Site Plan":"Project & Floor Plans","Layout Plan":"Project & Floor Plans","Location Plan":"Project & Floor Plans","Cluster Plan":"Project & Floor Plans"};return d(i,a,b,j,k,e,f,g,h)},q=function(a,b,c){var d=s(a);return p(d,b,c,a.unitName,a.city,null,a.URL)},r=function(a){for(var b=a.length,d=0,e=[],f=0;b>f;f++)e.push({file:a[f].url,label:a[f].resolution,bitRate:parseInt(a[f].bitRate)});for(var f=0;b>f;f++)c.bandwidth.speedKbps>e[f].bitRate&&e[f].bitRate>e[d].bitRate&&(d=f);return e[d]["default"]=!0,e},s=function(b){var c=[];if(b.images&&b.images.length>0){for(var d=0;d<b.images.length;d++)c.push(b.images[d]),c[c.length-1].unitName=b.unitName,c[c.length-1].size=b.size,c[c.length-1].carpetArea=b.carpetArea,c[c.length-1].measure=b.measure;b.media&&b.media.length>0&&$.each(b.media,function(d,e){if("3DFloorPlan"===e.objectMediaType.type)c[c.length-1].floor3dImage=a.getImagePath(b.media[d].absoluteUrl,"LARGE"),c[c.length-1].floor3DImageWidth=b.media[d].mediaExtraAttributes?b.media[d].mediaExtraAttributes.width:1200,c[c.length-1].floor3DImageHeight=b.media[d].mediaExtraAttributes?b.media[d].mediaExtraAttributes.height:900,c[c.length-1].svg_details=b.media[d].mediaExtraAttributes?b.media[d].mediaExtraAttributes.svg:null;else if("Panoramic"===e.objectMediaType.type){if(b.media[d].mediaExtraAttributes)if(b.media[d].absoluteUrl&&b.media[d].mediaExtraAttributes.extractPath&&b.media[d].mediaExtraAttributes.indexFile){var f=b.media[d].absoluteUrl.split("/");c[c.length-1].panoramaViewPath=f[0]+"//"+f[2]+"/"+b.media[d].mediaExtraAttributes.extractPath+b.media[d].mediaExtraAttributes.indexFile}else c[c.length-1].panoramaViewPath=null;c[c.length-1].panoramaUnit=b.unitName+" "+b.size+" "+b.measure}}),b.video&&b.video.length>0&&b.video[0].mediaExtraAttributes&&b.video[0].mediaExtraAttributes.videoUrlDetails&&b.video[0].mediaExtraAttributes.videoUrlDetails.length&&(c[c.length-1].walkThrough=r(b.video[0].mediaExtraAttributes.videoUrlDetails),c[c.length-1].walkThroughThumb=b.video[0].imageUrl,c[c.length-1].walkThroughHeight=b.video[0].height?b.video[0].height:600,c[c.length-1].walkThroughWidth=b.video[0].width?b.video[0].width:800),b.panoramaViewPath&&!c[c.length-1].panoramaViewPath&&(c[c.length-1].panoramaViewPath=b.panoramaViewPath?b.panoramaViewPath:null,c[c.length-1].panoramaUnit=b.unitName+" "+b.size+" "+b.measure)}return c},t=function(a,b){if(!a)return[];var c={constructionStatus:"Construction",layoutPlan:"Project & Floor Plans",locationPlan:"Location Plan",floorPlan:"Project & Floor Plans"},e=["Construction","Project & Floor Plans","Location Plan"];return d(c,a,b,e)},u=function(a,b){var c,e,f,g={mall:"Mall",hospital:"Hospital",school:"School",road:"Road",temple:"Temple",other:"Others",park:"Park",office_complex:"Office Complex",grocery_or_supermarket:"Grocery",subway_station:"Subway Station",shopping_mall:"Shopping Mall",airport:"Airport",atm:"ATM",bank:"Bank",bus_station:"Bus Station",commercialComplex:"Commercial Complex",gas_station:"Petrol Pump",higher_education:"College",hotel:"Hotel",play_school:"Play School",restaurant:"Restaurant",sportsComplex:"Sports Complex",train_station:"Train Station"};a.fullName&&(c=a.fullName),a.city&&(e=a.city),a.locality&&(f=a.locality);var h={Grocery:"Others","Subway Station":"Others","Shopping Mall":"Others","Location Plan":"Others",Airport:"Others",ATM:"Others",Bank:"Others","Bus Station":"Others","Commercial Complex":"Others","Petrol Pump":"Others",College:"Others",Hotel:"Others","Play School":"Others",Restaurant:"Others","Sports Complex":"Others","Train Station":"Others"};return d(g,a,b,"",h,c,e,f)},v=function(b){var c,d=-1,e=[],f=[],g=0;return $.each(b,function(a,b){"Construction"==b.index&&(c=b.data)}),c&&$.each(c,function(b,c){var h="undefined"==typeof c.takenAt?"Before Oct 2013":a.getDateMonth(c.takenAt)+"'"+a.getDateYear(c.takenAt),i=e.indexOf(h);-1===i&&(d++,e[d]=h),"undefined"==typeof f[d]&&(f[d]={},f[d].data=[],f[d].index=h),f[d].data.push(c),g++}),{data:f,imageCount:g}},w=function(a){var b,c=0;return $.each(a,function(a,d){"Neighborhood"==d.index&&(b=[d],c=d.data.length)}),{data:b,imageCount:c}},x=function(a){var b,c=0;return $.each(a,function(a,d){"Project & Floor Plans"==d.index&&(b=[d],c=d.data.length)}),{data:b,imageCount:c}};return{getAllImage:e,getProjectImage:o,getPropertyImage:q,getLocalityImage:u,getClusteredImage:t,getAllImageUnsorted:f,getConstructionImages:v,getpropertyConfig:g,getNeighbourhoodImages:w,getFloorPlanImages:x,getconstructionConfig:n,getneighbourConfig:i,getResaleImages:m}}])}),define("parsers/graphParser",["app","formatters/common"],function(a){a.factory("GraphParser",["Formatter",function(a){var b=function(a,b){var c=[];return $.each(b,function(b,d){var e={},f=a.seriesMeta.properties.indexOf(b);f>-1&&(e.name=a.seriesMeta.name[f],e.data=[d],c.push(e))}),c},c=function(a,b){var c=[];return $.each(b,function(b,d){var e={},f=a.seriesMeta.properties.field.indexOf(b);f>-1&&(e.name=a.seriesMeta.properties.name[f],"object"!=typeof d?e.data=[d]:(e.data=d.data,d.color&&(e.color=d.color),d.legendIndex&&(e.legendIndex=d.legendIndex),d.type&&(e.type=d.type),d.marker&&(e.marker=d.marker)),c.push(e))}),c},d=function(a,b){return b},e=function(b,c){var d=[],e=[],f={name:"Initial Investment<br/>(₹ "+a.formatPrice(c["Initial Investment"].data)+")",color:"#0CC4E5",data:[]};return d.push(f),d.push({name:"Overall Return",color:"#88D116",data:[{y:0},{y:0}]}),d.push({name:"Current Value<br/>(₹ "+a.formatPrice(Math.abs(c["Current Value"].data))+")",color:"#2166E3",data:[{y:0},{y:0}]}),e.push({name:"Initial Investment",data:c["Initial Investment"]}),e.push({name:"Overall Return",data:c["Overall Return"]}),e.push({name:"Current Value",data:c["Current Value"]}),_.each(e,function(c){var e=c.name,f=c.data,g={},h=b.seriesMeta.properties.field.indexOf(e);h>-1&&(g.name=b.seriesMeta.properties.name[h],"Overall Return"==g.name&&(f.data<0?(g.name="Overall Decline",d[1].name="Overall Decline<br/>(₹ "+a.formatPrice(Math.abs(f.data))+")",d[1].color="#f84000"):(g.name="Overall Gain",d[1].name="Overall Gain<br/>(₹ "+a.formatPrice(Math.abs(f.data))+")",d[1].color="#88D116")),"object"!=typeof f?g.y=[f]:(g.y=f.data,f.color&&(g.color=f.color),f.legendIndex.toString().length>0&&(g.legendIndex=f.legendIndex),f.type&&(g.type=f.type),f.marker&&(g.marker=f.marker)),d[0].data.push(g))}),d},f=function(a,f){var g="";switch(a.subtype){case"column":g=b;break;case"column-stacked":g=c;break;case"line":g=d;break;case"area":g=d;break;case"waterfall":g=e}return g(a,f)},g=function(a,b){var c=[],d=[];return $.each(a,function(a,b){b[0].extraAttributes.wavgPricePerUnitAreaOnLtdSupply&&(c.push(a),d.push(parseInt(b[0].extraAttributes.wavgPricePerUnitAreaOnLtdSupply)))}),{xAxis:c,yAxis:d}},h=function(a){var b=0,c={bed:[],min:[],max:[],mean:[]};return $.each(a,function(a,d){d[0].extraAttributes.minBudget&&d[0].extraAttributes.maxBudget&&d[0].extraAttributes.avgBudget&&(b++,"0"===a||0===a?c.bed.push("Plot"):c.bed.push(a+" BHK"),c.min.push(d[0].extraAttributes.minBudget),c.max.push(d[0].extraAttributes.maxBudget),c.mean.push(d[0].extraAttributes.avgBudget))}),0===b&&(c=!1),c},i=function(a,b,c){var d=[],e=[],f=[],g=" per sq ft",h=c?j(c):_.keys(a);if(a&&_.keys(a).length)for(var i=0;i<h.length;i++)a[h[i]][b]&&(d.push(a[h[i]][b][0].extraAttributes.countDistinctProjectId),0===h[i].indexOf("-")?e.push("< "+h[i].substr(1,h[i].length)+g):h[i].indexOf("-")===h[i].length-1?e.push(h[i].substr(0,h[i].length-1)+"+"+g):e.push(h[i]+g));for(var k=0;k<e.length;k++)f.push([e[k],d[k]]);return{range:e,pieData:f,count:d}},j=function(a){var b=[],c="",d="",e="";if(a){for(var f=a.split(","),g=0;g<f.length;g++)d=f[g],e=c+"-"+d,b.push(e),c=d;d&&b.push(d+"-")}return b},k=function(b,c,d){for(var e=_.keys(b).sort(),f=0,g="",h={},i={avg:[],keys:[]},j=0;j<e.length;j++)h=b[e[j]],g=parseInt(e[j],10),h&&h[0].extraAttributes.wavgPricePerUnitAreaOnLtdSupply?(i.avg.push(parseInt(h[0].extraAttributes.wavgPricePerUnitAreaOnLtdSupply)),i.keys.push(a.epochToISTMonth(g,!c)),f++):h&&d&&(i.avg.push(null),i.keys.push(a.epochToISTMonth(g,!c)),f++);if(parseInt(i.keys.length)>parseInt(a.monthsForPriceTrend))var k=i.avg.slice(-parseInt(a.monthsForPriceTrend)),l=i.keys.slice(-parseInt(a.monthsForPriceTrend)),i={avg:k,keys:l};return 0===f&&(i=!1),i},l=function(a,b,c){(!c||parseInt(c,10)<=2)&&(c=5);var d=[],e=[],f={},g=0,h="",i="",j={},k="",l=0,n=0,o=0;if(b&&a[b]&&(f=a[b],delete a[b],c--),$.each(a,function(a,b){l=b[0].extraAttributes.sumCustomerDemand,n+=l,k||(k=a),_.keys(j).length<c?(j[a]=l,l<j[k]&&(k=a)):l>j[k]&&(j[a]=l,delete j[k],k=m(j,"min"))}),_.keys(f).length&&0!==n&&(h=f[0].localityName,l=f[0].extraAttributes.sumCustomerDemand,n+=l,o=parseFloat(l/n*100),d.push(h),e.push({y:o,color:"#c4f1ff"})),0!==n)for(;_.keys(j).length>0;)i=m(j,"max"),g=parseFloat(j[i]/n*100),o+=g,d.push(a[i][0].localityName),e.push(g),delete j[i];return{xAxis:d,yAxis:e}},m=function(a,b){var c="",d=0;return $.each(a,function(a,e){c||(c=a,d=e),"min"===b?d>e&&(c=a,d=e):e>d&&(c=a,d=e)}),c},n=function(b){var c={"Launching Soon":0,"New Launch":0,"Under Construction":0,"Ready to Move In":0,"On Hold":0},d="",e=0;return $.each(b,function(b,f){d=a.getProjectStatusKey(b),"NA"!==d&&d in c&&(c[d]+=f,e++)}),0===e&&(c=!1),c},o=function(a){for(var b=[],c=0;c<a.length;c++)b.push({y:a[c],t:a[c].toString()});return b};return{parse:f,parseDemand:l,getCountBySize:i,parseBedPrice:h,showCountOnBar:o,parseStatusCount:n,parseHithertoPriceTrend:k,parseLocalityComparision:g}}])}),define("parsers/localityParser",["app","parsers/imageParser","parsers/graphParser","formatters/common","services/globalService"],function(a){a.factory("LocalityParser",["$sce","$filter","ImageParser","GraphParser","Formatter","GlobalService",function(a,b,c,d,e,f){var g=b("priceFormat"),h=(b("dateFormat"),function(a){return{safetyScore:a.safetyScore,livabilityScore:a.livabilityScore,suburb:{city:{localityMinSafetyScore:a.suburb.city.localityMinSafetyScore,localityMinLivabilityScore:a.suburb.city.localityMinLivabilityScore,localityMaxSafetyScore:a.suburb.city.localityMaxSafetyScore,localityMaxLivabilityScore:a.suburb.city.localityMaxLivabilityScore,label:a.suburb.city.label,cityLocalityCount:a.suburb.city.cityLocalityCount},localitySafetyRank:a.localitySafetyRank,label:a.label,url:a.url,projectCount:a.projectCount}}}),i=function(a,b){var c={};return"locality"===b||"Locality"===b?c=w(a):"suburb"===b||"Suburb"===b?c=v(a):("city"===b||"City"===b)&&(c=u(a)),c},j=function(a,b,c,d){var e={};return e.averageRating=+parseFloat(a).toFixed(2),a>0&&(e.ratingsCount=b,e.totalReviews=c?parseInt(c,10):0,d&&(e.numberOfUsersByRating=d)),e},k=function(a,b,c,d){var e={};return a&&(e.avgPriceRisePercentage=+parseFloat(a).toFixed(2),e.avgPriceRiseMonths=b),c&&(e.livabilityScore=c.toFixed(1)),d&&(e.safetyScore=d.toFixed(1)),e},l=function(a,b,c,d){var e={};return a&&b&&c&&(e={id:a,type:b,name:c,url:d}),e},m=function(a,b){var c="";switch(a){case"Launching Soon":c=b.upcomingFlatsForSaleUrl;break;case"New Launch":c=b.newAppartmentsForSaleUrl;break;case"Under Construction":c=b.underConstructionPropertyUrl;break;case"Ready to Move In":c=b.readyToMoveFlatsUrl}return c},n=function(b,g){var h={};if(h.title="Overview",h.projectCount=0,h.projectStatusCount=[],b.projectStatusCount){var i=d.parseStatusCount(b.projectStatusCount);$.each(i,function(a,b){0!==b&&(h.projectStatusCount.push({type:a,projectCount:b,url:m(a,g)}),h.projectCount+=b)})}if(b.description?h.fullDescription=a.trustAsHtml(b.description):b.suburb&&b.suburb.city&&b.suburb.city.description||b.city,b.description){var j=500,k=800,l=f.stripContent(e.stripHtml(b.description),!1,j,k);h.showLessMore=l.contentTrimmed,h.smallDescription=l.smallDescription,h.semiDescription=l.mediumDescription}var n={};if(b.images){for(var o=[],p=0;p<b.images.length&&2!==p;p++)n={id:b.images[p].id,title:b.images[p].title,altText:b.images[p].altText,absolutePath:b.images[p].absolutePath,smallPath:e.getImagePath(b.images[p].absolutePath,"SMALL")},o.push(n);o.length>0&&(h.images=o),h.gallery=c.getLocalityImage(b.images,"type");var q=h.gallery.imageCount;q>2&&(h.moreImageCount=q-2+" more photo(s)")}if(void 0!==b.avgBHKPricePerUnitArea){var r=/^\d+$/,s=[],t=0,u=0;n={},$.each(b.avgBHKPricePerUnitArea,function(a,b){if(r.test(a,10)&&parseInt(a,10)>0){var c=parseInt(b,10);n={bhk:a+"BHK",price:c},s.push(n),t+=c,u++}}),u>0&&(h.avgBHKPricePerUnitArea=s,h.overAllAvgPrice=parseInt(b.avgPricePerUnitArea,10))}return h},o=function(a,b,c){return a&&a?"https://maps.googleapis.com/maps/api/staticmap?sensor=true&markers=color:orange|"+a+","+b+"&zoom=13&key=AIzaSyDbRuLAZT21GhEr4t_jByWYQ-VwFt_zHhg&size=640x200&scale=1&style=saturation:-80":c?"https://maps.googleapis.com/maps/api/staticmap?size=700x250&scale=1&style=saturation:-80"+c:void 0},p=function(a){var b=[],c=["school","hospital","bank","restaurant","petrol_pump","bus_stop","train_station","gas_station"];return a&&0!==_.keys(a).length&&$.each(a,function(a,d){-1!==c.indexOf(a)&&b.push({name:A(a),count:d,"class":e.getClassByAmenity(a)})}),b},q=function(a,b){var c=[];return $.each(a,function(a,d){c.push({name:A(d.description),count:b[d.name],url:d.localityLandmarkTypeUrl,"class":e.getClassByAmenity(d.name)})}),c},r=function(a,b){var c={};return a&&(c.id=a),b&&(c.name=b),c},s=function(a,b){return a&&(b&&(a.amenityTypeCount=_.pick(a.amenityTypeCount,b)),a.ratings=t(a)),a},t=function(a){return{averageRating:a.averageRating,ratingsCount:a.ratingsCount,numberOfUsersByRating:a.numberOfUsersByRating}},u=function(a){var b={};return b.cityId=a.id,b.cityName=a.label,b.exploreUrl=a.url,b.cityUrl=a.url,b.cityPropertyCount=a.cityPropertyCount,b.cityPopulation=a.cityPopulation,b.cityTagLine=a.cityTagLine,b.cityLocalityCount=a.cityLocalityCount,b.amenityTypeCount=p(a.amenityTypeCount),b.trend=k(a.avgPriceRisePercentage,a.avgPriceRiseMonths,a.livabilityScore,a.safetyScore),a.centerLatitude&&a.centerLongitude&&(b.mapUrl=o(a.centerLatitude,a.centerLongitude),b.position={fullName:a.label,latitude:a.centerLatitude,longitude:a.centerLongitude}),b.overview=n(a,a.cityTaxonomyUrls),b.priceTrend=l(a.id,"city",a.label,a.url),b.priceTrend.cityInfo=r(b.cityId,b.cityName),b},v=function(a){var b={};return b.cityId=a.cityId,b.cityName=a.city.label,b.cityUrl=a.city.url,b.cityOverviewUrl=a.city.overviewUrl,b.locSubId=a.id,b.locSubName=a.label,b.locSubUrl=a.url,b.suburbLocalityCount=a.suburbLocalityCount,b.exploreUrl=a.url,b.trend=k(a.avgPriceRisePercentage,a.avgPriceRiseMonths,a.livabilityScore,a.safetyScore),a.city.centerLatitude&&a.city.centerLongitude&&(b.mapUrl=o(a.city.centerLatitude,a.city.centerLongitude),b.position={fullName:a.label,latitude:a.city.centerLatitude,longitude:a.city.centerLongitude}),b.overview=n(a,a.suburbTaxonomyUrls),b.priceTrend=l(a.id,"suburb",a.label,a.url),b.priceTrend.cityInfo=r(b.cityId,b.cityName),b},w=function(a){var b={};return b.cityId=a.cityId,b.cityName=a.suburb.city.label,b.suburbName=a.suburb.label,b.cityUrl=a.suburb.city.url,b.locSubId=a.localityId,b.locSubName=a.label,b.locSubUrl=a.url,b.localityTagLine=a.localityTagLine,b.cityOverviewUrl=a.suburb.city.overviewUrl,b.exploreUrl=a.url,a.overviewUrl&&(b.overviewUrl=a.overviewUrl),b.amenityTypeCount=p(a.amenityTypeCount),a.amenityTypeCount&&(b.landmarkTypes=q(a.landmarkTypes,a.amenityTypeCount)),b.rating=j(a.averageRating,a.ratingsCount,a.totalReviews,a.numberOfUsersByRating),b.trend=k(a.avgPriceRisePercentage,a.avgPriceRiseMonths,a.livabilityScore,a.safetyScore),a.latitude&&a.longitude?(b.mapUrl=o(a.latitude,a.longitude),b.position={fullName:a.label,latitude:a.latitude,longitude:a.longitude}):a.suburb.city.centerLatitude&&a.suburb.city.centerLongitude&&(b.mapUrl=o(a.suburb.city.centerLatitude,a.suburb.city.centerLongitude),b.position={fullName:a.suburb.city.label,latitude:a.suburb.city.centerLatitude,longitude:a.suburb.city.centerLongitude}),b.overview=n(a,a.localityTaxonomyUrls),b.priceTrend=l(a.localityId,"locality",a.label,a.url),b.priceTrend.cityInfo=r(b.cityId,b.cityName),b},x=function(a){var b=" projects ",c=a.projectStatusCount.Launch;return a.measureUnit="sq ft",a.selector="locality_"+a.localityId,a.orgAvgPricePerUnitArea=a.avgPricePerUnitArea,a.avgPricePerUnitArea=g(a.avgPricePerUnitArea),a.avgPriceRisePercentage=a.avgPriceRisePercentage?Math.round(a.avgPriceRisePercentage).toFixed(0):0,1===a.projectCount&&(b=" project "),c&&(a.prelaunch=c,a.prelaunchHtml='| <span class="proj-status">'+c+"</span> New Launch"),a.projectCountText=a.projectCount+b,a.priceRiseHtml="",a.avgPriceRisePercentage>0?a.priceRiseHtml="In past <span>"+a.avgPriceRiseMonths+'</span> months : <span class="green"><strong>'+a.avgPriceRisePercentage+'%</strong> <i class="pt pt-icon-arrow-up"></i></span><br/>':a.avgPriceRisePercentage<0&&(a.avgPriceRisePercentage=-1*a.avgPriceRisePercentage,a.priceRiseHtml="In past <span>"+a.avgPriceRiseMonths+'</span> months : <span class="grey"><strong>'+a.avgPriceRisePercentage+'%</strong> <i class="pt pt-icon-arrow-down"></i></span><br/>'),"NA"!==a.avgPricePerUnitArea&&(a.unitPriceHtml='Avg. Rate: <i class="pt pt-icon-inr"></i><span>'+a.avgPricePerUnitArea+"</span> /sq ft"),a.oLocalityUnitsLaunched6Months=a.localityUnitsLaunched6Months,a.oLocalityUnitsSold6Months=a.localityUnitsSold6Months,a.oLocalityUnitsDelivered6Months=a.localityUnitsDelivered6Months,a.localityUnitsLaunched6Months?a.localityUnitsLaunched6MonthsHtml=a.localityUnitsLaunched6Months+"<span class='ttlow'> units</span>":a.localityUnitsLaunched6MonthsHtml=a.localityUnitsLaunched6Months="NA",a.localityUnitsSold6Months?a.localityUnitsSold6MonthsHtml=a.localityUnitsSold6Months+"<span class='ttlow'> units</span>":a.localityUnitsSold6MonthsHtml=a.localityUnitsSold6Months="NA",a.localityUnitsDelivered6Months?a.localityUnitsDelivered6MonthsHtml=a.localityUnitsDelivered6Months+"<span class='ttlow'> units</span>":a.localityUnitsDelivered6MonthsHtml=a.localityUnitsDelivered6Months="NA",a.priceRise6MonthsHtml="",a.priceRise6Months&&(a.priceRise6Months>0?a.priceRise6MonthsHtml='<i class="pt pt-icon-arrow-up"></i>'+a.priceRise6Months+"%":a.priceRise6MonthsHtml='<i class="pt pt-icon-arrow-down"></i>'+-1*a.priceRise6Months+"%"),a},y=function(a){var b={},c={};for(var d in a.data){var e=a.data[d];b[e.localityId]=e.label,e.suburb&&(c[e.suburb.id]=e.suburb.label)}var f=[];for(var g in b)f.push({id:g,label:b[g]});return f},z=function(a){var b={};b=a.data,b.amenityList=[];var c=b.amenityTypeCount;for(var d in c){var e={name:d.replace("_"," ").toUpperCase(),count:c[d]};b.amenityList.push(e)}return b.ratings={averageRating:b.averageRating,ratingsCount:b.ratingsCount},b},A=function(a){return a.trim().toUpperCase().replace("_"," ")},B=function(a,b,c){b||(b=4);for(var d=[],e=0,f=0;f<a.length&&b>e;f++)if(a[f].geoDistance){var g={name:a[f].label};a[f].localityId&&(g.localityId=a[f].localityId,g.propertyId=a[f].localityId),c&&a[f].overviewUrl?g.url=a[f].overviewUrl:a[f].url&&(g.url=a[f].url),g.subName=parseFloat(a[f].geoDistance).toFixed(2)+" km",d.push(g),e++}return d},C=function(a,b){b||(b=4);for(var c=[],d=0;d<a.length&&b>d;d++){var e={name:a[d].label};a[d].localityId&&(e.propertyId=a[d].localityId,e.localityId=a[d].localityId),a[d].avgPriceRisePercentage&&a[d].avgPriceRiseMonths&&(e.percentRise={avgPriceRisePercentage:a[d].avgPriceRisePercentage,avgPriceRiseMonths:a[d].avgPriceRiseMonths}),a[d].overviewUrl?e.url=a[d].overviewUrl:a[d].url&&(e.url=a[d].url),a[d].numberOfUsersByRating&&(e.ratings=t(a[d])),c.push(e)}return c},D=function(a,b){var c=C(a,b);return c},E=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].localityId]=a[c];return b},F=o,G=function(a){var b=e.neighborhoodPlaces.nearby,c={school:0,restaurant:0,hospital:0,gas_station:0,bank:0},d=0,f=0;for(d=0,f=a.length;f>d;d++)c[a[d].localityAmenityTypes.name]+=1;for(d=0;d<b.length;d++)b[d].count=c[b[d].key];return b};return{parseNearBy:B,parseTopRated:C,makeObjectById:E,getParsedAreaData:i,parseLeadFormData:y,parseLocalityList:x,parseHighestReturn:D,parseLocality:z,minimalLocality:s,getStaticMapUrl:F,getAmenitiesForGraph:G,parseScoreData:h}}])}),define("services/localityService",["app","parsers/localityParser","services/globalService","services/getHttpService","services/captchaService","formatters/common"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("LocalityService",["LocalityParser","GlobalService","CaptchaService","$http","GetHttpService","$q","$rootScope","Formatter",function(a,b,c,d,e,f,g,h){var i,j,k=function(a,c){var d=b.getAPIURL("columbus/app/v4/typeahead?typeAheadType=LOCALITY&query="+c);return a&&(d=b.getAPIURL("columbus/app/v4/typeahead?typeAheadType=LOCALITY&query="+c+"&city="+a)),b.callApiAndRespond(d)},l=function(a,c,d){var e;return("city"===c||"suburb"==c)&&(e='data/v1/entity/locality/top?selector={"filters":{"and":[{"equal":{"'+c+'Id":'+a.toString()+'}}]},"fields":["localityId","label","url","overviewUrl","avgPriceRisePercentage","avgPricePerUnitArea","latitude","longitude","avgPriceRiseMonths"]}'),d?e:b.callApiAndRespond(e)},m=function(a,c,d){var e;return"city"===c?e="data/v1/entity/locality/popular?"+c+"Id="+a+'&selector={"fields":["localityId","label","url","avgPriceRisePercentage","avgPricePerUnitArea","latitude","longitude","avgPriceRiseMonths"]}':"suburb"===c&&(e="data/v1/entity/locality/popular?suburbId="+a.toString()),d?e:b.callApiAndRespond(e)},n=function(a,c,d,g){var h="app/v2/locality?selector=";return i&&i.resolve(),i=f.defer(),b.makeGetCall(h+a,!1,!0,!0,!0,d,i.promise,g).then(function(a){var b=!1;e.commonResponseData(a,"",b),200===a.status&&c&&a.data.statusCode&&"2"===a.data.statusCode.substring(0,1)&&c(a.data,200)},function(a){!c||!a.data||a.data.statusCode&&"5"!==a.data.statusCode.substring(0,1)||c(void 0,500)})},o=function(a,c,d,e){var f="";d&&(f="&amenityName="+d);var g="app/v1/amenity?latitude="+a.lat+"&longitude="+a.lng+"&distance="+c+f+"&start=0&rows=999";b.makeGetCall(g,!1,!0,!0).then(function(a){return 200!==a.status?null:void e(a.data.data)})},p=function(a,c,d,e,f){d||(d=0),e||(e=9999);var g="data/v2/entity/locality/top-rated?"+a+"Id="+c+'&selector={"fields":["label","url","numberOfUsersByRating","averageRating","ratingsCount","numberOfUserRating"],"paging":{"start":'+d+',"rows":'+e+"}}";return f?g:b.makeGetCall(g,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:void 0})},q=function(a,c){var d="data/v2/entity/locality/"+a+'/top-rated?selector={"paging":{"start":0,"rows":9},"fields":["label","compareUrl"]}';b.makeGetCall(d,!1,!0,!0,!0).then(function(a){return 200!==a.status?null:void c(a.data.data)})},r=function(a,c,d){var e="";return b.isLoggedIn()?(e="data/v2/entity/user/locality/"+a+"/rating",b.makePostCall(e,c,-1,!0,!0).then(function(a){return a&&"2XX"===a.statusCode?void d(a.data):null})):null},s=function(c){var g='app/v2/locality?selector={"filters":{"and":[{"equal":{"cityId":'+c+'}}]},"fields":["id","localityId","suburb","label"],"paging":{"start":"0","rows":"500"}}';return j&&j.resolve(),j=f.defer(),d({method:"GET",cache:!0,url:b.getAPIURL(g),headers:b.getSecurityHeaders(g),timeout:j.promise}).then(function(b){return e.commonResponse(b,""),200===b.status?a.parseLeadFormData(b.data):void 0})},t=function(a,c){var d="data/v1/entity/locality/"+a.join(",")+"/radius";b.makeGetCall(d,!1,!0,!0).then(function(a){return 200!==a.status?null:void c(a.data)})},u=function(a){a=parseInt(a);var c="app/v2/locality/"+a;return b.callApiAndRespond(c)},v=function(a,c){var d='app/v2/locality?selector={"filters":{"and":[{"equal":{"localityId":'+a+"}}]}}";return b.makeGetCall(d,!1,!0,!0,!0).then(function(a){return c(200===a.status?a.data.data:null)})},w=function(a,c){var d="data/v1/entity/suburb/"+a;return b.makeGetCall(d,!1,!0,!0,!0).then(function(a){return c(200===a.status?a.data.data:null)})},x=function(a,c,d,e,f,g){f||(f=5),e||0===e||(e=0),d||(d=9999);var h='data/v1/entity/locality?selector={"filters":{"and":[{"geoDistance":{"geo":{"distance":'+d+',"lat":'+a+',"lon":'+c+'}}}]},"fields":["localityId","label","geoDistance","avgPricePerUnitArea","overviewUrl","url"],"sort":[{"field":"geoDistance","sortOrder":"ASC"}],"paging":{"start":'+e+',"rows":'+f+"}}";return g?h:b.callApiAndRespond(h)},y=function(a,c,d){for(var e=[],f=0;f<a.length;f++)e.push("localityId=="+a[f]);var g="filters=("+e.join(",")+")";c&&(g+=";unitType=="+c);var h="data/v1/trend/current?"+g+"&fields=wavgPricePerUnitAreaOnLtdSupply,localityName&group=localityId";return d?h:b.callApiAndRespond(h)},z=function(a,c){var d="data/v1/trend?filters="+a+"=="+c+"&fields=countDistinctProjectId&group=constructionStatus";return b.callApiAndRespond(d)},A=function(a,c,d,e){d||(d="1000,2000,3000,4000,5000");var f="data/v1/price-trend/current?filters="+a+"=="+c+"&fields=countDistinctProjectId&group=cityId&rangeField=pricePerUnitArea&rangeValue="+d;return e?f:b.callApiAndRespond(f)},B=function(a,c,d){var e="data/v1/trend/current?filters="+a+"=="+c+"&fields=avgBudget,minBudget,maxBudget&group=bedrooms";return d?e:b.callApiAndRespond(e)},C=function(a,c,d,e,f){var g;return g=e?"data/v1/price-trend/hitherto?filters="+a+"=="+c+";unitType=="+f+"&fields=wavgPricePerUnitAreaOnLtdSupply&group=month&monthDuration="+e:"data/v1/price-trend/hitherto?filters="+a+"=="+c+";unitType=="+f+"&fields=wavgPricePerUnitAreaOnLtdSupply&group=month",d?g:b.callApiAndRespond(g)},D=function(a,c,d,e,f){var g;return d?(g="data/v1/trend/hitherto?filters="+a+"=="+c+";unitType=="+d+"&fields=wavgPricePerUnitAreaOnLtdSupply&group=month",f&&(g+="&monthDuration="+f)):g=C(a,c,!0,f),e?g:b.callApiAndRespond(g)},E=function(a,c,d,e){d||(d=0),e||(e=9999);var f='data/v1/entity/locality?selector={"filters":{"and":[{"equal":{"'+a+'Id":'+c+'}}]},"fields":["localityId","label","url"],"paging":{"start":'+d+',"rows":'+e+"}}";return b.callApiAndRespond(f)},F=function(a){var c="app/v2/locality/"+a+'?selector={"fields":["averageRating","ratingsCount","avgRatingsByCategory","overallRating","location","safety","pubTrans","restShop","numberOfUsersByRating"]}';return b.makeGetCall(c,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:null})},G=function(a){var c="data/v2/entity/user/locality/"+a+"/rating";return b.makeGetCall(c,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:null})},H=function(a){var c="app/v1/locality/"+a+'?selector={"fields":["landmarkImages","id","imageTypeId","objectId","path","createdAt","sizeInBytes","width","height","altText","title","priority","waterMarkName","active","seoName","absolutePath","imageType","objectType","type","mediaType","name","objectTypeId","mediaTypeId","type","priority"]}';return b.makeGetCall(c,!1,!0,!0).then(function(a){return 200===a.status?a.data.data.landmarkImages:null})},I=function(a){var c="data/v1/entity/city/"+a+"/landmark";return b.makeGetCall(c,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:null})};return{getLocalities:k,getAllLocality:E,getLocalityList:n,getNeighbourhood:o,getLeadFormList:s,getCirleRadius:t,getLocalityById:v,getSuburbById:w,getTopLocality:p,getLocality:u,postLocalityRating:r,getLocalityComparission:y,getPriceByBed:B,getRatingOnly:F,getProjectCountBySize:A,getHithertoPriceTrend:C,getDominantPriceTrend:D,getNearbyLocality:x,getProjectCountData:z,getPopularLocalities:l,getUserRating:G,getLandmarkImages:H,getCityLandmarkImages:I,
getPopularLocality:m,getTopRatedLocalityComparision:q}}])}),define("services/projectService",["app","services/globalService","parsers/imageParser","services/getHttpService","services/localityService"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("ProjectService",["$q","$rootScope","$http","GlobalService","ImageParser","GetHttpService","LocalityService",function(a,b,c,d,e,f,g){var h,i={fields:["ratingsCount","imageSitemapEnabled","pageUrl","maxSize","minSize","imageUrl","servantRoom","poojaRoom","displayCarpetArea","balcony","studyRoom","imageURL","media","isSoldOut","isResale","isPrimary","has3DImages","pricePerUnitArea","bathrooms","bedrooms","maxPrice","propertyId","specifications","svgDetails","pageUrl","altText","panoramaUnit","takenAt","width","height","mediaExtraAttributes","absoluteUrl","displayName","mediaType","objectType","objectMediaType","panoramaViewPath","objectMediaTypeId","media","description","videoUrl","category","videoId","videoUrls","type","imageType","localityAmenityTypes","vicinity","abbreviation","amenityName","amenityId","amenityMaster","amenityDisplayName","projectAmenities","sizeInAcres","loanProviderBanks","neighborhood","lastUpdatedDate","overviewUrl","landmarkImages","avgPriceRisePercentage","avgPriceRiseMonths","possessionDate","projectLivabilityRank","projectSafetyRank","projectSocietyScore","projectLocalityScore","minResaleOrPrimaryPrice","maxResaleOrPrimaryPrice","maxPricePerUnitArea","minPricePerUnitArea","maxResalePrice","minResalePrice","reachabilityInfo","derivedAvailability","totalUnits","resalePricePerUnitArea","avgPricePerUnitArea","distinctBedrooms","launchDate","propertyUnitTypes","numberOfUsersByRating","averageRating","safetyScore","livabilityScore","offer","supply","address","projectStatus","totalProjectDiscussion","suburbId","city","localityId","landmarkImageTypeCount","projectId","locality","label","suburb","id","cityId","builder","builderId","name","dominantUnitType","emiValue","minPrice","properties","size","unitType","budget","resalePrice","carpetArea","url","URL","unitName","couponCatalogue","isPropertySoldOut","latitude","longitude","images","video","absolutePath","discussions","amenities","hasProjectInsightReport","resaleListingCount","active","videoUrlDetails","resolution","bitRate","projectBuilderContact","completeProjectAddress","builderMarketingShare","isRedevelopementProject"]},j=function(a){var b="data/v1/entity/project/"+a+"/phase";return d.makeGetCall(b,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:void 0})},k=function(){h&&(h.resolve(),$("#myLoader, .loader_image").hide(),b.$broadcast("pageReady"))},l=function(a){var b;return b=a?'app/v1/project-listing?selector={"filters":{"and":[{"equal":{"cityLabel":"'+a+'"}}]},"paging":{"start":0,"rows":0}}':'app/v1/project-listing?selector={"paging":{"start":0,"rows":0}}',d.makeGetCall(b,"",!0,!0)},m=function(c,e,f,g,i,j){var k;return"undefined"==typeof g&&(g=""),k=e?"app/v2/project-listing?stats="+e+"&selector=":g?"app/v2/project-listing?gpid="+g+"&selector=":"app/v2/project-listing?selector=",h&&h.resolve(),h=a.defer(),d.makeGetCall(k+c,!1,!0,!0,!1,i,h.promise,j).then(function(a){200===a.status&&f&&a.data&&a.data.statusCode&&"2"===a.data.statusCode.substring(0,1)&&(b.$broadcast("projectListingCallBack",{data:"add"}),f(a.data,200))},function(a){a&&a.data&&f&&a.data.statusCode&&"5"===a.data.statusCode.substring(0,1)&&f(void 0,500)})},n=function(a,b,c){return g.getHithertoPriceTrend("projectId",a)},o=function(a,b,c,e){var f="app/v4/project-detail/";if(!$.isArray(a)||!a.length)return d.makeGetCall(f+a+"?selector="+JSON.stringify(i),!1,!0,!0,!0,e).then(function(a){return 200===a.status?(b&&b(a.data,c),a.data):void 0});for(var g=[],h=0,j=a.length;j>h;h++)g.push(f+a[h]);var k=0;d.makeCompositeCall(g).then(function(a){for(var d=0,e=g.length;e>d;d++)b&&b(a[decodeURIComponent(g[d])],c[k++])})},p=function(a,b,c){var e={filters:{and:{equal:{projectId:a}}},fields:["authorized","projectId"]},f="app/v4/project-detail/"+a+JSON.stringify(i),g="app/v2/project-listing?selector="+JSON.stringify(e);return d.makeCompositeCall([f,g]).then(function(a){var d=a[f],e=a[g];return d.data.authorized=e.data.items[0].authorized,b&&b(d,c),d})},q=function(a,b,c){var e='app/v1/pipeline?api=data/v1/entity/property?selector={"filters":{"and":[{"equal":{"propertyId":'+a+"}}]}}&api=app/v3/project-detail/<api[0].data[0].projectId>/";return d.makeGetCall(e,!1,!0,!0,!0).then(function(a){if(f.commonResponse(a,""),200===a.status){b&&b(a.data,c);var d="app/v3/project-detail/<api[0].data[0].projectId>/"+JSON.stringify(i);return a.data.data[d]}})},r=function(a,b){var c="columbus/app/v4/typeahead?typeAheadType=PROJECT&query="+b;return a&&(c="columbus/app/v4/typeahead?typeAheadType=PROJECT&query="+b+"&city="+a),d.makeGetCall(c,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:void 0})},s=function(a){var b=d.getAPIURL("data/v1/entity/user/{userId}/unmatched-project"),e={projectName:a.project,projectCity:a.city.label,locality:a.locality.label};return c.post(b,e).then(function(a){return f.commonResponse(a,"Your request has been submitted successfully."),200===a.status?!0:!1})},t=function(a,b){if(null!==a&&null!==b){var c="data/v1/entity/image?objectType="+a+"&objectId="+b;return d.makeGetCall(c,!1,!0,!0).then(function(a){return f.commonResponse(a,""),200===a.status?a.data.data:[]})}return[]},u=function(a,b){a.paging={start:0,rows:5};var c=["size","budget"],e=JSON.stringify(a),f="app/v1/project-listing?selector="+e+"&stats="+c.join(",");return d.makeGetCall(f,!1,!0,!0).then(function(a){return 200===a.status?b?void b(a.data.data):a.data.data.facets:void 0})},v=function(a,b,c){var e=c?c:4,f="data/v1/recommendation?projectId="+a+"&type=similar&limit="+e;return d.makeGetCall(f,!1,!0,!0).then(function(a){return 200===a.status?b?void b(a.data.data):a.data.data:void 0})},w=function(a,b){var c='app/v1/project-listing?selector={"filters":{"and":[{"notEqual":{"projectId":'+a.id+'}},{"geoDistance":{"geo":{"distance":5,"lat":'+a.lat+',"lon":'+a["long"]+'}}}]},"sort":{"field":"geoDistance","sortOrder":"ASC"},"paging":{"start":0,"rows":4}}';return d.makeGetCall(c,!1,!0,!0,!0).then(function(a){return 200===a.status?b?void b(a.data.data.items):a.data.data:void 0})},x=function(a,b,c){if("undefined"!=typeof a&&""!==a){var e="app/v1/gp/place-detail/"+a;return d.makeGetCall(e,!1,!0,!0,!1,c).then(function(a){return 200===a.status?(b&&b(a.data.data),a.data.data):void 0})}},y=function(a,b){if("undefined"!=typeof a&&a.length>0){var c=a.join(",projectId=="),e="data/v1/trend?filters=projectId=="+c+"&fields=projectId,projectName,sumDemand&group=projectId";return d.makeGetCall(e,!1,!0,!0).then(function(a){return b&&b(a),a})}},z=function(a,b){if("undefined"!=typeof a&&a.length>0){var c=a.join("&projectId="),e="data/v1/entity/project/extras?projectId="+c;return d.makeGetCall(e,!1,!0,!0).then(function(a){return b&&b(a),a})}},A=function(a,b,c,e){var f='app/v1/project-listing?selector={"filters":{"and":[{"geoDistance":{"geo":{"distance":'+c+',"lat":'+a+',"lon":'+b+'}}}]},"sort":{"field":"geoDistance","sortOrder":"ASC"},"paging":{"start":0,"rows":9}}';return d.makeGetCall(f,!1,!0,!0).then(function(a){return 200===a.status?e?void e(a.data.data.items):a.data.data:void 0})},B=function(a){var b="data/v1/entity/blog?tag="+a;return d.makeGetCall(b,!1,!0,!0).then(function(a){return 200===a.status?a.data.data:void 0})};return{getProjects:r,getImages:t,getProjectList:m,abortProjectList:k,getProjectPriceTrend:n,requestNewProject:s,getProjectDetail:o,getStats:u,getSimilarProjects:v,getNearbyProjects:w,getProjectPhases:j,getProjectDetailByProperty:q,getProjectDetailComposite:p,getNearByInfoByGpKey:x,getProjectVsDemandGraph:y,getPriceComparisionDetails:z,getProjectsInVicinityByDistance:A,getTotalProjectCount:l,getPropguideLink:B}}])}),define("parsers/unitParser",["app"],function(a){a.factory("UnitParser",[function(){return{parse:function(a){var b={};return b.properties=[],$.each(a.data,function(a,c){null===c.size?c.sizeMeasure="":c.sizeMeasure="("+c.size+" "+c.measure+")",b.properties.push(c)}),b.builderName=a.data[0].project.builder.name,b.builderId=a.data[0].project.builder.id,b}}}])}),define("services/unitInfoService",["app","services/globalService","parsers/unitParser","services/getHttpService"],function(a){a.factory("UnitInfoService",["$http","GlobalService","UnitParser","GetHttpService",function(a,b,c,d){var e="application/x-www-form-urlencoded",f=function(a){var f='data/v1/entity/property?selector={"paging":{"start":0,"rows":20},"filters":{"and":[{"equal":{"projectId":'+a+"}}]}}";return b.makeGetCall(f,e,!0,!0).then(function(a){return 200===a.status?c.parse(a.data):(d.error(),{})})};return{getUnitInfo:f}}])}),define("services/commonLocationService",["app","services/globalService"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("CommonLocationService",["GlobalService","GetHttpService","$http",function(a,b,c){var d=function(b,c,d,e){var f;return f="locality"===b?"app/v2/"+b+"/"+c.toString():"data/v1/entity/"+b+"/"+c.toString(),a.makeGetCall(f,!1,!0,!0,!0,e).then(function(a){if(200===a.status){if(!d)return a.data.data;d(a.data.data)}})},e=function(b,c,d){var e='data/v1/entity/builder/top?selector={"fields":["name","url","imageURL"],"filters":{"and":[{"equal":{"'+b+'Id":["'+c+'"]}}]}}';return a.makeGetCall(e,!1,!0,!0).then(function(a){200===a.status&&d(a.data.data)})},f=function(b,c,d){var e="data/v2/entity/locality/top-rated?"+b+"Id="+c+'&selector={"fields":["label","url","numberOfUsersByRating"],"paging":{"start":0,"rows":4}}';return a.makeGetCall(e,!1,!0,!0).then(function(a){200===a.status&&d(a.data.data)})},g=function(b,c){var d="data/v1/entity/image?objectType="+b+"&objectId="+c;return a.callApiAndRespond(d)};return{getImages:g,getTopLocalities:f,getTopBuilders:e,getBasicInfo:d}}])}),define("services/builderService",["app","services/globalService","services/getHttpService"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("BuilderService",["GlobalService","GetHttpService","$http",function(a,b,c){var d=function(b,c,d){var e="app/v1/builder-detail/"+b.toString();return a.makeGetCall(e,!1,!0,!0,!0,d).then(function(a){return 200===a.status?c(a.data.data):void 0})},e=function(b,c){var d='app/v2/project-listing?selector={"filters":{"and":[{"equal":{"cityId":["'+b+'"]}}]}}&facets=builderLabel';return a.makeGetCall(d,!1,!0,!0).then(function(a){200===a.status&&c(a.data.data.facets.builderLabel)})},f=function(b,c,d){var e='app/v1/project-listing?selector={"fields":["projectId","name","URL","address","imageURL","minResaleOrPrimaryPrice","maxResaleOrPrimaryPrice","locality","suburb","city","label","altText","mainImage"],"paging":{"start":0,"rows":4},"filters":{"and":[{"equal":{"builderId":'+b.toString()+"}}]}}";return c&&(e='app/v1/project-listing?selector={"fields":["projectId","name","URL","address","imageURL","minResaleOrPrimaryPrice","maxResaleOrPrimaryPrice","locality","suburb","city","label", "altText","mainImage"],"paging":{"start":0,"rows":4},"filters":{"and":[{"equal":{"cityId":['+c.toString()+']}},{"equal":{"builderId":['+b.toString()+"]}}]}}"),a.makeGetCall(e,!1,!0,!0,!0).then(function(a){200===a.status&&d(a.data.data)})},g=function(b,c,d,e,f){d||(d=0),e||(e=9999);var g='data/v1/entity/builder/top?selector={"filters":{"and":[{"equal":{"'+b+'Id":["'+c+'"]}}]},"fields":["id","name","imageURL","url","establishedDate","projectCount","projectStatusCount"],"paging":{"start":'+d+',"rows":'+e+"}}";return f?g:a.callApiAndRespond(g)},h=function(a,b){if(b&&_.isArray(b))var c=b.join('","'),d='/app/v2/project-listing?selector={"filters":{"and":[{"equal":{"builderId":'+a+'}},{"equal":{"projectStatus":["'+c+'"]}}]},"paging":{"start":0,"rows":4}}&stats=size,budget';return d},i=function(a){var b="/app/v1/builder-detail/"+a;return b},j=function(b,c){var d=[],e=i(b),f=["under construction"],g=h(b,f),j=["ready for possession","occupied","completed"],k=h(b,j);return d.push(e,g,k),a.makeCompositeCall(d).then(function(a){return c&&c(a),a})};return{getCard:d,getBuilder:e,getAllBuilder:g,getProjects:f,getProjectsListingsByStatus:j}}])}),define("parsers/portfolioParser",["app","formatters/common"],function(a){a.factory("PortfolioParser",["Formatter",function(a){return{parsePortfolio:function(a){var b={};return b["Purchase Price"]=a.data.originalValue,b["Current Price"]=a.data.currentValue,"DECLINE"===a.data.returnType?b["Overall Return"]=-a.data.changeAmount:b["Overall Return"]=a.data.changeAmount,b.overallReturnPer=a.data.changePercent,b.overallReturnType=a.data.returnType,b},parseTrendForGraph:function(b){var c,d=function(a,b){for(var c=0;c<a.length;c++)if(a[c].effectiveDate==b)return a[c].pricePerUnitArea;return null},e={},f=[],g=[];if(b){for($.each(b,function(a,b){b.prices&&$.each(b.prices,function(a,b){var c=b.effectiveDate;-1===f.indexOf(c)&&f.push(c)})}),f=f.sort(),c=0;c<f.length;c++)g[c]=a.getDateMonth(f[c])+" "+a.getDateYear(f[c]);e.yAxis=[],$.each(b,function(a,b){var g={};if(b.prices){for(b.prices,g.name=b.listingName,g.data=[],c=0;c<f.length;c++)g.data.push(d(b.prices,f[c]));e.yAxis.push(g)}})}return e.xAxis=g,e},parseProperty:function(b,c){var d=[],e=function(c,d){b.indexOf(c)>-1&&("projectStatus"==c?d&&(h[c]=a.getProjectStatusKey(d)):h[c]=d)};if(c)for(var f=0;f<c.length;f++){var g=c[f],h={};$.each(g,e),d.push(h)}return d}}}])}),define("parsers/propertyParser",["app","formatters/common"],function(a){a.factory("PropertyParser",["Formatter","$rootScope","$filter",function(a,b,c){return{parse:function(b,c){var d=c.data,e={};return 0===b.length?e=c.data:$.each(d,function(c,f){b.indexOf(c)>-1&&("purchaseDate"==c||"completionDate"==c?null!=f?e[c]=new Date(f):e[c]="NA":"totalPrice"==c||"currentPrice"==c?null!=f?(e[c]=f,e["formatted"+c]=a.formatRs(f)):e[c]="NA":"listingSize"==c?f&&(e[c]=f,e.listingMeasure="undefined"!=typeof d.listingMeasure?d.listingMeasure:"sq ft"):"goalAmount"==c?f?(e[c]=f,e["formatted"+c]=a.formatRs(f)):e[c]="Not Specified":"listingMeasure"==c?0==d.listingSize||""==d.listingSize?(e.listingSize="Not Specified",e[c]=""):e[c]=f:"projectStatus"==c?f&&(e[c]=a.getProjectStatusKey(f)):e[c]=f)}),e},parseProperties:function(a){var b;return 1==a.propertyUnitTypes.length?"Apartment"==a.propertyUnitTypes[0]?a.distinctBedrooms.length>1?b=a.distinctBedrooms.slice(0,-1).join(", ")+" & "+a.distinctBedrooms.slice(-1)[0]+" BHK":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK"):"Plot"==a.propertyUnitTypes[0]?b="Plots":"Villa"==a.propertyUnitTypes[0]&&(a.distinctBedrooms.length>1?b=a.distinctBedrooms.slice(0,-1).join(", ")+" & "+a.distinctBedrooms.slice(-1)[0]+" BHK Villas":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK Villas")):2==a.propertyUnitTypes.length?a.propertyUnitTypes.indexOf("Villa")>-1&&a.propertyUnitTypes.indexOf("Plot")>-1?a.distinctBedrooms.length>1?b=a.distinctBedrooms.join(", ")+" BHK Villas & Plots":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK Villas & Plots"):a.propertyUnitTypes.indexOf("Villa")>-1&&a.propertyUnitTypes.indexOf("Apartment")>-1?a.distinctBedrooms.length>1?b=a.distinctBedrooms.join(", ")+" BHK Apts & Villas":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK Apts & Villas"):a.propertyUnitTypes.indexOf("Plot")>-1&&a.propertyUnitTypes.indexOf("Apartment")>-1&&(a.distinctBedrooms.length>1?b=a.distinctBedrooms.join(", ")+" BHK Apts & Plots":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK Apts & Plots")):3==a.propertyUnitTypes.length&&a.propertyUnitTypes.indexOf("Villa")>-1&&a.propertyUnitTypes.indexOf("Plot")>-1&&a.propertyUnitTypes.indexOf("Apartment")>-1&&(a.distinctBedrooms.length>1?b=a.distinctBedrooms.join(", ")+" BHK Apts, Villas & Plots":a.distinctBedrooms.length>0&&a.distinctBedrooms[0]&&(b=a.distinctBedrooms[0]+" BHK Apts, Villas & Plots")),"0"==b[0]&&(b=b.replace("0,","")),b},createPostObject:function(a){var b={};if(b.bankId=a.bank.id,b.typeId=a.unitDefault.propertyId,b.tower=a.tower,b.unitNo=a.unitNo,b.floorNo=a.floor,a.purchaseDate&&a.purchaseDate.getTime)b.purchaseDate=a.purchaseDate.getTime();else if(a.purchaseDate.indexOf("/")){var c=a.purchaseDate.split("/"),d=new Date(c[1]+"/"+c[0]+"/"+c[2]);b.purchaseDate=new Date(d).getTime()}else b.purchaseDate=new Date(a.purchaseDate).getTime();b.name=a.propertyName,b.basePrice=a.basePrice,b.listingSize=a.listingSize?a.listingSize:a.unitDefault.size,b.otherPrices=[{amount:a.otherExpenses?a.otherExpenses:0}],b.totalPrice=a.totalPrice,b.goalAmount=a.goalAmount;var e={SELF:"Self Use",INVESTMENT:"Investment",OTHERS:"Other"},f={AVAILED:"Availed",NOT_AVAILED:"Not Availed",PAID:"Paid"};"undefined"!==e[a.purchasedFor]?$.each(e,function(c,d){d===a.purchasedFor&&(b.purchasedFor=c)}):b.purchasedFor=a.purchasedFor,"undefined"!==f[a.loanStatus]?$.each(f,function(c,d){d===a.loanStatus&&(b.loanStatus=c)}):b.loanStatus=a.loanStatus,b.loanAmount=a.loanAmount,b.loanAvailedAmount=a.loanAvailedAmount,b.transactionType=a.transactionType;var g=angular.toJson(b);return g},groupProperties:function(a,b){var c=[],d=_.groupBy(a,function(a){return a.unitType}),e=function(a,b){var c=[];return angular.forEach(a,function(a,b){a.isPropertySoldOut===!1&&(c[b]=a)}),_.min(c,function(a){return a[b]})},f=function(a,b){var c=[];return angular.forEach(a,function(a,b){a.isPropertySoldOut===!1&&(c[b]=a)}),_.max(c,function(a){return a[b]})},g=function(a,b){return _.min(a,function(a){return a[b]})},h=function(a,b){return _.max(a,function(a){return a[b]})},i=function(a){var b=1/0;return angular.forEach(a,function(a,c){a.size&&a.size<b?b=a.size:!a.size&&a.carpetArea&&a.carpetArea<b&&(b=a.carpetArea)}),isFinite(b)?b:0},j=function(a){var b=0;return angular.forEach(a,function(a,c){a.size&&a.size>b?b=a.size:!a.size&&a.carpetArea&&a.carpetArea>b&&(b=a.carpetArea)}),b};for(var k in d){var l=_.groupBy(d[k],function(a){return b?a.propertyId:0==a.bedrooms?"Plot":a.bedrooms+"BHK"});k=k.toLowerCase();for(var m in l){angular.forEach(l,function(a,b){for(var c=0;c<a.length;c++)a[c].isPropertySoldOut?l[b].allConfigSoldOut=!0:l[b].allConfigSoldOut=!1});var n,o=l[m];if(o&&o.length){if(n=o.length>1?{TYPE:k,properties:o,label:m,measure:o[0].measure,minBudget:e(o,"budget").budget,minResalePrice:g(o,"resalePrice").resalePrice,maxBudget:f(o,"budget").budget,maxResalePrice:h(o,"resalePrice").resalePrice,minSize:i(o),maxSize:j(o),isComposite:!0,allConfigSoldOut:o.allConfigSoldOut}:o[0],n.isComposite)for(var p=0;p<o.length;p++)if(o[p].couponCatalogue){n.isCouponAvailable=!0;break}c.push(n)}o.length>1&&(n.hasSizes=_.some(o,function(a){return a.size||a.carpetArea}))}}return angular.forEach(c,function(a,b){if(a.properties&&a.properties.length){var c=[];angular.forEach(a.properties,function(a,b){a.couponCatalogue&&a.couponCatalogue.discount?(a.discBudget=a.budget-a.couponCatalogue.discount,a.discBudget&&c.push(a.discBudget)):a.budget&&(a.discBudget=a.budget,c.push(a.budget))}),c.sort(),a.priceArray=c,a.minDiscountPrice=c[0],a.maxDiscountPrice=c[c.length-1],(a.minDiscountPrice!=a.minBudget||a.maxDiscountPrice!=a.maxBudget)&&(a.strikeOldPrice=!0)}else a.couponCatalogue&&a.couponCatalogue.discount?a.discBudget=a.budget-a.couponCatalogue.discount:a.discBudget=a.budget}),c}}}])}),define("services/propertyService",["app","parsers/portfolioParser","parsers/propertyParser","services/getHttpService","services/globalService"],function(a){a.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]).factory("PropertyService",["$rootScope","$http","GlobalService","PortfolioParser","PropertyParser","GetHttpService",function(a,b,c,d,e,f){var g=function(a){return c.makeGetCall("data/v1/entity/user/{userId}/portfolio/listing/"+a+"/price-trend?months=9",!1,!0,!0).then(function(a){return d.parseTrendForGraph(a.data)})},h=function(a,b){return c.makeGetCall("data/v1/entity/user/{userId}/portfolio/listing/"+b,!1,!0,!0).then(function(b){return 200===b.status?e.parse(a,b.data):void 0})},i=function(a){return b({method:"DELETE",url:c.getAPIURL("data/v1/entity/user/{userId}/portfolio/listing/"+a)}).then(function(a){return f.commonResponse(a,"Property is deleted.")})},j=function(a,d){var g=e.createPostObject(a);return b.put(c.getAPIURL("data/v1/entity/user/{userId}/portfolio/listing/"+d),g).then(function(a){return f.commonResponse(a,"Property is updated")})},k=function(a){var b=e.createPostObject(a),d="data/v1/entity/user/{userId}/portfolio/listing/";return c.makePostCall(d,b,-1,!0,!0,!0).then(function(a){return f.commonResponse(a,"New Property is added")})},l=function(a){return b.put(c.getAPIURL("data/v1/entity/user/{userId}/portfolio/listing/"+a+"/interested-to-sell?interestedToSell=true")).then(function(a){return f.commonResponse(a,"Thanks for your request for selling your property. You will get a call from us soon")},function(a){return f.commonResponse(a),!1})},m=function(a){return b.put(c.getAPIURL("data/v1/entity/user/{userId}/portfolio/listing/"+a+"/loan-request?loan=true")).then(function(a){return f.commonResponse(a,"Thanks for your request for Home Loan. You will get a call from us soon.")},function(a){return f.commonResponse(a),!1})},n=function(a,b,d){var e=d?d:4,f="data/v1/recommendation?type=similar&propertyId="+a+"&limit="+e;return c.makeGetCall(f,!1,!0,!0).then(function(a){return 200===a.status?b?void b(a.data.data):a.data.data:void 0})},o=function(a,b,d){var e='data/v1/entity/property?selector={"filters":{"and":[{"equal":{"propertyId":'+a+"}}]}}";return c.makeGetCall(e,!1,!0,!0,!1,d).then(function(a){return 200===a.status?(b&&b(a.data.data[0]),a.data.data[0]):void 0})},p=function(a,b,d,e,f,g,h,i){var j,k="",l="",m='["imageUrl","url","bitRate","resolution","videos", "id", "mediaExtraAttributes", "resaleURL", "pricePerUnitArea", "jsonObject", "total_floor", "facing", "direction", "id", "imageType", "title", "type", "noOfCarParks", "propertyId", "floor", "unitType", "property", "unitName", "possessionDate", "currentListingPrice", "project", "altText", "size", "measure", "projectStatus", "description", "images", "absolutePath", "price", "status", "imageCount", "displayName", "width", "height", "negotiable", "mainImage", "imageURL"]';return d&&e&&(l='"sort":{"field":"'+d+'","sortOrder":"'+e+'"},'),i&&(k=',{"notEqual":{"listingId":'+i+"}}"),a?j="data/v3/entity/resale-listing?selector={"+l+'"fields":'+m+',"paging":{"start":0,"rows":200},"filters":{"and":[{"equal":{"propertyId":"'+a+'"}},{"equal":{"bookingStatusId":1}}'+k+"]}}":b&&(h=h&&"All"!==h?',{"equal":{"bedrooms":'+h+"}}":"",j="data/v3/entity/resale-listing?selector={"+l+'"fields":'+m+',"paging":{"start":'+f+',"rows":'+g+'},"filters":{"and":[{"equal":{"projectId":"'+b+'"}},{"equal":{"bookingStatusId":1}}'+h+"]}}&facets=bedrooms"),c.makeGetCall(j,!1,!0,!0).then(function(a){return 200===a.status?a.data:void 0})},q=function(a){var b,d='"fields":["imageUrl","url","bitRate","resolution","videos", "id", "mediaExtraAttributes","resaleURL", "pricePerUnitArea", "jsonObject", "total_floor", "facing", "direction", "id", "imageType", "title", "type", "noOfCarParks", "propertyId", "floor", "unitType", "property", "unitName", "possessionDate", "currentListingPrice", "project", "altText", "size", "measure", "projectStatus", "description", "images", "absolutePath", "price", "status", "imageCount", "displayName", "width", "height", "negotiable", "builder", "name", "locality", "suburb", "city", "label", "overviewUrl", "mainImage", "imageURL", "localityId", "projectId"]';return a=a.slice(0,1)+d+","+a.slice(1,a.length),b="data/v2/entity/resale-listing?selector=",c.makeGetCall(b+a,!1,!0,!0).then(function(a){return 200===a.status?a.data:void 0})},r=function(a){var b='["imageUrl","url","bitRate","resolution","videos", "id", "mediaExtraAttributes", "bedrooms", "balcony", "bedrooms", "balcony", "bathrooms", "locality", "label", "carpetArea", "projectId", "pricePerUnitArea", "localityId", "suburb", "builder", "name", "builderId", "pricePerUnitArea", "jsonObject", "total_floor", "facing", "direction", "id", "imageType", "title", "type", "noOfCarParks", "propertyId", "floor", "unitType", "property", "unitName", "possessionDate", "currentListingPrice", "project", "altText", "size", "measure", "projectStatus", "description", "images", "absolutePath", "price", "status", "imageCount", "displayName", "width", "height", "negotiable", "resaleURL", "priceExclusion"]';return a?c.makeGetCall('data/v2/entity/resale-listing?selector={"fields":'+b+',"filters":{"and":[{"equal":{"listingId":"'+a+'"}}]}}',!1,!0,!0).then(function(a){return 200===a.status?a.data:void 0}):void 0};return{getPropertyPriceTrend:g,getProperty:h,saveProperty:k,deleteProperty:i,updateProperty:j,requestedForHomeLoan:m,sellProperty:l,getSimilarProperties:n,getPropertyDetail:o,getResaleProperties:p,getResalePropertyDetail:r,getResaleListings:q}}])}),define("services/pageSettings",["app"],function(a){a.factory("pageSettings",function(){var a=["label","avgPricePerUnitArea","avgPriceRisePercentage","avgPriceRiseMonths","projectCount","projectStatusCount","latitude","longitude","localityId","cityId","minResalePrice","maxResalePrice","maxRadius","url","localityUnitsLaunched6Months","localityUnitsSold6Months","localityUnitsDelivered6Months","authorized","priceRise6Months","suburb","safetyScore","livabilityScore","encodedPolygon"],b=["name","avgPriceRisePercentage","avgPriceRiseMonths","imageURL","projectStatus","address","distinctBedrooms","propertyUnitTypes","minPrice","maxPrice","offers","offer","offerHeading","offerDesc","minResalePrice","maxResalePrice","possessionDate","minPricePerUnitArea","propertySizeMeasure","minSize","maxSize","latitude","longitude","projectId","localityId","locality","cityId","builder","URL","authorized","avgPricePerUnitArea","derivedAvailability","totalUnits","launchDate","label","dominantUnitType","resalePricePerUnitArea","minResaleOrPrimaryPrice","maxResaleOrPrimaryPrice","safetyScore","livabilityScore","resaleEnquiry","isResale"],c=["projectId","projectName","avgPriceRisePercentage","avgPriceRiseMonths","projectUrl","label","averageRating","ratingCount","images","unitName","size","measure","budget","resalePrice","resalePricePerUnitArea","launchDate","noOfFlates","projectSize","distinctBedrooms","propertyUnitTypes","projectStatus","promisedCompletionDate","projectAmenity","offers","offer","offerHeading","offerDesc"],d={showCityChangeMessage:!0},e={perPageCount:20};return{displaySettings:d,defaultSettings:e,localityListData:a,projectListData:b,projectDetailData:c}})}),define("services/filterService",["app","services/pageSettings","services/projectService"],function(a){a.factory("FilterService",["pageSettings","$location","ProjectService","$timeout","$rootScope",function(a,b,c,d,e){var f=function(a,b){return b*Math.round(a/b)},g={bed:{key:"bedrooms",gaKey:"bed",label:"Bed(s)",tempLabel:"Bed(s)",dropdown:!0,type:"equal",options:[{key:"1",label:"1 BHK"},{key:"2",label:"2 BHK"},{key:"3",label:"3 BHK"},{key:"4",label:"4 BHK"},{key:"5+",label:"5 BHK+",values:["5","6","7","8","9","10"]}]},bath:{key:"bathrooms",gaKey:"bath",label:"baths",type:"equal",options:[{key:"1",label:"1"},{key:"2",label:"2"},{key:"3+",label:"3+",values:["3","4","5","6","7","8","9","10"]}]},propertyType:{key:"unitType",label:"Property type",gaKey:"propertyType",type:"equal",options:[{key:"Apartment",label:"Apartment"},{key:"Plot",label:"Plot"},{key:"Villa",label:"Villa"}]},listingType:{key:"isResale",gaKey:"listingType",dropdown:!0,type:"equal",label:"Availability",options:[{key:"false",label:"From Builder"},{key:"true",label:"In Resale"}]},projectStatus:{key:"projectStatus",gaKey:"projectStatus",type:"equal",label:"Project Status",tempLabel:"project status",dropdown:!0,options:[{key:"launchingSoon",label:"Launching Soon",values:["not launched","pre launch"]},{key:"newLaunch",label:"New Launch",values:["launch"]},{key:"underConstruction",label:"Under Construction",values:["under construction"]},{key:"readyToMoveIn",label:"Ready to Move In",values:["ready for possession","occupied","completed"]}],backwardCompatibility:function(a){var b,c=this;return this.activeCount=0,a=a.split(","),_.each(a,function(a){_.each(c.options,function(d){-1!=d.values.indexOf(a)&&(d.selected=!0,c.activeCount++,b=!0)})}),b}},budget:{key:"primaryOrResaleBudget",keys:["primaryOrResaleBudget","price"],gaKey:"budget",dropdown:!0,label:"Budget",tempLabel:"Budget",type:"range",selectMinMaxRange:function(a,b){angular.forEach(this.range.max,function(a,c){""===b&&(b="Any"),a.value==b?a.selected=!0:a.selected=!1}),angular.forEach(this.range.min,function(b,c){b.value==a?b.selected=!0:b.selected=!1})},getMaxRange:function(a){a=""===a?0:parseInt(a);var b,c=[],d=this.range.maxSize,e=!1;angular.forEach(this.range.min,function(b,c){b.value==a&&(e=!0)}),e?b=this.range.maxConfig[a]:(b=this.getIncrement(a),a=f(a,5));for(var g=1;d>=g;g++)c.push({value:b*g+a});c.push({value:"Any"}),this.range.max=c},getIncrement:function(a){for(var b=this.range.min,c=b[1].value,d=0;d<b.length&&(a>b[d].value||a==b[d].value)&&a>c;d++)c=b[d].value;return this.range.maxConfig[c]},range:{min:[{value:0},{value:25e5},{value:5e6},{value:75e5},{value:1e7},{value:15e6},{value:2e7}],max:[{value:5e6},{value:1e7},{value:15e6},{value:2e7},{value:25e6},{value:3e7},{value:"Any"}],maxConfig:{0:5e6,25e5:1e6,5e6:15e5,75e5:15e5,1e7:25e5,15e6:25e5,2e7:5e6},maxSize:6}},size:{key:"size",keys:["size"],gaKey:"size",type:"range",label:"size",tempLabel:"size",selectMinMaxRange:function(a,b){""===b&&(b="Any"),angular.forEach(this.range.max,function(a,c){a.value==b?a.selected=!0:a.selected=!1}),angular.forEach(this.range.min,function(b,c){b.value==a?b.selected=!0:b.selected=!1})},getMaxRange:function(a){a=""===a?0:parseInt(a);var b,c=[],d=this.range.maxSize,e=!1;a=""===a?0:a,angular.forEach(this.range.min,function(b,c){b.value==a&&(e=!0)}),e?b=this.range.maxConfig[a]:(b=this.getIncrement(a),a=f(a,10));for(var g=1;d>=g;g++)c.push({value:b*g+a});c.push({value:"Any"}),this.range.max=c},getIncrement:function(a){for(var b=this.range.min,c=b[1].value,d=0;d<b.length&&(a>b[d].value||a==b[d].value)&&a>c;d++)c=b[d].value;return this.range.maxConfig[c]},range:{min:[{value:0},{value:500},{value:1e3},{value:1500},{value:2e3}],max:[{value:500},{value:1e3},{value:1500},{value:2e3},{value:"Any"}],maxConfig:{0:500,500:150,1e3:200,1500:250,2e3:300},maxSize:4}},possessionDate:{key:"possessionDate",gaKey:"possessionTime",label:"Possession in",type:"range",format:function(a){var b=new Date,c=new Date,d=new Date;return c.setDate(b.getDate()+parseInt(a.from)),d.setDate(b.getDate()+parseInt(a.to)),{from:c.getTime(),to:d.getTime()}},options:[{from:"0",to:"90",label:"3 Months"},{from:"0",to:"180",label:"6 Months"},{from:"0",to:"365",label:"1 Year"},{from:"0",to:"730",label:"2 Years"}]}};g.listingType={key:"isSoldOut",type:"equal",label:"Listing Type",options:[{key:"false",label:"Available"},{key:"true",label:"Sold Out"}]};var h=function(){for(var a in g)b.search(g[a].key,void 0)},i=function(){var a={filters:{and:[]}};for(var b in g){var c,d=g[b],e=a.filters.and;switch(d.type){case"equal":var f=[];_.each(d.options,function(a){(a.selected||a.selectedFromUrl)&&(a.values?f=f.concat(a.values):f.push(a.key))}),f.length&&(c={equal:{}},c.equal[d.key]=f,e.push(c));break;case"range":if(c={range:{}},d.options){var h=_.find(d.options,function(a){return a.selected===!0});if(h){var i={from:h.from,to:h.to};d.format&&(i=d.format(i)),c.range[d.key]=i,e.push(c)}}else(d.active||d.fromurl)&&(c.range[d.key]={from:d.from,to:d.to},e.push(c));break;case"tag":d.selected.length&&(c={equal:{}},c.equal[d.key]=_.pluck(d.selected,"label"),e.push(c))}}return a};g.builder={label:"Builder",key:"builderLabel",gaKey:"builder",selecteditem:void 0,selected:[],type:"tag",data:[],recommendedCount:5,recommended:[],reset:function(a){$.each(a.recommended,function(a,b){
b.notVisible=!1}),a.selection={},a.selected=[]}},g.locality={key:"localityOrSuburbLabel",gaKey:"locality",label:"Locality",selecteditem:void 0,selected:[],type:"tag",placeholder:"Add a Locality",data:[],recommendedCount:5,recommended:[]},g.suburb={key:"suburbLabel",selecteditem:void 0,selected:[],type:"tag",data:[],recommendedCount:5,recommended:[],hide:!1};var j=function(a){c.getStats(a,function(a){a&&(d(function(){if(a.stats&&a.stats.budget){var b=a.stats.budget;g.budget.initial={min:b.min,max:b.max}}if(a.stats&&a.stats.size){var c=a.stats.size;g.size.initial={min:c.min,max:c.max}}},0),$.each(["locality","builder","suburb"],function(b,c){d(function(){if(a.facets&&a.facets[c+"LabelPriority"]){var b,d=[],e=-1,f=1e4;g[c].recommended=[],g[c].data=[],$.each(a.facets[c+"LabelPriority"],function(a,h){var i=_.keys(h)[0].split(":"),j=parseInt(i[1],10),k=c;if(b={label:i[0]},"suburb"==k&&(k="locality"),g[k].data.push(b),a<g[c].recommendedCount)d[a]={name:b,value:j},f>j||(f=j,e=a);else{var l=function(){for(var a=d[0].value,b=0,c=[],e=0;e<d.length;e++)c.push(d[e]),a<d[e].value&&(b=e,a=d[e].value);return b};f>j&&(d[e]={name:b,value:j},e=l(),f=d[e].value)}}),$.each(d,function(a,b){if("builder"==c||"suburb"==c){var d="suburb"==c?"locality":c;g[d].recommended.push(b.name)}})}},0)}))})},k=function(a){var b={},c=i();return angular.copy(a,b),b.filters.and=a.filters.and.concat(c.filters.and),decodeURIComponent(JSON.stringify(b))},l=function(){_.each(this.filters,function(a){"equal"==a.type?(_.each(a.options,function(a){a.selected=!1,a.disabledFromUrl=!1,a.disabled=!1,a.selectedFromUrl=!1}),a.activeCount=0):"range"==a.type&&(a.options?(_.each(a.options,function(a){a.selected=!1}),a.active=!1,a.disable=!1,a.disabledFromUrl=!1):(a.active=!1,a.from="",a.to="",a.tmpFrom="",a.tmpTo="",a.fromurl=!1,a.getMaxRange(a.from),a.selectMinMaxRange(a.from,a.to)))})};return{filters:g,createSearchQuery:i,fetchStats:j,resetAllFilters:h,mergeQueries:k,cleanFilters:l}}])}),define("services/urlDataService",["app","services/citiesService","services/projectService","services/unitInfoService","services/localityService","services/commonLocationService","services/builderService","services/globalService","services/propertyService","services/filterService"],function(a){a.factory("UrlDataService",["CityService","ProjectService","UnitInfoService","LocalityService","CommonLocationService","BuilderService","GlobalService","PropertyService","$location","FilterService","$q",function(a,b,c,d,e,f,g,h,i,j,k){var l=function(a){var b=function(){var b="";return""!=a.sizeInfo&&(b+="_SIZE"),b},c=function(){var b="";return""!=a.bhkinfo&&(b+="_BHK"),""!=a.bathInfo&&(b+="_T"),b},d="";return("apartment"==a.propType||"villa"==a.propType)&&(d+=c()),d+=b(),d+"_"+a.propType.toUpperCase()},m=function(a,b){var c,d,e="";if(b&&"base.resaleListing.cityResale"===b)return["RESALE-LISTING-CITY","RESALE_PROPERTY_CITY"];if(b&&"base.resaleListing.cityLocalityResale"===b){var f=n(a.entityId);if("locality"===f)return["RESALE-LISTING-LOCALITY","RESALE_PROPERTY_LOCALITY"];if("suburb"===f)return["RESALE-LISTING-SUBURB","RESALE_PROPERTY_SUBURB"]}else{if(b&&"base.project.resaleProperty"===b)return["RESALE-PROPERTY","RESALE_PROPERTY"];if(b&&b.search("base.static")>-1)return["",""];if(b&&"base.project.resaleProperty"===b)return["RESALE-PROPERTY","RESALE_PROPERTY"];if(b&&b.search("base.testimonial")>-1)return["","TESTIMONIALS"];if(b&&b.search("base.career")>-1)return["","CAREERS"];b&&b.search("base.listing")>-1?(c=b.split("base.listing.")[1],d="listing"):b&&b.search("base.maps")>-1&&(d="maps",c=b.split("base.maps.")[1])}if("City"===c||"CityBhk"===c)return a.bhkinfo?["SALE-LISTING-CITY","CITY_BHK"]:["SALE-LISTING-CITY","CITY_LISTING_PAGE"];if("nearbylisting"===c)return["SALE-LISTING-NEARBY","NEARBY_LISTING_PAGE"];if("newlaunchincity"===c)return["SALE-LISTING-NEW-LAUNCH-CITY","NEW_LAUNCH_CITY"];if(c&&("PtypeBhk"===c||c.search("india")>-1))return e="HOME_PAGE",a.propType?(e=a.propType+"_IN_INDIA",a.projectStatus?e=a.projectStatus+"_"+a.propType+"_IN_INDIA":a.listingType?e=a.listingType+"_"+a.propType+"_IN_INDIA":a.bhkinfo&&(e+="_BHK")):e="PROPERTY_IN_INDIA",e=e.replace(/-/g,"_"),e=e.toUpperCase(),"NEW_APARTMENTS_IN_INDIA"==e&&(e="NEW_APARTMENTS_FLATS_IN_INDIA"),["SALE-LISTING-ALL",e];if("CityPtype"===c){var g="SALE-LISTING-CITY";if(a.locinfo){var h=a.locinfo.split("-"),i=parseInt(h.splice(-1)),f=n(i);"locality"==f?(g+="-LOCALITY",e="LOCALITY_LISTING_PAGE"):"suburb"==f&&(g+="-SUBURB",e="SUBURB_LISTING_PAGE"),("property"!=a.propType||"property"==f&&(a.bhkinfo||a.budgetFilter))&&(e=a.propType+"_SALE_"+f)}else e="CITY_LISTING_PAGE",a.propType&&(e=a.propType+"_SALE_CITY");return a.bhkinfo&&(g+="-BHK",e+="-BHK"),a.budgetFilter&&(g+="-PRICE",e+="-PRICE"),e=e.replace(/-/g,"_"),[g,e.toUpperCase()]}if("Builder"===c)return a.bhkinfo?["SALE-LISTING-BUILDER","BUILDER_BHK"]:["SALE-LISTING-BUILDER","BUILDER_PAGE"];if("BuilderCity"===c)return a.bhkinfo?["SALE-LISTING-BUILDER","CITY_BUILDER_BHK"]:["SALE-LISTING-BUILDERCITY","CITY_BUILDER_PAGE"];if("ProjectDetail"===c)return["SALE-LISTING-PROJECTDETAIL","PROJECT_DETAIL_PAGE"];if("base.project.detail"===b)return["PROJECTDETAIL","PROJECT_PAGE"];if("base.project.property"===b)return["PROPERTY","PROJECT_PROPERTY_PAGE"+l(a)];if("base.overview.City"===b)return["CITY-OVERVIEW","CITY_OVERVIEW_PAGE"];if("base.home"===b)return["HOME-PAGE","HOME_PAGE"];if("base.comparison"===b)return["COMPARE","COMPARE"];if("base.overview.Others"===b){var f=n(a.entityId);if("locality"==f)return["LOCALITY-OVERVIEW","LOCALITY_OVERVIEW_PAGE"];if("suburb"==f)return["SUBURB-OVERVIEW","SUBURB_OVERVIEW_PAGE"]}var j="",k="";return a.entityId?(k=n(a.entityId).toUpperCase(),("LOCALITY"==k||"SUBURB"==k)&&(e=k+"_LISTING_PAGE"),"BUILDER"===k&&(a.cityName?(k+="CITY",e="CITY_BUILDER_PAGE"):e="BUILDER_PAGE")):(k="CITY",j="SALE-LISTING-CITY",e="CITY_LISTING_PAGE","base.listing.citySociety"===b?e="SOCIETY-FLATS-CITY":"resale"==a.listingType&&(e="RESALE-PROPERTY-CITY")),("CITY"==k||"LOCALITY"==k||"SUBURB"==k||"BUILDER"==k)&&(a.projectStatus&&a.propType?e=a.projectStatus+"-"+a.propType+"-"+k:"BUILDER"==k&&a.propType&&(e=a.propType+"-"+k),"resale"==a.listingType&&(e="RESALE-PROPERTY-"+k,a.propType&&(e="RESALE-"+a.propType+"-"+k)),a.budgetType&&(e=a.budgetType+"-PROJECTS-"+k,a.propType&&(e=a.budgetType+"-"+a.propType+"-"+k)),"base.listing.localitySociety"===b&&(j="SALE-LISTING-"+k,e="SOCIETY-FLATS-"+k)),j="SALE-LISTING-"+k,e=e.replace(/-/g,"_"),[j,e.toUpperCase()]},n=function(a){return a&&a>0?1e3>a?"city":a>1e4&&5e4>a?"suburb":a>5e4&&1e5>a?"locality":a>1e5&&5e5>a?"builder":a>5e5&&1e6>a?"project":a>5e6&&1e7>a?"property":"":""},o=function(a){var b="";switch(a){case"apartments-flats":case"apartments-for-sale":case"flats-for-sale":case"apartments":case"apartment":case"project":case"flats":b="Apartment";break;case"sites-plots":case"plots":case"plot":b="Plot";break;case"villas":case"villa":b="Villa";break;case"house":b="House";break;case"property":}return b},p=function(a){var b,c=void 0;return"upcoming"===a?(c="launchingSoon",b=["pre launch","not launched"]):"ongoing"===a?(c="underConstruction",b=["under construction"]):"ready-to-move"===a?(c="readyToMoveIn",b=["ready for possession","occupied","completed"]):"under-construction"===a?(c="underConstruction",b=["under construction"]):"new-launch"===a||"new"===a?(c="newLaunch",b=["launch"]):"completed"===a&&(c="readyToMoveIn",b=["ready for possession","occupied","completed"]),{status:c,categories:b}},q=function(a){if(a){var b=a.replace("bhk","").replace(/\//g,"").replace("-","");return b?parseInt(b):0}return 0},r=function(a){var b={maxBudget:"0",minBudget:"0"};if(!a)return b;var c=a.replace("/","").split("-");return"above"==c[0]?"crores"==c.splice(-1)[0]?b.minBudget=c[1]+"00":b.minBudget=c[1]:"below"==c[0]?"crores"==c.splice(-1)[0]?b.maxBudget=c[1]+"00":b.maxBudget=c[1]:(b.minBudget=c[0],b.maxBudget=c[1]),b},s=function(a){var b={maxBudget:"0",minBudget:"0"};return"luxury"===a?(b.minBudget="100",b.maxBudget="100000"):"low-budget"===a?b.maxBudget="40":"affordable"===a&&(b.maxBudget="40"),b},t=function(c,d){var g=k.defer(),l={id:void 0,bedroom:0,minBudget:0,maxBudget:0,city:void 0,locality:void 0,builder:void 0,baseUrl:void 0,propertyType:void 0,propertyTab:void 0,status:void 0,amenity:void 0,pageType:void 0,listingType:void 0,projectStatus:void 0,redirectUrl:void 0,oldId:void 0,cityId:void 0,localityId:void 0,suburbId:void 0,projectId:void 0,propertyId:void 0,suburb:void 0,builderId:void 0,compareEntity1:void 0,compareEntity2:void 0,placeId:void 0};j.cleanFilters();var t=i.search().page?i.search().page:1;t>1&&(l.page=t);var u=[];if(l.city=c.cityName?c.cityName.replace(/-/g," "):void 0,c.cityName&&u.push(a.getMainCities().then(function(a){a?angular.forEach(a.data,function(a){a.label.toLowerCase().trim()==l.city.toLowerCase()&&(l.redirectUrl||(l.redirectUrl="projects-in-"+c.cityName),l.cityId=a.id,l.id||(l.id=a.id))}):g.reject("failed")})),c.placeId&&"undefined"!=typeof c.placeId&&(l.placeId=c.placeId,u.push(b.getNearByInfoByGpKey(c.placeId,!1,!0).then(function(a){a?(l.latitude=a.latitude,l.longitude=a.longitude,l.placeName=a.placeName,l.placeId=a.placeId,l.redirectUrl=a.url,l.cityId=a.cityid):g.reject("failed")}))),c.propType&&(l.propertyType=o(c.propType),l.propertyType))for(var v=0;v<j.filters.propertyType.options.length;v++)j.filters.propertyType.options[v].disabledFromUrl=!0,j.filters.propertyType.options[v].key==l.propertyType?j.filters.propertyType.options[v].selectedFromUrl=!0:j.filters.propertyType.options[v].selectedFromUrl=!1;if(c.listingType&&"resale"==c.listingType&&"base.resaleListing.cityResale"!==d){l.listingType=["true"];for(var v=0;v<j.filters.listingType.options.length;v++)j.filters.listingType.options[v].disabledFromUrl=!0,j.filters.listingType.options[v].key==l.listingType[0]?j.filters.listingType.options[v].selectedFromUrl=!0:j.filters.listingType.options[v].selectedFromUrl=!1}if(c.projectStatus){var w=p(c.projectStatus);if(l.projectStatus=w.categories,l.projectStatusKey=w.status,"new-launch-in-city"===c.projectStatus&&(l.projectStatusKey=c.projectStatus),l.projectStatusKey)for(var v=0;v<j.filters.projectStatus.options.length;v++)j.filters.projectStatus.options[v].disabledFromUrl=!0,j.filters.projectStatus.options[v].key==l.projectStatusKey?(j.filters.projectStatus.options[v].selectedFromUrl=!0,"underConstruction"==j.filters.projectStatus.options[v].key&&j.filters.projectStatus.options[v].selectedFromUrl?j.filters.possessionDate.disabledFromUrl=!1:j.filters.possessionDate.disabledFromUrl=!0):j.filters.projectStatus.options[v].selectedFromUrl=!1}if(c.bhkinfo&&(l.bedroom=q(c.bhkinfo),l.bedroom))for(var v=0;v<j.filters.bed.options.length;v++)j.filters.bed.options[v].disabledFromUrl=!0,j.filters.bed.options[v].key==l.bedroom?j.filters.bed.options[v].selectedFromUrl=!0:j.filters.bed.options[v].selectedFromUrl=!1;if(c.budgetFilter){var x=r(c.budgetFilter);l.minBudget=x.minBudget,l.maxBudget=x.maxBudget}else if(c.budgetType){var x=s(c.budgetType);l.minBudget=x.minBudget,l.maxBudget=x.maxBudget,j.filters.budget.to=parseInt(l.maxBudget+"00000"),j.filters.budget.from=parseInt(l.minBudget+"00000"),j.filters.budget.tmpTo=parseInt(l.maxBudget+"00000"),j.filters.budget.tmpFrom=parseInt(l.minBudget+"00000"),j.filters.budget.fromurl=!0}if(c.locinfo){var y=c.locinfo.split("-"),z=parseInt(y.splice(-1));y.join(" ").trim(),"locality"==n(z)?(l.id=z,l.localityId=z,u.push(e.getBasicInfo("locality",z,!1,!0).then(function(a){a?(l.locality=a.label.toLowerCase(),l.suburb=a.suburb.label,l.suburbId=a.suburb.id,l.redirectUrl=a.url):g.reject("failed")}))):"suburb"==n(z)&&(l.id=z,l.suburbId=z,u.push(e.getBasicInfo("suburb",z,!1,!0).then(function(a){a?(l.suburb=a.label.toLowerCase(),l.redirectUrl=a.url):g.reject("failed")})))}if(c.firstCompareEntityId&&c.secondCompareEntityId&&(l.comparisonProjects=[c.firstCompareEntityId,c.secondCompareEntityId]),c.entityId&&"base.project.resaleProperty"!==d){var A=n(parseInt(c.entityId));"builder"==A?(l.id=c.entityId,l.builderId=c.entityId,u.push(f.getCard(c.entityId,function(a){return a},!0).then(function(a){a?(l.id=a.id,l.builderId=a.id,l.builder=a.name,l.builderName=a.name,l.builderCities=a.builderCities,l.redirectUrl=c.cityName?c.cityName+"/"+a.url:a.url):g.reject("failed")}))):"locality"==A?(l.id=c.entityId,l.localityId=c.entityId,u.push(e.getBasicInfo("locality",c.entityId,!1,!0).then(function(a){a?(l.locality=a.label.toLowerCase(),l.suburb=a.suburb.label,l.suburbId=a.suburb.id,l.redirectUrl=a.url):g.reject("failed")}))):"suburb"==A?(l.id=c.entityId,l.suburbId=c.entityId,u.push(e.getBasicInfo("suburb",c.entityId,!1,!0).then(function(a){a?(l.id=c.entityId,l.suburbId=c.entityId,l.suburb=a.label.toLowerCase(),l.redirectUrl=a.url):g.reject("failed")}))):"project"==A?(l.id=c.entityId,l.projectId=c.entityId,u.push(b.getProjectDetail(c.entityId,!1,!1,!0).then(function(a){if(a.data){var b=a.data;l.id=b.projectId,l.projectId=b.projectId,l.latitude=b.latitude,l.longitude=b.longitude,l.locality=b.locality.label,l.localityId=b.localityId,l.suburb=b.locality.suburb.label,l.suburbId=b.locality.suburbId,l.builder=b.builder.name,l.builderId=b.builderId,l.redirectUrl=b.URL}else g.reject("failed")}))):"property"==A&&(l.id=c.entityId,l.propertyId=c.entityId,u.push(h.getPropertyDetail(c.entityId,!1,!0).then(function(a){if(a){var b=a;l.id=c.entityId,l.projectId=b.projectId,l.locality=b.project.locality.label,l.localityId=b.project.locality.localityId,l.suburb=b.project.locality.suburb.label,l.suburbId=b.project.locality.suburb.id,l.builder=b.project.builder.name,l.builderId=b.project.builderId,l.redirectUrl=b.URL}else g.reject("failed")})))}else"base.project.resaleProperty"===d&&(l.id=c.entityId,l.resalePropertyId=c.entityId,u.push(h.getResalePropertyDetail(c.entityId,!1,!0).then(function(a){a&&a.data&&a.data[0]?(l.resaleData=a.data[0],l.id=c.entityId,l.projectId=a.data[0].property.project.projectId,l.locality=a.data[0].property.project.locality.label,l.localityId=a.data[0].property.project.locality.localityId,l.suburb=a.data[0].property.project.locality.suburb.label,l.suburbId=a.data[0].property.project.locality.suburb.id,l.builder=a.data[0].property.project.builder.name,l.builderId=a.data[0].property.project.builderId,l.redirectUrl=a.data[0].URL):g.reject("failed")})));return k.all(u).then(function(){var a=m(c,d);return l.pageType=a[0],l.templateId=a[1],g.resolve(l),l}),g.promise};return{getUrlData:t,getPageTypeById:n,getPropType:o,getBudgetInfo:r,getBHKInfo:q,getPageType:m}}])}),define("services/b2b-constants",["app"],function(a){a.factory("B2BConstants",["$filter",function(a){"use strict";return{NO_PHASE:"No Phase",GROUP_PROJECT_COUNT:10,PROJECT_SPLIT_COUNT:5,TIME_INTERVAL:{DURATION:{FINANCIAL:{Monthly:{key:"month",title:"Months",period:[3,6,9]},Quarterly:{key:"quarter",title:"Quarters",period:[3,6,9]}},CALENDAR:{Monthly:{key:"month",title:"Months",period:[3,6,9]},Quarterly:{key:"quarter",title:"Quarters",period:[3,6,9]}}},DEFAULT_DURATION:{type:"Monthly",period:1},DEFAULT_PROJECT_ANALYSIS_EPOCH:13647546e5},DASHBOARD:{KEY_DATA:{UNITS:{OPTIONS:[{key:"sumLaunchedUnit",primaryKey:"sumLaunchedUnit",title:"Units Launched",text:"Units Launched"},{key:"sumUnitsSold",primaryKey:"sumUnitsSold",title:"Units Sold",text:"Units Sold"},{key:"sumInventory",primaryKey:"sumInventory",title:"Unsold Inventory",text:"Unsold Inventory"},{key:"sumUnitsDelivered",primaryKey:"sumUnitsDelivered",title:"Units Delivered",text:"Units Delivered"},{key:"inventoryOverhang",primaryKey:"inventoryOverhang",title:"Inventory Overhang ",text:"Inventory Overhang (in months)"}]},AREA:{OPTIONS:[{primaryKey:"sumLaunchedUnit",helperKey:"wavgSizeOnLaunchedUnit",key:"areaLaunched",title:"Area Launched",text:"Area Launched (in sq ft)"},{primaryKey:"sumUnitsSold",helperKey:"wavgSizeOnUnitsSold",key:"areaSold",title:"Area Sold",text:"Area Sold (in sq ft)"},{primaryKey:"sumInventory",helperKey:"wavgSizeOnInventory",key:"areaUnsold",title:"Area Unsold",text:"Area Unsold (in sq ft)"},{primaryKey:"sumUnitsDelivered",helperKey:"wavgSizeOnUnitsDelivered",key:"areaDelivered",title:"Area Delivered",text:"Area Delivered (in sq ft)"},{primaryKey:"inventoryOverhang",key:"inventoryOverhang",title:"Inventory Overhang ",text:"Inventory Overhang (in months)"}]},DEFAULT_GROUP:"cityId",FIELDS:["sumLaunchedUnit","sumUnitsSold","sumInventory","sumUnitsDelivered","cityId","cityName","sumRateOfSale","wavgSizeOnLaunchedUnit","wavgSizeOnUnitsSold","wavgSizeOnInventory","wavgSizeOnUnitsDelivered"],DEFAULT_DURATION:{type:"Monthly",period:1}},PRICE_TREND:{DEFAULT_COUNT:5,OPTIONS:[{key:"sumUnitsSold",title:"Units Sold"},{key:"sumLaunchedUnit",title:"Units Launched"},{key:"sumInventory",title:"Unsold Inventory"},{key:"priceAppreciation",title:"Price Appreciation"}],DEFAULT_GROUP:"localityId",DEFAULT_OPTION:"sumUnitsSold",FIELDS:["wavgPricePerUnitAreaOnLtdSupply","localityId","localityName","sumUnitsSold","sumLaunchedUnit","sumInventory","wavgSecondaryPricePerUnitAreaOnLtdLaunchedUnit"],DEFAULT_DURATION:{type:"Monthly",period:1}}},PROJECT_DETAIL:{TIME_INTERVAL:{DURATION:{FINANCIAL:{Monthly:{key:"month",title:"Months",period:[3,6,9,12]},Quarterly:{key:"quarter",title:"Quarters",period:[3,6,9,12]}},CALENDAR:{Monthly:{key:"month",title:"Months",period:[3,6,9,12]},Quarterly:{key:"quarter",title:"Quarters",period:[3,6,9,12]}}},DEFAULT_DURATION:{type:"Quarterly",key:"quarter",title:"Quarters",period:6},DEFAULT_PROJECT_ANALYSIS_EPOCH:13647546e5},DEFAULT_GROUP:"localityId",FIELDS:["wavgPricePerUnitAreaOnLtdSupply","localityId","localityName"],KEY_DATA_FIELDS:["sumUnitsSold","sumInventory"]},BUILDER_SEARCH:{BUILDER_TREND_FIELDS:["countDistinctProjectId","minPricePerUnitArea","maxPricePerUnitArea","sumUnitsSold","sumLtdSupply","sumInventory","wavgSizeOnLtdSupply","sumLtdLaunchedUnit"],GROUPING:["builderId","constructionStatus"]},MEASURES:{rate:{label:"Rate",key:"wavgPricePerUnitAreaOnLtdSupply",values:[{label:"Rs/ sq ft",key:"FEET"},{label:"Rs/ sq mt",key:"METER"},{label:"Rs/ sq yd",key:"YARD"}]},units:{label:"# Units",key:"base",values:[{label:"Number"}]},projects:{label:"# Projects",key:"countDistinctProjectId",values:[{label:"Number",key:"projectKey"}]},area:{label:"Area",key:"area",values:[{label:"sq ft",key:"FEET"},{label:"sq mt",key:"METER"},{label:"sq yd",key:"YARD"}]},percentage:{label:"%",key:"percentage"}},GRAPH_SPLITS:{aggregate:{label:"Aggregate",key:null},projects:{label:"Projects",key:"phaseId"},propertyType:{label:"Property Type",key:"unitType"},bhk:{label:"BHK",key:"bedrooms",exclude:[0],extraInfo:"minSize,maxSize",formatter:function(a){return parseInt(a)?a+" BHK":"PLOT"}},budget:{label:"Budget",key:"budget",rangeField:"budget",rangeValue:[5e6,75e5],type:"specificRange",formatter:function(b){return"-"==b[0]?(b=b.replace("-",""),"Low (&lt; "+a("priceFormat")(b,void 0,void 0," L")+")"):"-"==b[b.length-1]?(b=b.replace("-",""),"High (> "+a("priceFormat")(b,void 0,void 0," L")+")"):(b=b.split("-"),"Medium ("+a("priceFormat")(b[0],void 0,void 0," L")+" - "+a("priceFormat")(b[1],void 0,void 0," L")+")")}},constructionStatus:{label:"Construction Status",key:"constructionStatus",formatter:function(a){switch(a){case"Pre Launch":return"Launching Soon";case"Completed":return"Ready to Move In";case"Launch":return"New Launch";default:return a}}},bookingStatus:{label:"Booking Status",key:"bookingStatus"},customerType:{label:"Customer Type",extraInfo:"sumInvestorDemand"},delayPeriod:{label:"Delay Period",key:"delayPeriod",rangeField:"completionDelayInMonth",rangeValue:[6,12,24,36],type:"specificRange",abscissaFormatter:function(a){switch(a){case"-6":return"< 6 MO";case"6-12":return"6 MO - 1 Yr";case"12-24":return"1 Yr - 2 Yrs";case"24-36":return"2 Yr - 3 Yrs";case"36-":return"> 3 Yrs"}}}},USER_PREFERENCES:{yearType:"financial",dataUnitType:"UNITS",unitType:["Apartment","Villa"],budgetRange:{globalCityMin:25e5,globalCityMax:9e6,cities:{}},catchmentSize:5e3,areaUnit:"sqft",majorMovementPercentage:{yearly:10,monthly:10,quarterly:10},lengthUnit:"ft",expandOtherProjects:"0"},BUILDER_API:{FIELDS:["id","avgCompletionTimeMonths","projectCountByCity","projectStatusCount","name","description","imageURL","url","projectCount","establishedDate","builderWebsite","builderAddress","builderLocalityCount"]}}}])}),define("services/b2b/TermsAndConditionService",["app","services/globalService"],function(a){a.factory("TermsAndConditionService",["$http","$rootScope","$location","$q",function(a,b,c,d){var e=function(a){var c=!1;return a&&a.length>0?(angular.forEach(a,function(a){2==a.termConditionId&&a.accepted&&(c=!0,b.termsAndConditionAccept=!0)}),c):(b.termsAndConditionAccept=!1,!1)},f=function(){b.saveAttemptedURL?(c.path(b.saveAttemptedURL),b.saveAttemptedURL=void 0):c.path("/maps/")},g=function(){var b=d.defer();return a.put("userservice/data/v1/entity/accepted-term-and-condition",{termConditionId:2}).then(function(a){var c;if(a.data&&a.data.data){var d=e([a.data.data]);c={accepted:d}}else c={accepted:!1};return b.resolve(c),b.promise})},h=function(){var b=d.defer();return a.get("userservice/data/v1/entity/user/accepted-term-and-condition?filters=termConditionId==2").then(function(a){var c;if(a.data&&a.data.data){var d=e(a.data.data);c={termsAndConditionAccept:d}}else c={termsAndConditionAccept:!1};return b.resolve(c),b.promise})},i=function(a){var b=!1;return a&&(b=e(a)),b};return{agreeOnTermsAndCondition:g,verifyTermsAndCondition:h,verifyTermsAndConditionOnRefresh:i,resolveNavigation:f}}])}),define("services/b2b/userDetails",["app","services/constants","services/b2b-constants","services/citiesService","services/b2b/CookieService","services/b2b/TermsAndConditionService","googleAnalyticsService"],function(a){a.factory("userDetails",["$http","$rootScope","$q","$location","$state","Constants","B2BConstants","CityService","CookieService","TermsAndConditionService","GoogleAnalyticsService",function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=!1,m=function(){if(b.userDetails){var d=c.defer();return d.resolve(b.userDetails),d.promise}return c.all([a.get("/app/v1/user/details?fields=acceptedTermAndConditions"),h.getLoggedInUserCities()]).then(function(a){var c=a[0],d=a[1];return 200!==c.status||_.isEmpty(c.data.data.appDetails.B2B)?!1:(n(c,d),l=j.verifyTermsAndConditionOnRefresh(c.data.data.acceptedTermAndConditions),l?b.userDetails:(e.go("base.termsAndCondition"),!1))})},n=function(a,c){var d=[{cities:[{name:""}]}];b.userDetails=a.data.data.appDetails.B2B,b.userDetails.firstName=a.data.data.firstName,b.userDetails=b.userDetails?b.userDetails:{},b.userDetails.subscriptions=b.userDetails.subscriptions?b.userDetails.subscriptions:d,b.userDetails.subscriptions=b.userDetails.subscriptions.length?b.userDetails.subscriptions:d,b.userDetails.subscriptions=b.userDetails.subscriptions.length>0?b.userDetails.subscriptions:d,b.userLoggedIn=!0,k.gaCustomDimensionClientId(a.data.data.id);var e=h.cityIdAndNameMapping(c.data.data),f=b.userDetails.subscriptions[0].cities.length,j=0,l=0;_.isEmpty(b.userDetails.preference)&&(b.userDetails.preference={}),i.userSession.active(),b.userDetails.preference.preference=$.extend(!0,{},g.USER_PREFERENCES,b.userDetails.preference.preference),b.userDetails.id=b.userDetails.preference.userId,angular.forEach(b.userDetails.subscriptions[0].cities,function(a){a.name=a.name||e[a.id].label,a.localities=a.localities||[],j+=e[a.id].cityLocalityCount,l+=e[a.id].cityProjectCount}),b.userDetails.subscriptions[0].cityCount=b.userDetails.subscriptions[0].cityCount?b.userDetails.subscriptions[0].cityCount:f,b.userDetails.subscriptions[0].localityCount=b.userDetails.subscriptions[0].localityCount?b.userDetails.subscriptions[0].localityCount:j,b.userDetails.subscriptions[0].projectCount=b.userDetails.subscriptions[0].projectCount?b.userDetails.subscriptions[0].projectCount:l},o=function(b,c,d){return a({method:b,url:"data/v1/entity/user/preference/"+c,data:d,headers:{"Content-Type":"application/json"}})};return{saveUserPreferences:o,getUserDetails:m,updateRootUserDetail:n}}])});var testingCookie=getCookie("TESTING_USER");if("www.datalabs.proptiger.com"!=window.location.hostname&&"datalabs.proptiger.com"!=window.location.hostname||"1"===testingCookie)var gakey="UA-22638191-13",webEngageId="";else var gakey="UA-22638191-7",webEngageId="~c2ab377a";var _gaq=_gaq||[];_gaq.push(["_setAccount",gakey]),_gaq.push(["_setSiteSpeedSampleRate",100]),function(){"use strict";var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"www.google-analytics.com/analytics.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),define("services/b2b/siteAnalysis",function(){}),define("b2bRoutes",["require","app","text!views/controller/b2b/b2b-login.html","text!views/controller/b2b/b2b-otp.html","text!views/controller/b2b/settings.html","text!views/controller/b2b/myaccount.html","text!views/controller/b2b/dashboard.html","text!views/controller/b2b/catchment-creation.html","text!views/controller/b2b/builder-search.html","text!views/controller/b2b/project-database.html","text!views/controller/b2b/phase-detail.html","text!views/controller/b2b/save-graph.html","text!views/controller/b2b/analysis.html","text!views/controller/b2b/analysis/builder.html","text!views/controller/b2b/analysis/catchment.html","text!views/controller/b2b/pt-knowledgebank.html","text!views/controller/b2b/reset-password.html","text!views/controller/b2b/forgot-password.html","text!views/controller/b2b/terms-and-condition.html","run","controllers/b2b/abstractCtrl","controllers/b2b/b2bInterceptor","directives/common/b2b-header.c8ad4fb1","directives/b2b/maps/saveCatchment","directives/maps/map-help","services/urlDataService","services/projectService","services/searchService","services/b2b/userDetails","services/constants","services/b2b-constants","services/b2b/siteAnalysis","services/b2b/CookieService"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return b.config(["$stateProvider","$locationProvider","$controllerProvider","$compileProvider","$filterProvider","$provide","$urlRouterProvider","$httpProvider",function(t,u,v,w,x,y,z){function A(a){a.path("/maps/")}b.controller=v.register,b.directive=w.directive,b.filter=x.register,b.factory=y.factory,b.service=y.service;var B={dashboard:{script:"controllers/b2b/dashboardCtrl.91f157c1",css:"dashboard.483d11c5"},catchmentCreation:{script:"controllers/b2b/catchmentCreation.3fee3b9e",css:"catchment.b621e227"},projectDatabase:{script:"controllers/b2b/projectDatabase.7e678e66",css:"projectDb.2580bc25"},phaseDetail:{script:"controllers/b2b/phaseDetailCtrl.82aebd88",css:"phaseDetail.93eb3418"},builderSearch:{script:"controllers/b2b/builderSearchCtrl.33a43b0a",css:"builderAnalysis.ecd62411"},myAccount:{},settings:{script:"controllers/b2b/settingsCtrl.a35836fc",css:"preference.aee75511"},saveGraph:{script:"controllers/b2b/save-graph.5090edeb"},analysis:{script:"controllers/b2b/analysis.e6215ea0"},builderAnalysis:{script:"controllers/b2b/builderAnalysisCtrl.d6a55b48"},catchmentAnalysis:{script:"controllers/b2b/catchmentAnalysisCtrl.b1931a01"},login:{script:"controllers/b2b/login.5d9fb35a"},knowledgeBank:{script:"controllers/b2b/knowledgebank.100098de"},termsAndCondition:{script:"controllers/b2b/terms-and-condition.2e49f0fe"},resetPassword:{script:"controllers/b2b/resetPasswordCtrl.877ef687"}},C=function(b,c,d){var e=b.defer(),f=[];return d.script&&f.push(d.script),d.css&&f.push("css!styles/css/"+d.css),a(f,function(a){c.$apply(function(){e.resolve()})}),e.promise},D=function(a,b,c){return{url:a,template:h,controller:"catchmentCreationCtrl",onEnter:["$rootScope","$stateParams","$http","$window",function(a,b,d,e){c?a.showMapView=!1:a.showMapView=!0,a.filterQuery=b}],onExit:["SearchService","$rootScope",function(a,b){a.searchController=null,b.PARSED_URL_DATA=void 0}],resolve:{urlData:["$state","$stateParams","UrlDataService","$rootScope",function(a,c,d,e){return d.getUrlData(c,b).then(function(a){return e.urlData=a,e.CURRENT_ACTIVE_PAGE=e.urlData.pageType,a},function(a){})}]}}};u.html5Mode(!0).hashPrefix("!"),z.when("/maps","/maps/"),z.when("","/");var E="-",F="/",G="{cityName:[^/]+}",H="{projectName:[^/]+}",I="{entityId:[5-9][0-9]{5}}",J="{gpSearchKey:[^/]+}",K="{placeId:[^/]+}",L="{filters:(?:/filters)?}";t.state("base",{"abstract":!0,controller:"abstractCtrl",template:'<b2b-header data-ng-show="termsAndConditionAccept && userLoggedIn"></b2b-header><ui-view/>',resolve:{resolvedUserDetails:["userDetails","$location","$q","CookieService",function(a,b,c,d){var e=c.defer(),f=d.userSession.isActive();return f?a.getUserDetails():(b.path("/login"),setTimeout(function(){e.resolve("Resolved with dummy data")},0),e.promise)}]}}).state("base.index",{url:"/",onEnter:["$rootScope","$location",function(a,b){a.userDetails?A(b):b.path("/login")}]}).state("base.dashboard",{url:"/dashboard",template:g,controller:"dashboardCtrl",onEnter:["$rootScope","Constants",function(a,b){a.currentCatchment=void 0,a.selectedTab="dashboard",a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.DASHBOARD}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.dashboard)}]}}).state("base.maps",{url:"/maps",template:'<div><b2b-listingfilter id="appHeader" ></b2b-listingfilter></div><div ui-view></div>',onEnter:["$rootScope","$location",function(a,b){a.showFilters=!0,"/maps"===b.path()&&(a.urlData={pageType:"empty"}),a.selectedTab="maps"}],onExit:["$rootScope",function(a){a.showFilters=!1}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.catchmentCreation)}],preference:["$q","$location","$timeout","$rootScope","resolvedUserDetails",function(a,b,c,d,e){var f=a.defer();return e&&(d.defaultPreference="unitType="+d.userDetails.preference.preference.unitType.join(","),b.search().unitType||b.search("unitType",d.userDetails.preference.preference.unitType.join(",")),b.search().primaryOrResaleBudget||b.search("primaryOrResaleBudget",d.userDetails.preference.preference.budgetRange.globalCityMin+","+d.userDetails.preference.preference.budgetRange.globalCityMax)),c(function(){return f.resolve()},0),f.promise}]}}).state("base.maps.maplisting",{url:"/","abstract":!0,template:"<div ui-view> </div>"}).state("base.maps.default",{url:"/",template:h,controller:"catchmentCreationCtrl",onEnter:["$rootScope","$stateParams","$location",function(a,b,c){a.urlData={pageType:"empty"}}],onExit:["$rootScope",function(a){}]}).state("base.maps.maplisting.cityResale",D("{cityName:[^-/]+}/{listingType:resale}-{propType:flats|apartments|property|projects}{filters:(?:/filters)?}","base.maps.cityResale")).state("base.maps.maplisting.cityStatus",D("{cityName:[^-/]+}/{projectStatus:upcoming|ongoing|ready-to-move|under-construction|new}-{propType:flats|apartments|property|projects}{filters:(?:/filters)?}","base.maps.cityStatus")).state("base.maps.maplisting.cityBudgetPtype",D("{cityName:[^-/]+}/{budgetType:luxury|low-budget|affordable}-{propType:flats|apartments|property|projects}{filters:(?:/filters)?}","base.maps.cityBudgetPtype")).state("base.maps.maplisting.cityStatusPtype",D("{cityName:[^-/]+}/{listingType:resale}-{propType:flats|apartments|property|projects}-in-{entityName:[^/]+}-{entityId:[0-9]{5}}{filters:(?:/filters)?}","base.maps.cityStatusPtype")).state("base.maps.maplisting.cityLocalityStatusptype",D("{cityName:[^-/]+}/{projectStatus:upcoming|ongoing|ready-to-move|under-construction|new}-{propType:flats|apartments|property|projects}-in-{entityName:[^/]+}-{entityId:[0-9]{5}}{filters:(?:/filters)?}","base.maps.cityLocalityStatusptype")).state("base.maps.maplisting.cityLocalityResale",D("{cityName:[^-/]+}/{listingType:resale}-{propType:flats|apartments|property|projects}-in-{entityName:[^/]+}-{entityId:[0-9]{5}}{filters:(?:/filters)?}","base.maps.cityLocalityResale")).state("base.maps.maplisting.cityLocalityBudgetPtype",D("{cityName:[^-/]+}/{budgetType:luxury|low-budget|affordable}-{propType:flats|apartments|property|projects}-in-{entityName:[^/]+}-{entityId:[0-9]{5}}{filters:(?:/filters)?}","base.maps.cityLocalityBudgetPtype")).state("base.maps.maplisting.citySociety",D("{cityName:[^-/]+}/society-{propType:flats|apartments}{filters:(?:/filters)?}","base.maps.citySociety")).state("base.maps.maplisting.localitySociety",D("{cityName:[^-/]+}/society-{propType:flats|apartments}-in-{entityName:[^/]+}-{entityId:[0-9]{5}}{filters:(?:/filters)?}","base.maps.cityLocalitySociety")).state("base.maps.maplisting.indiaResale",D("{listingType:resale}-{propType:projects|flats|apartments|property}-in-india{filters:(?:/filters)?}","name")).state("base.maps.maplisting.indiaPtype",D("all-{propType:projects|flats|apartments|property}{filters:(?:/filters)?}","base.maps.indiaPtype")).state("base.maps.maplisting.indiaStatusPtype",D("{projectStatus:new|upcoming|ongoing|ready-to-move|under-construction|new-launch|completed}-{propType:flats|apartments|property|projects}-in-india{filters:(?:/filters)?}","base.maps.indiaStatusPtype")).state("base.maps.maplisting.builderResale",D("{listingType:resale}-{propType:flats|villas|plots|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderResale")).state("base.maps.maplisting.builderCityResale",D("{cityName:[^-/]+}/{listingType:resale}-{propType:flats|villas|plots|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderCityResale")).state("base.maps.maplisting.builderPtype",D("{propType:villas|plots|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderPtype")).state("base.maps.maplisting.builderCityPtype",D("{cityName:[^-/]+}/{propType:villas|plots|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderCityPtype")).state("base.maps.maplisting.builderStatusPtype",D("{projectStatus:upcoming|ongoing|ready-to-move|under-construction|new}-{propType:flats|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderStatusPtype")).state("base.maps.builderCityStatusPtype",D("{cityName:[^-/]+}/{projectStatus:upcoming|ongoing|ready-to-move|under-construction|new}-{propType:flats|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderCityStatusPtype")).state("base.maps.maplisting.builderBudgetPtype",D("{budgetType:luxury|low-budget|affordable}-{propType:flats|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderBudgetPtype")).state("base.maps.maplisting.builderCityBudgetPtype",D("{cityName:[^-/]+}/{budgetType:luxury|low-budget|affordable}-{propType:flats|apartments|property|projects}-by-{entityName:[^/]+}-{entityId:[1-4][0-9]{5}}{filters:(?:/filters)?}","base.maps.builderCityBudgetPtype")).state("base.maps.maplisting.City",D("projects-in-{cityName:[^-/]+}{filters:(?:/filters)?}","base.maps.City")).state("base.maps.maplisting.overview",D(G+"-real-estate"+L,"base.maps.overview")).state("base.maps.maplisting.PtypeBhk",D("{propType:apartments-flats|property|house|villas|sites-plots}-sale{bhkinfo:(?:/[1-5]*bhk)?}{filters:(?:/filters)?}","base.maps.PtypeBhk")).state("base.maps.maplisting.CityPtype",D("{cityName:[^-/]+}/{propType:apartments-flats|property|house|villas|sites-plots}-sale{locinfo:(?:-[a-zA-Z0-9-]+[^-]-[0-9]{5})?}{bhkinfo:(?:/[1-5]*bhk)?}{budgetFilter:(?:/[0-9]*-[0-9]*-lacs)?|(?:/(?:above|below)-[0-9]+-(?:lacs|crores))?}{filters:(?:/filters)?}","base.maps.CityPtype")).state("base.maps.maplisting.Builder",D("{entityname:[^/]+}-{entityId:[0-9]{6,10}}{bhkinfo:(?:/[1-5]*bhk)?}{filters:(?:/filters)?}","base.maps.Builder",!0)).state("base.maps.maplisting.BuilderCity",D("{cityName:[^/-]+}/{entityname:.+}-{entityId:[1-4][0-9]{5}}{bhkinfo:(?:/[1-5]*bhk)?}{filters:(?:/filters)?}","base.maps.BuilderCity")).state("base.maps.maplisting.ProjectDetail",D(G+F+H+E+I,"base.maps.ProjectDetail")).state("base.maps.maplisting.nearbylisting",D("nearby"+F+J+F+K,"base.maps.nearbylisting")).state("base.projectdatabase",{
url:"/projectdatabase?cityId?localityId?projectId",template:j,controller:"projectDatabase",reloadOnSearch:!1,onEnter:["$rootScope","Constants",function(a,b){a.currentCatchment=void 0,a.selectedTab="knowledgeBank",a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.PROJECTDATABASE}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.projectDatabase)}]}}).state("base.phase-detail",{url:"/phase-detail?projectId",template:k,controller:"phaseDetailCtrl",onEnter:["$rootScope","Constants",function(a,b){a.currentCatchment=void 0,a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.PROJECTDETAIL}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.phaseDetail)}]}}).state("base.buildersearch",{url:"/buildersearch?ids",template:i,controller:"builderSearchCtrl",reloadOnSearch:!1,onEnter:["$rootScope","Constants",function(a,b){a.currentCatchment=void 0,a.selectedTab="builderAnalysis",a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.BUILDERSEARCH}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.builderSearch)}]}}).state("base.account",{url:"/account",template:f,controller:"myaccountCtrl",onEnter:[function(){}]}).state("base.settings",{url:"/settings",template:e,controller:"settingsCtrl",onEnter:["$rootScope","$location","B2BConstants","Constants",function(a,b,c,d){a.currentCatchment=void 0,a.CURRENT_ACTIVE_PAGE=d.GLOBAL.PAGE_TYPES.SETTINGS}],onExit:["$location",function(a){}],resolve:{cityResolve:["CityService",function(a){return a.getMainCities().then(function(a){return a.data})}],deps:["$q","$rootScope",function(a,b){return C(a,b,B.settings)}]}}).state("base.savegraph",{url:"/savegraph",template:l,controller:"saveGraphCtrl",resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.saveGraph)}]}}).state("base.analysis",{url:"/analysis",controller:"analysis",template:m,resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.analysis)}]}}).state("base.analysis.builder",{url:"/builder/:builderId",template:n,controller:"builderAnalysisCtrl",onEnter:["$rootScope","Constants",function(a,b){a.selectedTab="builderAnalysis",a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.BUILDER}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.builderAnalysis)}],preference:["$q","$location","$timeout","$rootScope","resolvedUserDetails",function(a,b,c,d,e){var f=a.defer();return e&&b.search("unitType",d.userDetails.preference.preference.unitType.join(",")),c(function(){return f.resolve()},0),f.promise}]}}).state("base.analysis.builder.search",{url:"/*path/filters?city?bedrooms?primaryOrResaleBudget?projectStatus?unitType",template:n,controller:"analysis",resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.analysis)}]}}).state("base.analysis.catchment",{url:"/catchment/:catchmentId",template:o,controller:"catchmentAnalysisCtrl",onEnter:["$rootScope","Constants",function(a,b){a.selectedTab="maps",a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.CATCHMENTANALYSIS}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.catchmentAnalysis)}]}}).state("base.analysis.catchment.search",{url:"/*path/filters?city?bedrooms?primaryOrResaleBudget?projectStatus?unitType",template:o,controller:"catchmentAnalysisCtrl",resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.catchmentAnalysis)}]}}).state("anonymous",{"abstract":!0,controller:"loginCtrl",template:'<div data-ng-if="!userLoggedIn" ui-view ></div>',onEnter:["$rootScope","$location",function(a,b){return a.userDetails?(a.userLoggedIn=!0,void A(b)):void(a.userLoggedIn=!1)}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.login)}],resolvedUserDetails:["userDetails","$location","CookieService","$q",function(a,b,c,d){var e=c.userSession.isActive(),f=d.defer();return e?a.getUserDetails():(b.path("/login"),f.resolve("Resolved with dummy data"),f.promise)}]}}).state("anonymous.login",{url:"/login",template:c,controller:"loginCtrl",onEnter:["$rootScope","$location","Constants","resolvedUserDetails",function(a,b,c,d){return a.userDetails?void A(b):(a.userLoggedIn=!1,void(a.CURRENT_ACTIVE_PAGE=c.GLOBAL.PAGE_TYPES.LOGIN))}]}).state("anonymous.otp",{url:"/otp",template:d,controller:"loginCtrl",onEnter:["$rootScope","Constants","resolvedUserDetails","$location",function(a,b,c,d){return a.userDetails?void A(d):(a.userLoggedIn=!1,void(a.CURRENT_ACTIVE_PAGE=b.GLOBAL.PAGE_TYPES.OTP))}]}).state("reset-password",{url:"/reset-password?token",template:q,controller:"resetPasswordCtrl",onEnter:["$rootScope","$location",function(a,b){return b.search().token?a.userDetails?(a.userLoggedIn=!0,void A(b)):void 0:void b.path("/unauthorized")}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.resetPassword)}],resolvedUserDetails:["userDetails",function(a){return a.getUserDetails()}]}}).state("anonymous.forgot-password",{url:"/forgot-password",template:r,controller:"loginCtrl"}).state("base.knowledgebank",{url:"/knowledgebank",template:p,controller:"knowledgeBankCtrl",onEnter:["$rootScope",function(a){a.selectedTab="maps"}],resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.knowledgeBank)}]}}).state("unauthorized",{url:"/unauthorized",templateUrl:"b2b-404.html",controller:"unauthorizedCtrl",onEnter:["$rootScope",function(a){a.selectedTab=""}]}).state("base.termsAndCondition",{url:"/terms-and-condition",template:s,controller:"TermsAndConditionCtrl",resolve:{deps:["$q","$rootScope",function(a,b){return C(a,b,B.termsAndCondition)}]}})}]),b}),define("b2bBootstrap",["infra"],function(){require(["b2bRoutes"],function(){angular.element(document).ready(function(){angular.bootstrap(document,["serviceApp"])})})});