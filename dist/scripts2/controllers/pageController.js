angular.module("serviceApp").controller("pageController",["$scope","$rootScope","$http","$state","$stateParams","$compile","$location","GlobalService","$window","$timeout","Constants",function(a,b,c,d,e,f,g,h,i,j,k){b.showSearch=!0,b.showFilters=!1;var l=function(b){if(b.pageType.indexOf("PROJECTDETAIL")>-1||b.pageType.indexOf("PROPERTY")>-1)d.templateUrl="views/controller/projectDetail.html";else{if(b.pageType.indexOf("SALE-LISTING")>-1)return void d.go("listings");b.pageType.indexOf("LOCALITY")>-1||b.pageType.indexOf("OVERVIEW")>-1||b.pageType.indexOf("AMENITIES")>-1?d.templateUrl="views/controller/overview.html":i.location.href="404"}if(d.templateUrl){var e=a.$new();c.get(d.templateUrl).then(function(a){$("#views").html(f(a.data)(e))}),a.$on("$locationChangeStart",function(a,b,c){e.$destroy()})}},m=function(){return c.get(h.getAPIURL("angularUrlService.php?url="+g.path())).then(function(a){return a.data})},n=function(a){"#"===a.redirectUrl?i.location.href="404":a.redirectUrl&&"-1"!==a.redirectUrl.toString()?g.path(a.redirectUrl):(b.urlData=a,l(a))};b.preemptToListing?d.go("listings"):m().then(n),function(){b.CURRENT_ACTIVE_PAGE=k.GLOBAL.PAGE_TYPES.LISTING}()}]);