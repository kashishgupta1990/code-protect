describe("typeahead",function(){function e(e){e=e?i[e]:i["default"],angular.extend(a,e.scope||i["default"].scope);var o=$(e.element).appendTo(t);return o=n(o)(a),a.$digest(),o}var a,t,n,o;beforeEach(module("$strap.directives")),beforeEach(inject(function(e,i,r,d){a=i,n=r,o=d,t=$('<div id="sandbox"></div>').appendTo($("body"))})),afterEach(function(){t.remove(),a.$destroy(),$(".typeahead").remove()});var i={"default":{scope:{typeahead:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},element:'<input type="text" class="span3" data-items="4" ng-model="typeaheadValue" bs-typeahead="typeahead">'},minLength:{element:'<input type="text" class="span3" data-items="4" data-min-length="4" ng-model="typeaheadValue" bs-typeahead="typeahead">'},"minLength-0":{element:'<input type="text" class="span3" data-items="4" data-min-length="0" ng-model="typeaheadValue" bs-typeahead="typeahead">'}};it('should add "data-provide" attr for you',function(){var a=e();expect("typeahead"===a.attr("data-provide")).toBe(!0)}),it("should correctly call $.fn.typeahead",function(){var a=$.fn.typeahead,t=angular.extend(spyOn($.fn,"typeahead"),a).andCallThrough();e();expect(t).toHaveBeenCalled()}),it("should show the typeahead dropdown on keyup",function(){var a=e(),t=$("body > .typeahead.dropdown-menu");expect(t.attr("style")).toBeUndefined(),a.trigger("keyup"),expect(""!==t.attr("style")).toBe(!0)}),it("should show correctly limit dropdown to 4 items",function(){var a=e();a.val("a").trigger("keyup");var t=a.next(".typeahead.dropdown-menu");expect(t.children("li").length).toBe(4)}),it("should show corretly set the value",function(){var a=e();a.val("a").trigger("keyup");var t=a.next(".typeahead.dropdown-menu");t.find("li:first > a").trigger("click"),expect(a.val()).toBe("Alabama")}),it("should show correctly handle source update",function(){var t=e();a.typeahead.push("Brazil"),t.val("brazil").trigger("keyup");var n=t.next(".typeahead.dropdown-menu");expect(n.children("li").length).toBe(1)}),it("should show correctly handle source replace",function(){var t=e();t.val("a").trigger("keyup");var n=t.next(".typeahead.dropdown-menu");expect(n.children("li").length).toBe(4),a.typeahead=["Brazil"],a.$digest(),t.val("brazil").trigger("keyup"),n=t.next(".typeahead.dropdown-menu"),expect(n.children("li").length).toBe(1),t.val("a").trigger("keyup"),n=t.next(".typeahead.dropdown-menu"),expect(n.children("li").length).toBe(1)}),it("should show correctly handle minLength attribute",function(){var a=e("minLength");a.val("a").trigger("keyup");var t=a.next(".typeahead.dropdown-menu");expect(t.children("li").length).toBe(0),a.val("alab").trigger("keyup"),t=a.next(".typeahead.dropdown-menu"),expect(t.children("li").length).toBe(1)}),it("should show correctly handle minLength=0 attribute",function(){var a=e("minLength-0");a.trigger("focus");var t=a.next(".typeahead.dropdown-menu");expect(t.children("li").length).toBe(0)})});