describe("tab",function(){function t(t){t=t?c[t]:c["default"],angular.extend(e,t.scope),$(t.element).appendTo(a);var o=$(t.element).appendTo(a);return o=i(o)(e),e.$digest(),n.flush(),o}var e,a,i,n,o;beforeEach(module("$strap.directives")),beforeEach(inject(function(t,c,l,d,s){e=c.$new(),i=l,n=d,o=s,a=$('<div id="sandbox"></div>').appendTo($("body")),$(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),$(this).tab("show")})})),afterEach(function(){a.remove(),e.$destroy()});var c={"default":{element:'<div bs-tabs><div class="active" data-tab="\'Home\'"><p>A</p></div><div data-tab="\'Profile\'"><p>B</p></div><div data-tab="tab.title"><p>{{tab.content}}</p></div></div>',scope:{tab:{title:"About",content:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade."}}},fade:{element:'<div data-fade="1" bs-tabs><div data-tab="\'Home\'"><p>A</p></div><div data-tab="\'Profile\'"><p>B</p></div><div data-tab="tab.title"><p>{{tab.content}}</p></div></div>',scope:{tab:{title:"About",content:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade."}}},repeat:{element:'<div bs-tabs><div ng-repeat="(i, tab) in tabs" ng-class="{active:!i}" data-tab="tab.title"><p>{{tab.content}}</p></div></div>',scope:{tabs:[{title:"Home",content:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica."},{title:"Profile",content:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee."},{title:"About",content:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade."}]}},ngModel:{element:'<div ng-model="tab.active" bs-tabs><div class="active" data-tab="\'Home\'"><p>A</p></div><div data-tab="\'Profile\'"><p>B</p></div><div data-tab="\'About\'"><p>C</p></div></div>',scope:{tab:{active:1}}}};it("should correctly build the ul.nav.nav-tabs for you",function(){var e=$(c["default"].element).children("div").length,a=t();expect(a.children("ul.nav.nav-tabs").length).toBe(1),expect(a.children("ul.nav.nav-tabs").children("li").length).toBe(e),expect(a.children("ul.nav.nav-tabs").find("li:first a").attr("data-toggle")).toBe("tab")}),it("should correctly build the div.tab-content for you",function(){var e=$(c["default"].element).children("div").length,a=t();expect(a.children("div.tab-content").length).toBe(1),expect(a.children("div.tab-content").children("div").length).toBe(e)}),it("should correctly compile tab-content",function(){var a=t();expect(a.find("ul.nav-tabs li:nth-child(3)").text()).toBe("tab.title"),expect(a.find("div.tab-content div:nth-child(3)").text()).toBe(e.tab.content)}),it("should correctly switch tabs",function(){var e=t();expect(e.find("ul.nav-tabs li:first").hasClass("active")).toBe(!0),expect(e.find("div.tab-content div.active").text()).toBe("A"),e.find("ul.nav-tabs li:nth-child(2) a").trigger("click"),expect(e.find("ul.nav-tabs li:nth-child(2)").hasClass("active")).toBe(!0),expect(e.find("div.tab-content div.active").text()).toBe("B")}),it("should correctly switch tabs with fade class",function(){var e=t("fade");expect(e.find("ul.nav-tabs li:first").hasClass("active")).toBe(!0),expect(e.find("div.tab-content div.fade.active.in").text()).toBe("A"),e.find("ul.nav-tabs li:nth-child(2) a").trigger("click"),expect(e.find("ul.nav-tabs li:nth-child(2)").hasClass("active")).toBe(!0)}),it("should correctly render tabs with ngRepeat directive",function(){var a=t("repeat");expect(a.find("ul.nav-tabs li:first").hasClass("active")).toBe(!0),expect(a.find("div.tab-content div.active").text()).toBe(e.tabs[0].content),a.find("ul.nav-tabs li:nth-child(2) a").trigger("click"),expect(a.find("ul.nav-tabs li:nth-child(2)").hasClass("active")).toBe(!0),expect(a.find("div.tab-content div.active").text()).toBe(e.tabs[1].content)}),describe("data-binding",function(){it("should correctly apply model changes to the view",function(a){var i=t("ngModel");setTimeout(function(){var t=i.find("ul.nav-tabs li").index(i.find("ul.nav-tabs li.active"));expect(t).toBe(1),e.tab.active=2,e.$digest(),setTimeout(function(){var t=i.find("ul.nav-tabs li").index(i.find("ul.nav-tabs li.active"));expect(t).toBe(2),a()})})}),it("should correctly apply view changes to the model",function(a){var i=t("ngModel");i.find("ul.nav-tabs li:nth-child(3) a").trigger("click"),setTimeout(function(){expect(e.tab.active).toBe(2),a()})})})});