/**
 * AngularStrap - Twitter Bootstrap directives for AngularJS
 * @version v0.7.8 - 2013-11-15
 * @link http://mgcrea.github.com/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(t,e,a){"use strict";angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").directive("bsAlert",["$parse","$timeout","$compile",function(t,e,a){return{restrict:"A",link:function(n,i,r){var o=t(r.bsAlert),s=(o.assign,o(n)),l=function(t){e(function(){i.alert("close")},1*t)};r.bsAlert?n.$watch(r.bsAlert,function(t,e){s=t,i.html((t.title?"<strong>"+t.title+"</strong>&nbsp;":"")+t.content||""),t.closed&&i.hide(),a(i.contents())(n),(t.type||e.type)&&(e.type&&i.removeClass("alert-"+e.type),t.type&&i.addClass("alert-"+t.type)),angular.isDefined(t.closeAfter)?l(t.closeAfter):r.closeAfter&&l(r.closeAfter),(angular.isUndefined(r.closeButton)||"0"!==r.closeButton&&"false"!==r.closeButton)&&i.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>')},!0):((angular.isUndefined(r.closeButton)||"0"!==r.closeButton&&"false"!==r.closeButton)&&i.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>'),r.closeAfter&&l(r.closeAfter)),i.addClass("alert").alert(),i.hasClass("fade")&&(i.removeClass("in"),setTimeout(function(){i.addClass("in")}));var u=r.ngRepeat&&r.ngRepeat.split(" in ").pop();i.on("close",function(t){var e;u?(t.preventDefault(),i.removeClass("in"),e=function(){i.trigger("closed"),n.$parent&&n.$parent.$apply(function(){for(var t=u.split("."),e=n.$parent,a=0;a<t.length;++a)e&&(e=e[t[a]]);e&&e.splice(n.$index,1)})},$.support.transition&&i.hasClass("fade")?i.on($.support.transition.end,e):e()):s&&(t.preventDefault(),i.removeClass("in"),e=function(){i.trigger("closed"),n.$apply(function(){s.closed=!0})},$.support.transition&&i.hasClass("fade")?i.on($.support.transition.end,e):e())})}}}]),angular.module("$strap.directives").directive("bsButton",["$parse","$timeout","$strapConfig",function(t,e,a){var n="button",i=$.fn.emulateTransitionEnd?"bs.":"",r=i?"."+i+n:"",o="click"+r+".data-api";return{restrict:"A",require:"?ngModel",link:function(e,a,r,s){if(s){a.parent('[data-toggle="buttons-checkbox"], [data-toggle="buttons-radio"]').length||a.attr("data-toggle","button");var l=!!e.$eval(r.ngModel);l&&a.addClass("active"),e.$watch(r.ngModel,function(t,e){var n=!!t,i=!!e;n!==i?$.fn.button.Constructor.prototype.toggle.call(u):n&&!l&&a.addClass("active")})}a.hasClass("btn")||a.on(o,function(t){a.button("toggle")}),a.button();var u=a.data(i+n);u.toggle=function(){if(!s)return $.fn.button.Constructor.prototype.toggle.call(this);var n=a.parent('[data-toggle="buttons-radio"]');n.length?(a.siblings("[ng-model]").each(function(a,n){t($(n).attr("ng-model")).assign(e,!1)}),e.$digest(),s.$modelValue||(s.$setViewValue(!s.$modelValue),e.$digest())):e.$apply(function(){s.$setViewValue(!s.$modelValue)})}}}}]).directive("bsButtonsCheckbox",["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(t,e,a){t.attr("data-toggle","buttons-checkbox").find("a, button").each(function(t,e){$(e).attr("bs-button","")})}}}]).directive("bsButtonsRadio",["$timeout",function(t){var e="button",a=$.fn.emulateTransitionEnd?"bs.":"",n=a?"."+a+e:"",i="click"+n+".data-api";return{restrict:"A",require:"?ngModel",compile:function(e,a,n){return e.attr("data-toggle","buttons-radio"),a.ngModel||e.find("a, button").each(function(t,e){$(e).attr("bs-button","")}),function(e,a,n,r){r&&(t(function(){a.find("[value]").button().filter('[value="'+r.$viewValue+'"]').addClass("active")},0,!1),a.on(i,function(t){e.$apply(function(){r.$setViewValue($(t.target).closest("button").attr("value"))})}),e.$watch(n.ngModel,function(t,i){if(t!==i){var r=a.find('[value="'+e.$eval(n.ngModel)+'"]');r.length&&r.button("toggle")}}))}}}}]),angular.module("$strap.directives").directive("bsButtonSelect",["$parse","$timeout",function(t,e){return{restrict:"A",require:"?ngModel",link:function(e,a,n,i){var r=t(n.bsButtonSelect);r.assign;i&&(a.text(e.$eval(n.ngModel)),e.$watch(n.ngModel,function(t,e){a.text(t)}));var o,s,l,u;a.bind("click",function(t){o=r(e),s=i?e.$eval(n.ngModel):a.text(),l=o.indexOf(s),u=l>o.length-2?o[0]:o[l+1],e.$apply(function(){a.text(u),i&&i.$setViewValue(u)})})}}}]),angular.module("$strap.directives").directive("bsDatepicker",["$timeout","$strapConfig",function(t,e){var n=/(iP(a|o)d|iPhone)/g.test(navigator.userAgent),i=function(t){return $.fn.datepicker.dates[t]&&t||(t="en"),{"/":"[\\/]","-":"[-]",".":"[.]"," ":"[\\s]",dd:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",d:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",mm:"(?:[0]?[1-9]|[1][012])",m:"(?:[0]?[1-9]|[1][012])",DD:"(?:"+$.fn.datepicker.dates[t].days.join("|")+")",D:"(?:"+$.fn.datepicker.dates[t].daysShort.join("|")+")",MM:"(?:"+$.fn.datepicker.dates[t].months.join("|")+")",M:"(?:"+$.fn.datepicker.dates[t].monthsShort.join("|")+")",yyyy:"(?:(?:[1]{1}[0-9]{1}[0-9]{1}[0-9]{1})|(?:[2]{1}[0-9]{3}))(?![[0-9]])",yy:"(?:(?:[0-9]{1}[0-9]{1}))(?![[0-9]])"}},r=function(t,e){var a,n=t,r=i(e);return a=0,angular.forEach(r,function(t,e){n=n.split(e).join("${"+a+"}"),a++}),a=0,angular.forEach(r,function(t,e){n=n.split("${"+a+"}").join(t),a++}),new RegExp("^"+n+"$",["i"])},o=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;return{restrict:"A",require:"?ngModel",link:function(t,i,s,l){var u=angular.extend({autoclose:!0},e.datepicker||{}),d=s.dateType||u.type||"date",c=function(t,e,a){return t&&"iso"===d&&o.test(t)?$.fn.datepicker.DPGlobal.parseDate(new Date(t),$.fn.datepicker.DPGlobal.parseFormat(e),a):t&&"date"===d&&angular.isString(t)?$.fn.datepicker.DPGlobal.parseDate(t,$.fn.datepicker.DPGlobal.parseFormat(e),a):t},p=function(){u=angular.extend({autoclose:!0},e.datepicker||{}),d=s.dateType||u.type||"date",angular.forEach(["format","weekStart","calendarWeeks","startDate","endDate","daysOfWeekDisabled","autoclose","startView","minViewMode","todayBtn","todayHighlight","keyboardNavigation","language","forceParse"],function(t){angular.isDefined(s[t])&&(u[t]=s[t])});var o=u.language||"en",p=s.dateFormat||u.format||$.fn.datepicker.dates[o]&&$.fn.datepicker.dates[o].format||"mm/dd/yyyy",f=n?"yyyy-mm-dd":p,g=r(f,o);l&&(l.$formatters.unshift(function(t){return c(t,p,o)}),l.$parsers.unshift(function(t){return t?"date"!==d&&"iso"!==d||!angular.isDate(t)?angular.isString(t)&&g.test(t)?(l.$setValidity("date",!0),n?new Date(t):"string"===d?t:$.fn.datepicker.DPGlobal.parseDate(t,$.fn.datepicker.DPGlobal.parseFormat(f),o)):(l.$setValidity("date",!1),a):(l.$setValidity("date",!0),t):(l.$setValidity("date",!0),null)}),l.$render=function(){if(n){var t=l.$viewValue?$.fn.datepicker.DPGlobal.formatDate(l.$viewValue,$.fn.datepicker.DPGlobal.parseFormat(f),o):"";return i.val(t),t}return l.$viewValue||i.val(""),i.datepicker("update",l.$viewValue)}),n?i.prop("type","date").css("-webkit-appearance","textfield"):(l&&i.on("changeDate",function(e){t.$apply(function(){l.$setViewValue("string"===d?i.val():e.date)})}),i.datepicker(angular.extend(u,{format:f,language:o})),t.$on("$destroy",function(){var t=i.data("datepicker");t&&(t.picker.remove(),i.data("datepicker",null))}),s.$observe("startDate",function(t){i.datepicker("setStartDate",t)}),s.$observe("endDate",function(t){i.datepicker("setEndDate",t)}));var v=i.siblings('[data-toggle="datepicker"]');v.length&&v.on("click",function(){i.prop("disabled")||i.trigger("focus")})};p(),t.$watch(function(){return s.language},function(t,e){if(t!==e){var a=$.fn.datepicker.dates[e]?e:"en",n=s.dateFormat||u.format||$.fn.datepicker.dates[a]&&$.fn.datepicker.dates[a].format||"mm/dd/yyyy",r=$.fn.datepicker.DPGlobal.parseDate(i.val(),$.fn.datepicker.DPGlobal.parseFormat(n),a),o=$.fn.datepicker.dates[t]?t:"en",d=$.fn.datepicker.dates[o]&&$.fn.datepicker.dates[o].format||"mm/dd/yyyy",f=$.fn.datepicker.DPGlobal.formatDate(r,$.fn.datepicker.DPGlobal.parseFormat(d),o);i.datepicker("remove"),i.val(""),p();var g=c(f,d,o);l.$modelValue=g,l.$viewValue=f}})}}}]),angular.module("$strap.directives").directive("bsDropdown",["$parse","$compile","$timeout",function(t,e,a){var n=function(t,e){return e||(e=['<ul class="dropdown-menu" role="menu" aria-labelledby="drop1">',"</ul>"]),angular.forEach(t,function(t,a){if(t.divider)return e.splice(a+1,0,'<li class="divider"></li>');var i="<li"+(t.submenu&&t.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(t.href||"")+'"'+(t.click?'" ng-click="'+t.click+'"':"")+(t.target?'" target="'+t.target+'"':"")+(t.method?'" data-method="'+t.method+'"':"")+">"+(t.icon&&'<i class="'+t.icon+'"></i>&nbsp;'||"")+(t.text||"")+"</a>";t.submenu&&t.submenu.length&&(i+=n(t.submenu).join("\n")),i+="</li>",e.splice(a+1,0,i)}),e};return{restrict:"EA",scope:!0,link:function(i,r,o){var s=t(o.bsDropdown),l=s(i);a(function(){!angular.isArray(l);var t=angular.element(n(l).join(""));t.insertAfter(r),e(r.next("ul.dropdown-menu"))(i)}),r.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}]),angular.module("$strap.directives").factory("$modal",["$rootScope","$compile","$http","$timeout","$q","$templateCache","$strapConfig",function(t,e,a,n,i,r,o){var s="modal",l=$.fn.emulateTransitionEnd?"bs.":"",u=l?"."+l+s:"",d=function(s){function l(s){var l=angular.extend({show:!0},o.modal,s),d=l.scope?l.scope:t.$new(),c=l.template;return i.when(r.get(c)||a.get(c,{cache:!0}).then(function(t){return t.data})).then(function(t){var a=c.replace(".html","").replace(/[\/|\.|:]/g,"-")+"-"+d.$id,i=$('<div class="modal" tabindex="-1"></div>').attr("id",a).addClass("fade").html(t);return $.fn.emulateTransitionEnd||i.addClass("hide"),l.modalClass&&i.addClass(l.modalClass),$("body").append(i),n(function(){e(i)(d)}),d.$modal=function(t){i.modal(t)},angular.forEach(["show","hide"],function(t){d[t]=function(){i.modal(t)}}),d.dismiss=d.hide,angular.forEach(["show","shown","hide","hidden"],function(t){i.on(t+u,function(e){d.$emit("modal-"+t,e)})}),i.on("shown"+u,function(t){$("input[autofocus], textarea[autofocus]",i).first().trigger("focus")}),i.on("hidden"+u,function(t){l.persist||d.$destroy()}),d.$on("$destroy",function(){i.remove()}),i.modal(l),i})}return new l(s)};return d}]).directive("bsModal",["$q","$modal",function(t,e){return{restrict:"A",scope:!0,link:function(a,n,i,r){var o={template:a.$eval(i.bsModal),persist:!0,show:!1,scope:a};angular.forEach(["modalClass","backdrop","keyboard"],function(t){angular.isDefined(i[t])&&(o[t]=i[t])}),t.when(e(o)).then(function(t){n.attr("data-target","#"+t.attr("id")).attr("data-toggle","modal")})}}}]),angular.module("$strap.directives").directive("bsNavbar",["$location",function(t){return{restrict:"A",link:function(e,a,n,i){e.$watch(function(){return t.path()},function(t,e){$("li[data-match-route]",a).each(function(e,a){var n=angular.element(a),i=n.attr("data-match-route"),r=new RegExp("^"+i+"$",["i"]);if(r.test(t)){n.addClass("active");var o=n.find(".collapse.in");o.length&&o.collapse("hide")}else n.removeClass("active")})})}}}]),angular.module("$strap.directives").directive("bsPopover",["$parse","$compile","$http","$timeout","$q","$templateCache",function(t,e,a,n,i,r){var o="popover",s=$.fn.emulateTransitionEnd?"bs.":"",l=s?"."+s+o:"";return $("body").on("keyup",function(t){27===t.keyCode&&$(".popover.in").popover("hide")}),{restrict:"A",scope:!0,link:function(u,d,c,p){var f=t(c.bsPopover),g=(f.assign,f(u)),v={};angular.isObject(g)&&(v=g),i.when(v.content||r.get(g)||a.get(g,{cache:!0})).then(function(t){angular.isObject(t)&&(t=t.data),angular.forEach(["placement","trigger"],function(t){c[t]&&(v[t]=c[t])}),c.unique&&d.on("show"+l,function(t){$(".popover.in").not(d).popover("hide")}),c.hide&&u.$watch(c.hide,function(t,e){t?a.hide():t!==e&&n(function(){a.show()})}),c.show&&u.$watch(c.show,function(t,e){t?n(function(){a.show()}):t!==e&&a.hide()}),d.popover(angular.extend({},v,{content:t,html:!0}));var a=d.data(s+o);a.hasContent=function(){return this.getTitle()||t},a.getPosition=function(){var t=$.fn.popover.Constructor.prototype.getPosition.apply(this,arguments);return e(this.$tip)(u),u.$digest(),this.$tip.data(s+o,this),t},u.$popover=function(t){a(t)},angular.forEach(["show","hide"],function(t){u[t]=function(){a[t]()}}),u.dismiss=u.hide,angular.forEach(["show","shown","hide","hidden"],function(t){d.on(t+l,function(e){u.$emit("popover-"+t,e)})})})}}}]),angular.module("$strap.directives").directive("bsSelect",["$timeout","$parse",function(t,e){var a=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/;return{restrict:"A",require:"?ngModel",link:function(n,i,r,o){var s,l=n.$eval(r.bsSelect)||{};if(t(function(){i.selectpicker(l),i.unbind("DOMNodeInserted DOMNodeRemoved"),s=i.next(".bootstrap-select"),s.removeClass("ng-scope")}),o){var u=function(t,e){angular.equals(t,e)||i.selectpicker("refresh")},d=function(t){return s&&s.toggleClass("ng-invalid",!o.$valid).toggleClass("ng-valid",o.$valid).toggleClass("ng-invalid-required",!o.$valid).toggleClass("ng-valid-required",o.$valid).toggleClass("ng-dirty",o.$dirty).toggleClass("ng-pristine",o.$pristine),t};if(o.$parsers.push(d),o.$formatters.push(d),r.$observe("required",function(){d(o.$viewValue)}),n.$watch(r.ngModel,u),r.ngOptions){var c=r.ngOptions.match(a),p=e(c[7]);c&&c[7]&&n.$watch(function(){return p(n)},u,!0)}}}}}]),angular.module("$strap.directives").directive("bsTabs",["$parse","$compile","$timeout",function(t,e,a){var n='<div class="tabs"><ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active:pane.active}"><a data-target="#{{pane.id}}" data-index="{{$index}}" data-toggle="tab">{{pane.title}}</a></li></ul><div class="tab-content" ng-transclude></div>';return{restrict:"A",require:"?ngModel",priority:0,scope:!0,template:n,replace:!0,transclude:!0,compile:function(e,n,i){return function(e,n,i,r){var o=t(i.bsTabs);o.assign,o(e);e.panes=[];var s,l,u,d=n.find("ul.nav-tabs"),c=n.find("div.tab-content"),p=0;a(function(){c.find("[data-title], [data-tab]").each(function(t){var a=angular.element(this);s="tab-"+e.$id+"-"+t,l=a.data("title")||a.data("tab"),u=!u&&a.hasClass("active"),a.attr("id",s).addClass("tab-pane"),i.fade&&a.addClass("fade"),e.panes.push({id:s,title:l,content:this.innerHTML,active:u})}),e.panes.length&&!u&&(c.find(".tab-pane:first-child").addClass("active"+(i.fade?" in":"")),e.panes[0].active=!0)}),r&&(n.on("show",function(t){var a=$(t.target);e.$apply(function(){r.$setViewValue(a.data("index"))})}),e.$watch(i.ngModel,function(t,e){angular.isUndefined(t)||(p=t,setTimeout(function(){var e=$(d[0].querySelectorAll("li")[1*t]);e.hasClass("active")||e.children("a").tab("show")}))}))}}}}]),angular.module("$strap.directives").directive("bsTimepicker",["$timeout","$strapConfig",function(t,e){var a="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)";return{restrict:"A",require:"?ngModel",link:function(n,i,r,o){var s=function(t){var e=String(t);return 1===e.length&&(e="0"+e),e},l=angular.extend({openOnFocus:!1},e.timepicker),u=r.defaultTime||l.defaultTime||!1;l.defaultTime=!1;var d=r.timeType||l.timeType||"string";if(angular.forEach(["template","minuteStep","showSeconds","secondStep","showMeridian","showInputs","disableFocus","modalBackdrop","openOnFocus"],function(t){angular.isDefined(r[t])&&("true"===r[t]||"false"===r[t]?l[t]="true"===r[t]:/^\-?([0-9]+|Infinity)$/.test(r[t])?l[t]=parseInt(r[t],10):l[t]=r[t])}),o){i.on("changeTime.timepicker",function(e){t(function(){if("string"===d)o.$setViewValue(i.val());else if("date"===d){var t=new Date;t.setHours(e.time.hours),t.setMinutes(e.time.minutes),o.$setViewValue(t)}})});var c=new RegExp("^"+a+"$",["i"]);o.$formatters.unshift(function(t){if(t)return"date"===d?(o.$setViewValue(new Date(t)),i.val(new Date(t)),new Date(t)):(o.$setViewValue(t),i.val(t),t);if(u){if("current"===u){if("date"===d)return o.$setViewValue(new Date),i.val(new Date),new Date;var e=new Date;s(e.getHours())+":"+s(e.getMinutes());return o.$setViewValue(e),i.val(e),e}return o.$setViewValue(u),i.val(u),u}return o.$setViewValue(i.val()),i.val()}),o.$render=function(){if(o.$viewValue){if("date"===d){var t;if(c.test(o.$viewValue)){t=new Date;var e=o.$viewValue.split(":"),a=isNaN(parseInt(e[0],10))?"0":parseInt(e[0],10),n=isNaN(parseInt(e[1],10))?"0":parseInt(e[1],10);return t.setHours(a),t.setMinutes(n),i.val(o.$viewValue),o.$setViewValue(t),t}t=new Date(o.$viewValue);var r="Invalid Date"!==t?s(t.getHours())+":"+s(t.getMinutes()):"";return i.val(r),o.$setViewValue(t),t}return i.val(o.$viewValue),o.$setViewValue(o.$viewValue),o.$viewValue}return i.val(""),""},o.$parsers.unshift(function(t){return!t||"string"===d&&c.test(t)?(o.$setValidity("time",!0),t):"date"===d&&"object"==typeof t&&"Invalid Date"!==t.toString()?(o.$setValidity("time",!0),t):void o.$setValidity("time",!1)})}i.attr("data-toggle","timepicker"),i.parent().addClass("bootstrap-timepicker"),i.timepicker(l||{});var p=i.data("timepicker"),f=i.siblings('[data-toggle="timepicker"]');f.length&&f.on("click",$.proxy(p.showWidget,p)),l.openOnFocus&&i.on("focus",$.proxy(p.showWidget,p))}}}]),angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile",function(t,e){var a="tooltip",n=$.fn.emulateTransitionEnd?"bs.":"";return{restrict:"A",scope:!0,link:function(e,i,r,o){var s=t(r.bsTooltip),l=(s.assign,s(e));e.$watch(r.bsTooltip,function(t,e){l=t}),r.unique&&i.on("show",function(t){$(".tooltip.in").each(function(){var t=$(this),e=t.data(n+a);e&&!e.$element.is(i)&&t.tooltip("hide")})}),i.tooltip({title:function(){return angular.isFunction(l)?l.apply(null,arguments):l},html:!0});var u=i.data(n+a);u.show=function(){var t=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data(n+a,this),t},e._tooltip=function(t){i.tooltip(t)},e.hide=function(){i.tooltip("hide")},e.show=function(){i.tooltip("show")},e.dismiss=e.hide}}}]),angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,a,n,i){var r=t(n.bsTypeahead),o=(r.assign,r(e));e.$watch(n.bsTypeahead,function(t,e){t!==e&&(o=t)}),a.attr("data-provide","typeahead"),a.typeahead({source:function(t){return angular.isFunction(o)?o.apply(null,arguments):o},minLength:n.minLength||1,items:n.items,updater:function(t){return i&&e.$apply(function(){i.$setViewValue(t)}),e.$emit("typeahead-updated",t,n.id),t}});var s=a.data("typeahead");s.lookup=function(t){var e;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(e=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source,e?this.process(e):this)},n.matchAll&&(s.matcher=function(t){return!0}),"0"===n.minLength&&setTimeout(function(){a.on("focus",function(){0===a.val().length&&setTimeout(a.typeahead.bind(a,"lookup"),200)})})}}}])}(window,document);