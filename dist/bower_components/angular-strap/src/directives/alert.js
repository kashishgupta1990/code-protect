angular.module("$strap.directives").directive("bsAlert",function(t,e,s){return{restrict:"A",link:function(n,o,a){var l=t(a.bsAlert),r=(l.assign,l(n)),i=function(t){e(function(){o.alert("close")},1*t)};a.bsAlert?n.$watch(a.bsAlert,function(t,e){r=t,o.html((t.title?"<strong>"+t.title+"</strong>&nbsp;":"")+t.content||""),t.closed&&o.hide(),s(o.contents())(n),(t.type||e.type)&&(e.type&&o.removeClass("alert-"+e.type),t.type&&o.addClass("alert-"+t.type)),angular.isDefined(t.closeAfter)?i(t.closeAfter):a.closeAfter&&i(a.closeAfter),(angular.isUndefined(a.closeButton)||"0"!==a.closeButton&&"false"!==a.closeButton)&&o.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>')},!0):((angular.isUndefined(a.closeButton)||"0"!==a.closeButton&&"false"!==a.closeButton)&&o.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>'),a.closeAfter&&i(a.closeAfter)),o.addClass("alert").alert(),o.hasClass("fade")&&(o.removeClass("in"),setTimeout(function(){o.addClass("in")}));var c=a.ngRepeat&&a.ngRepeat.split(" in ").pop();o.on("close",function(t){var e;c?(t.preventDefault(),o.removeClass("in"),e=function(){o.trigger("closed"),n.$parent&&n.$parent.$apply(function(){for(var t=c.split("."),e=n.$parent,s=0;s<t.length;++s)e&&(e=e[t[s]]);e&&e.splice(n.$index,1)})},$.support.transition&&o.hasClass("fade")?o.on($.support.transition.end,e):e()):r&&(t.preventDefault(),o.removeClass("in"),e=function(){o.trigger("closed"),n.$apply(function(){r.closed=!0})},$.support.transition&&o.hasClass("fade")?o.on($.support.transition.end,e):e())})}}});