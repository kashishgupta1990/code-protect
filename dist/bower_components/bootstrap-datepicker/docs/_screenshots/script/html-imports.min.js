// Copyright (c) 2012 The Polymer Authors. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are
// met:
//
//    * Redistributions of source code must retain the above copyright
// notice, this list of conditions and the following disclaimer.
//    * Redistributions in binary form must reproduce the above
// copyright notice, this list of conditions and the following disclaimer
// in the documentation and/or other materials provided with the
// distribution.
//    * Neither the name of Google Inc. nor the names of its
// contributors may be used to endorse or promote products derived from
// this software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
// "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

window.HTMLImports=window.HTMLImports||{flags:{}},function(e){var t=(e.path,e.xhr),n=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};n.prototype={addNodes:function(e){this.inflight+=e.length,r(e,this.require,this),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,n){var r=function(t,r){this.receive(e,n,t,r)}.bind(this);t.load(e,r)},receive:function(e,t,n,r){n||(this.cache[e]=r),this.pending[e].forEach(function(t){n||this.onload(e,t,r),this.tail()},this),this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},t=t||{async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,r,o){var i=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),i.open("GET",n,t.async),i.addEventListener("readystatechange",function(){4===i.readyState&&r.call(o,!t.ok(i)&&i,i.response||i.responseText,n)}),i.send(),i},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};var r=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.xhr=t,e.Loader=n}(window.HTMLImports),function(e){function t(e){return n(e,l)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function r(e){return"script"===e.localName}function o(e,t){var n=e;n instanceof Document||(n=document.implementation.createHTMLDocument(l)),n._URL=t;var r=n.createElement("base");return r.setAttribute("href",t),n.baseURI||(n.baseURI=t),n.head.appendChild(r),e instanceof Document||(n.body.innerHTML=e),window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}function i(e,t){function n(){u==p&&requestAnimationFrame(e)}function r(){u++,n()}t=t||f;var o=HTMLImports.isIE?"complete":"interactive",c="complete"===t.readyState||t.readyState===o;if(!c){var s=function(){("complete"===t.readyState||t.readyState===o)&&(t.removeEventListener("readystatechange",s),i(e,t))};return void t.addEventListener("readystatechange",s)}var l=t.querySelectorAll("link[rel=import]"),u=0,p=l.length;if(p)for(var d,h=0;p>h&&(d=l[h]);h++)a(d)?r.call(d):(d.addEventListener("load",r),d.addEventListener("error",r));else n()}function a(e){return s?e["import"]&&"loading"!==e["import"].readyState:e.__importParsed}var c="import"in document.createElement("link"),s=!e.flags.imports&&c,l="import";if(!s){var u,p=e.Loader,d=(e.xhr,"stylesheet"),h={documents:{},cache:{},preloadSelectors:["link[rel="+l+"]","template","script[src]:not([type])",'script[src][type="text/javascript"]'].join(","),loader:function(e){if(u&&u.inflight){var t=u.oncomplete;return u.oncomplete=function(){t(),e()},u}return u=new p(h.loaded,e),u.cache=h.cache,u},load:function(e,t){u=h.loader(t),h.preload(e)},preload:function(e){var t=this.marshalNodes(e);u.addNodes(t)},marshalNodes:function(e){var t=e.querySelectorAll(h.preloadSelectors);return t=this.filterMainDocumentNodes(e,t),t=this.extractTemplateNodes(t)},filterMainDocumentNodes:function(e,t){return e===document&&(t=Array.prototype.filter.call(t,function(e){return!r(e)})),t},extractTemplateNodes:function(e){var t=[];return e=Array.prototype.filter.call(e,function(e){if("template"===e.localName){if(e.content){var n=e.content.querySelectorAll("link[rel="+d+"]");n.length&&(t=t.concat(Array.prototype.slice.call(n,0)))}return!1}return!0}),t.length&&(e=e.concat(t)),e},loaded:function(e,n,r){if(t(n)){var i=h.documents[e];i||(i=o(r,e),h.documents[e]=i,h.preload(i)),n["import"]=n.content=r=i}n.__resource=r}};Array.prototype.forEach.call.bind(Array.prototype.forEach),e.importer=h}var f=window.ShadowDOMPolyfill?wrap(document):document;Object.defineProperty(f,"_currentScript",{get:function(){return HTMLImports.currentScript||f.currentScript},writeable:!0,configurable:!0}),e.hasNative=c,e.useNative=s,e.whenImportsReady=i,e.IMPORT_LINK_TYPE=l,e.isImportLoaded=a}(window.HTMLImports),function(e){function t(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}function n(e,t){this.doc=e,this.doc.__loadTracker=this,this.callback=t}function r(e){return"link"===e.localName&&e.getAttribute("rel")===c}function o(e){return e.parentNode&&!i(e)}function i(e){return e.ownerDocument===document||e.ownerDocument.impl===document}var a=e.path,c="import",s=/Trident/.test(navigator.userAgent),l={selectors:["link[rel="+c+"]","link[rel=stylesheet]","style","script:not([type])",'script[type="text/javascript"]'],map:{link:"parseLink",script:"parseScript",style:"parseStyle"},parse:function(e,t){if(e.__importParsed)t&&t();else{e.__importParsed=!0;for(var r,o=new n(e,t),i=e.querySelectorAll(l.selectors),a=e.scripts?e.scripts.length:0,c=0;c<i.length&&(r=i[c]);c++)l[l.map[r.localName]](r),e.scripts&&a!==e.scripts.length&&(a=e.scripts.length,i=e.querySelectorAll(l.selectors));o.open()}},parseLink:function(e){if(r(e)){if(this.trackElement(e),e.__resource?l.parse(e.__resource,function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))}):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});e.__importParsed=!0}else o(e)&&(e.href=e.href),this.parseGeneric(e)},trackElement:function(e){s&&"style"===e.localName||e.ownerDocument.__loadTracker.require(e)},parseStyle:function(e){e=o(e)?t(e):e,this.parseGeneric(e)},parseGeneric:function(e){i(e)||(this.trackElement(e),document.head.appendChild(e))},parseScript:function(t){if(o(t)){var n=(t.__resource||t.textContent).trim();if(n){var r=t.__nodeUrl;if(!r){r=t.ownerDocument.baseURI;var i="["+Math.floor(1e3*(Math.random()+1))+"]",a=n.match(/Polymer\(['"]([^'"]*)/);i=a&&a[1]||i,r+="/"+i+".js"}n+="\n//# sourceURL="+r+"\n",e.currentScript=t,eval.call(window,n),e.currentScript=null}}}},u=/(url\()([^)]*)(\))/g,p=/(@import[\s]*)([^;]*)(;)/g,a={resolveUrlsInStyle:function(e){var t=e.ownerDocument,n=t.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,n),e},resolveUrlsInCssText:function(e,t){var n=this.replaceUrls(e,t,u);return n=this.replaceUrls(n,t,p)},replaceUrls:function(e,t,n){return e.replace(n,function(e,n,r,o){var i=r.replace(/["']/g,"");return t.href=i,i=t.href,n+"'"+i+"'"+o})}};n.prototype={pending:0,isOpen:!1,open:function(){this.isOpen=!0,this.checkDone()},add:function(){this.pending++},require:function(e){this.add();var t=this,n=function(e){t.receive(e)};if(r(e))e.__pending=e.__pending||[],e.__pending.push(n);else for(var o,i=["load","error"],a=0,c=i.length;c>a&&(o=i[a]);a++)e.addEventListener(o,n)},receive:function(){this.pending--,this.checkDone()},checkDone:function(){this.isOpen&&this.pending<=0&&this.callback&&(this.isOpen=!1,this.callback())}},Array.prototype.forEach.call.bind(Array.prototype.forEach),e.parser=l,e.path=a,e.isIE=s}(HTMLImports),function(){function e(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),n.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}function t(){HTMLImports.useNative||HTMLImports.importer.load(n,function(){HTMLImports.parser.parse(n)})}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){var n=document.createEvent("HTMLEvents");return n.initEvent(e,t.bubbles===!1?!1:!0,t.cancelable===!1?!1:!0,t.detail),n});var n=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document;HTMLImports.useNative||("complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)),HTMLImports.whenImportsReady(function(){e()})}();