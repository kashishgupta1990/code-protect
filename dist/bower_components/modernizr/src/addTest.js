define(["ModernizrProto","Modernizr","hasOwnProp","setClasses"],function(t,e,n,o){function i(t,r){if("object"==typeof t)for(var s in t)n(t,s)&&i(s,t[s]);else{t=t.toLowerCase();var f=t.split("."),l=e[f[0]];if(2==f.length&&(l=l[f[1]]),"undefined"!=typeof l)return e;r="function"==typeof r?r():r,1==f.length?e[f[0]]=r:(!e[f[0]]||e[f[0]]instanceof Boolean||(e[f[0]]=new Boolean(e[f[0]])),e[f[0]][f[1]]=r),o([(r&&0!=r?"":"no-")+f.join("-")]),e._trigger(t,r)}return e}return t._l={},t.on=function(t,n){this._l[t]||(this._l[t]=[]),this._l[t].push(n),e.hasOwnProperty(t)&&setTimeout(function(){e._trigger(t,e[t])},0)},t._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout(function(){var t,o;for(t=0;t<n.length;t++)(o=n[t])(e)},0),delete this._l[t]}},e._q.push(function(){t.addTest=i}),i});