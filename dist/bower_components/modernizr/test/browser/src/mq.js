describe("mq",function(){var e,t,n,i,o,c=window.matchMedia||function(){var e,t=document.documentElement,n=t.firstElementChild||t.firstChild,i=document.createElement("body"),o=document.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(o),function(c){return o.innerHTML='&shy;<style media="'+c+'"> #mq-test-1 { width: 42px; }</style>',t.insertBefore(i,n),e=42===o.offsetWidth,t.removeChild(i),{matches:e,media:c}}}();before(function(t){(o=requirejs.config({context:Math.random().toString().slice(2),baseUrl:"../src",paths:{sinon:"../test/js/lib/sinon",cleanup:"../test/cleanup"}}))(["injectElementWithStyles","cleanup","sinon"],function(o,c,s){e=o,n=c,i=s,t()})}),window.matchMedia||window.msMatchMedia?describe("matchMedia version",function(){before(function(e){o(["mq"],function(n){t=n,e()})}),it("works",function(){expect(t("only screen")).to.equal(c("only screen").matches),expect(t("only fake rule")).to.equal(c("only fake rule").matches)})}):describe("fallback version",function(){before(function(n){e=i.spy(e),o.undef("injectElementWithStyles"),o.undef("mq"),define("injectElementWithStyles",[],function(){return e}),o(["mq"],function(e){t=e,n()})}),it("works",function(){expect(t("only screen")).to.equal(c("only screen").matches),expect(t("only fake rule")).to.equal(c("only fake rule").matches),expect(e.called).to.be(!0)})}),afterEach(function(){o.undef("mq")}),after(function(){n()})});