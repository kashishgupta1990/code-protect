define(["./core","./core/access","./data/var/dataPriv","./data/var/dataUser"],function(t,e,a,n){function r(e,a,r){var o;if(void 0===r&&1===e.nodeType)if(o="data-"+a.replace(s,"-$&").toLowerCase(),r=e.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:i.test(r)?t.parseJSON(r):r}catch(c){}n.set(e,a,r)}else r=void 0;return r}var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/[A-Z]/g;return t.extend({hasData:function(t){return n.hasData(t)||a.hasData(t)},data:function(t,e,a){return n.access(t,e,a)},removeData:function(t,e){n.remove(t,e)},_data:function(t,e,n){return a.access(t,e,n)},_removeData:function(t,e){a.remove(t,e)}}),t.fn.extend({data:function(i,o){var c,u,f,d=this[0],h=d&&d.attributes;if(void 0===i){if(this.length&&(f=n.get(d),1===d.nodeType&&!a.get(d,"hasDataAttrs"))){for(c=h.length;c--;)h[c]&&(u=h[c].name,0===u.indexOf("data-")&&(u=t.camelCase(u.slice(5)),r(d,u,f[u])));a.set(d,"hasDataAttrs",!0)}return f}return"object"==typeof i?this.each(function(){n.set(this,i)}):e(this,function(e){var a,o;if(d&&void 0===e){if(a=n.get(d,i)||n.get(d,i.replace(s,"-$&").toLowerCase()),void 0!==a)return a;if(o=t.camelCase(i),a=n.get(d,o),void 0!==a)return a;if(a=r(d,o,void 0),void 0!==a)return a}else o=t.camelCase(i),this.each(function(){var t=n.get(this,o);n.set(this,o,e),i.indexOf("-")>-1&&void 0!==t&&n.set(this,i,e)})},null,o,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){n.remove(this,t)})}}),t});