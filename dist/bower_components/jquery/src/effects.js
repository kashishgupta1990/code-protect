define(["./core","./var/document","./var/rcssNum","./css/var/cssExpand","./var/rnotwhite","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./data/var/dataPriv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(e,t,n,i,o,s,r,u,a){function f(){return window.setTimeout(function(){w=void 0}),w=e.now()}function l(e,t){var n,o=0,s={height:e};for(t=t?1:0;4>o;o+=2-t)n=i[o],s["margin"+n]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function c(e,t,n){for(var i,o=(h.tweeners[t]||[]).concat(h.tweeners["*"]),s=0,r=o.length;r>s;s++)if(i=o[s].call(n,t,e))return i}function d(t,n,i){var o,r,f,l,d,p,h,w,v=this,m={},x=t.style,y=t.nodeType&&s(t),q=a.get(t,"fxshow");i.queue||(d=e._queueHooks(t,"fx"),null==d.unqueued&&(d.unqueued=0,p=d.empty.fire,d.empty.fire=function(){d.unqueued||p()}),d.unqueued++,v.always(function(){v.always(function(){d.unqueued--,e.queue(t,"fx").length||d.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(i.overflow=[x.overflow,x.overflowX,x.overflowY],h=e.css(t,"display"),w="none"===h?a.get(t,"olddisplay")||u(t.nodeName):h,"inline"===w&&"none"===e.css(t,"float")&&(x.display="inline-block")),i.overflow&&(x.overflow="hidden",v.always(function(){x.overflow=i.overflow[0],x.overflowX=i.overflow[1],x.overflowY=i.overflow[2]}));for(o in n)if(r=n[o],g.exec(r)){if(delete n[o],f=f||"toggle"===r,r===(y?"hide":"show")){if("show"!==r||!q||void 0===q[o])continue;y=!0}m[o]=q&&q[o]||e.style(t,o)}else h=void 0;if(e.isEmptyObject(m))"inline"===("none"===h?u(t.nodeName):h)&&(x.display=h);else{q?"hidden"in q&&(y=q.hidden):q=a.access(t,"fxshow",{}),f&&(q.hidden=!y),y?e(t).show():v.done(function(){e(t).hide()}),v.done(function(){var n;a.remove(t,"fxshow");for(n in m)e.style(t,n,m[n])});for(o in m)l=c(y?q[o]:0,o,v),o in q||(q[o]=l.start,y&&(l.end=l.start,l.start="width"===o||"height"===o?1:0))}}function p(t,n){var i,o,s,r,u;for(i in t)if(o=e.camelCase(i),s=n[o],r=t[i],e.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==o&&(t[o]=r,delete t[i]),u=e.cssHooks[o],u&&"expand"in u){r=u.expand(r),delete t[o];for(i in r)i in t||(t[i]=r[i],n[i]=s)}else n[o]=s}function h(t,n,i){var o,s,r=0,u=h.prefilters.length,a=e.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=w||f(),n=Math.max(0,d.startTime+d.duration-e),i=n/d.duration||0,o=1-i,r=0,u=d.tweens.length;u>r;r++)d.tweens[r].run(o);return a.notifyWith(t,[d,o,n]),1>o&&u?n:(a.resolveWith(t,[d]),!1)},d=a.promise({elem:t,props:e.extend({},n),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},i),originalProperties:n,originalOptions:i,startTime:w||f(),duration:i.duration,tweens:[],createTween:function(n,i){var o=e.Tween(t,d.opts,n,i,d.opts.specialEasing[n]||d.opts.easing);return d.tweens.push(o),o},stop:function(e){var n=0,i=e?d.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)d.tweens[n].run(1);return e?(a.notifyWith(t,[d,1,0]),a.resolveWith(t,[d,e])):a.rejectWith(t,[d,e]),this}}),v=d.props;for(p(v,d.opts.specialEasing);u>r;r++)if(o=h.prefilters[r].call(d,t,v,d.opts))return e.isFunction(o.stop)&&(e._queueHooks(d.elem,d.opts.queue).stop=e.proxy(o.stop,o)),o;return e.map(v,c,d),e.isFunction(d.opts.start)&&d.opts.start.call(t,d),e.fx.timer(e.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}var w,v,g=/^(?:toggle|show|hide)$/,m=/queueHooks$/;return e.Animation=e.extend(h,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return r(i.elem,e,n.exec(t),i),i}]},tweener:function(t,n){e.isFunction(t)?(n=t,t=["*"]):t=t.match(o);for(var i,s=0,r=t.length;r>s;s++)i=t[s],h.tweeners[i]=h.tweeners[i]||[],h.tweeners[i].unshift(n)},prefilters:[d],prefilter:function(e,t){t?h.prefilters.unshift(e):h.prefilters.push(e)}}),e.speed=function(t,n,i){var o=t&&"object"==typeof t?e.extend({},t):{complete:i||!i&&n||e.isFunction(t)&&t,duration:t,easing:i&&n||n&&!e.isFunction(n)&&n};return o.duration=e.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in e.fx.speeds?e.fx.speeds[o.duration]:e.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){e.isFunction(o.old)&&o.old.call(this),o.queue&&e.dequeue(this,o.queue)},o},e.fn.extend({fadeTo:function(e,t,n,i){return this.filter(s).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,n,i,o){var s=e.isEmptyObject(t),r=e.speed(n,i,o),u=function(){var n=h(this,e.extend({},t),r);(s||a.get(this,"finish"))&&n.stop(!0)};return u.finish=u,s||r.queue===!1?this.each(u):this.queue(r.queue,u)},stop:function(t,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof t&&(i=n,n=t,t=void 0),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var n=!0,s=null!=t&&t+"queueHooks",r=e.timers,u=a.get(this);if(s)u[s]&&u[s].stop&&o(u[s]);else for(s in u)u[s]&&u[s].stop&&m.test(s)&&o(u[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),n=!1,r.splice(s,1));(n||!i)&&e.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var n,i=a.get(this),o=i[t+"queue"],s=i[t+"queueHooks"],r=e.timers,u=o?o.length:0;for(i.finish=!0,e.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),n=r.length;n--;)r[n].elem===this&&r[n].queue===t&&(r[n].anim.stop(!0),r.splice(n,1));for(n=0;u>n;n++)o[n]&&o[n].finish&&o[n].finish.call(this);delete i.finish})}}),e.each(["toggle","show","hide"],function(t,n){var i=e.fn[n];e.fn[n]=function(e,t,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(l(n,!0),e,t,o)}}),e.each({slideDown:l("show"),slideUp:l("hide"),slideToggle:l("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(e,t,i){return this.animate(n,e,t,i)}}),e.timers=[],e.fx.tick=function(){var t,n=0,i=e.timers;for(w=e.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||e.fx.stop(),w=void 0},e.fx.timer=function(t){e.timers.push(t),t()?e.fx.start():e.timers.pop()},e.fx.interval=13,e.fx.start=function(){v||(v=window.setInterval(e.fx.tick,e.fx.interval))},e.fx.stop=function(){window.clearInterval(v),v=null},e.fx.speeds={slow:600,fast:200,_default:400},e});