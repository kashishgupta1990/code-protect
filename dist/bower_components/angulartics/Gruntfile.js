module.exports=function(e){"use strict";e.initConfig({pkg:e.file.readJSON("package.json"),bower:e.file.readJSON("bower.json"),shell:{publish:{command:"npm publish"}},bump:{options:{files:["package.json","bower.json"],updateConfigs:["pkg","bower"],commit:!0,commitMessage:"Release v%VERSION%",commitFiles:["package.json"],createTag:!0,tagName:"v%VERSION%",tagMessage:"Version %VERSION%",push:!0,pushTo:"upstream",gitDescribeOptions:"--tags --always --abbrev=1 --dirty=-d"}},karma:{unit:{configFile:"karma.conf.js",singleRun:!0}},jshint:{all:["Gruntfile.js","src/*.js","test/**/*.js"]},uglify:{options:{preserveComments:"some",report:"min"},dist:{files:[{expand:!0,cwd:"src/",src:["*.js"],dest:"dist/",ext:".min.js"}]}},clean:["dist"]}),require("load-grunt-tasks")(e),e.registerTask("test",["jshint","karma"]),e.registerTask("default",["jshint","karma","uglify:dist"]),e.registerTask("release","Release a new version, push it and publish it",function(s){return s||(s="patch"),e.task.run("bump-only:"+s,"default","bump-commit","shell:publish")})};