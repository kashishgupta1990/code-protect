/**
 * AngularUI - The companion suite for AngularJS
 * @version v0.4.0 - 2013-02-15
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,i){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,t,r){var a={};r.uiAnimate&&(a=e.$eval(r.uiAnimate),angular.isString(a)&&(a={"class":a})),a=angular.extend({"class":"ui-animate"},n,a),t.addClass(a["class"]),i(function(){t.removeClass(a["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,i){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(i,n,t,r){function a(){i.calendar=n.html("");var r=i.calendar.fullCalendar("getView");r&&(r=r.name);var a,o={defaultView:r,eventSources:u};a=t.uiCalendar?i.$eval(t.uiCalendar):{},angular.extend(o,e.uiCalendar,a),i.calendar.fullCalendar(o)}var u=i.$eval(t.ngModel),o=0,l=function(){var e=i.$eval(t.equalsTracker);return o=0,angular.forEach(u,function(e,i){angular.isArray(e)&&(o+=e.length)}),angular.isNumber(e)?o+u.length+e:o+u.length};a(),i.$watch(l,function(e,i){a()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,i){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(t,r,a,u){var o,l,c,s,d;if("textarea"!==r[0].type)throw new Error("uiCodemirror3 can only be applied to a textarea element");o=e.codemirror||{},l=angular.extend({},o,t.$eval(a.uiCodemirror)),c=function(e){return function(i,n){var r=i.getValue();r!==u.$viewValue&&(u.$setViewValue(r),t.$apply()),"function"==typeof e&&e(i,n)}},s=function(){d=CodeMirror.fromTextArea(r[0],l),d.on("change",c(l.onChange));for(var e,o=0,s=n.length;s>o;++o)e=l["on"+n[o].charAt(0).toUpperCase()+n[o].slice(1)],void 0!==e&&"function"==typeof e&&d.on(n[o],e);u.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),u.$render=function(){d.setValue(u.$viewValue)},a.uiRefresh&&t.$watch(a.uiRefresh,function(e,n){e!==n&&i(d.refresh)})},i(s)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,i){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,t,r,a){var u,o,l;u=angular.extend({},n,e.$eval(r.uiCurrency)),o=function(e){var n;return n=1*e,t.toggleClass(u.pos,n>0),t.toggleClass(u.neg,0>n),t.toggleClass(u.zero,0===n),""===e?t.text(""):t.text(i(n,u.symbol)),!0},a.$render=function(){l=a.$viewValue,t.val(l),o(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var i;return i={},angular.isObject(e.date)&&angular.extend(i,e.date),{require:"?ngModel",link:function(i,n,t,r){var a=function(){return angular.extend({},e.date,i.$eval(t.uiDate))},u=function(){var e=a();if(r){var t=function(){i.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),r.$setViewValue(e),n.blur()})};if(e.onSelect){var u=e.onSelect;e.onSelect=function(e,n){t(),i.$apply(function(){u(e,n)})}}else e.onSelect=t;n.bind("change",t),r.$render=function(){var e=r.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),r&&r.$render()};i.$watch(a,u,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var i={require:"ngModel",link:function(i,n,t,r){var a=t.uiDateFormat||e.dateFormat;a?(r.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(a,e):void 0}),r.$parsers.push(function(e){return e?$.datepicker.formatDate(a,e):void 0})):(r.$formatters.push(function(e){return angular.isString(e)?new Date(e):void 0}),r.$parsers.push(function(e){return e?e.toISOString():void 0}))}};return i}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(i,n,t){var r=i.$eval(t.uiEvent);angular.forEach(r,function(t,r){var a=e(t);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),i.$apply(function(){a(i,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,i,n){return function(e,i,t){var r,a;e.$watch(t.uiIf,function(t){r&&(r.remove(),r=void 0),a&&(a.$destroy(),a=void 0),t&&(a=e.$new(),n(a,function(e){r=e,i.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(e,i){return{restrict:"A",compile:function(n,t){if(!angular.isFunction(n[t.uiJq]))throw new Error('ui-jq: The "'+t.uiJq+'" function does not exist');var r=e.jq&&e.jq[t.uiJq];return function(e,n,t){function a(){i(function(){n[t.uiJq].apply(n,u)},0,!1)}var u=[];t.uiOptions?(u=e.$eval("["+t.uiOptions+"]"),angular.isObject(r)&&angular.isObject(u[0])&&(u[0]=angular.extend({},r,u[0]))):r&&(u=[r]),t.ngModel&&n.is("select,input,textarea")&&n.on("change",function(){n.trigger("input")}),t.uiRefresh&&e.$watch(t.uiRefresh,function(e){a()}),a()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(t,r,a,u){var o,l=[];o=r.$eval(u["ui"+n(t)]),angular.forEach(o,function(i,n){var t,r;r=e(i),angular.forEach(n.split(" "),function(e){t={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){t.keys[e]=!0}),l.push(t)})}),a.bind(t,function(e){var n=e.metaKey||e.altKey,a=e.ctrlKey,u=e.shiftKey,o=e.keyCode;"keypress"===t&&!u&&o>=97&&122>=o&&(o-=32),angular.forEach(l,function(t){var o=t.keys[i[e.keyCode]]||t.keys[e.keyCode.toString()]||!1,l=t.keys.alt||!1,c=t.keys.ctrl||!1,s=t.keys.shift||!1;o&&l==n&&c==a&&s==u&&r.$apply(function(){t.expression(r,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(i,n,t){e("keydown",i,n,t)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(i,n,t){e("keypress",i,n,t)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(i,n,t){e("keyup",i,n,t)}}}]),function(){function e(e,i,n,t){angular.forEach(i.split(" "),function(i){var r={type:"map-"+i};google.maps.event.addListener(n,i,function(i){t.triggerHandler(angular.extend({},r,i)),e.$$phase||e.$apply()})})}function i(i,t){n.directive(i,[function(){return{restrict:"A",link:function(n,r,a){n.$watch(a[i],function(i){e(n,t,i,r)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(i,n){var t="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",r=i.map||{};return{restrict:"A",link:function(i,a,u){var o=angular.extend({},r,i.$eval(u.uiOptions)),l=new google.maps.Map(a[0],o),c=n(u.uiMap);c.assign(i,l),e(i,t,l,a)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(i,n,t){var r="closeclick content_change domready position_changed zindex_changed",a=i.mapInfoWindow||{};return{link:function(i,u,o){var l=angular.extend({},a,i.$eval(o.uiOptions));l.content=u[0];var c=n(o.uiMapInfoWindow),s=c(i);s||(s=new google.maps.InfoWindow(l),c.assign(i,s)),e(i,r,s,u),u.replaceWith("<div></div>");var d=s.open;s.open=function(e,n,r,a,o,l){t(u.contents())(i),d.call(s,e,n,r,a,o,l)}}}}]),i("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),i("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),i("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,i,n,t){t.$render=function(){var r=t.$viewValue||"";i.val(r),i.mask(e.$eval(n.uiMask))},t.$parsers.push(function(e){var n=i.isMaskValid()||angular.isUndefined(i.isMaskValid())&&i.val().length>0;return t.$setValidity("mask",n),n?e:void 0}),i.bind("keyup",function(){e.$apply(function(){t.$setViewValue(i.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var i=null;return void 0!==e.reset&&(i=e.reset),{require:"ngModel",link:function(e,n,t,r){var a;a=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(a),a.bind("click",function(n){n.preventDefault(),e.$apply(function(){t.uiReset?r.$setViewValue(e.$eval(t.uiReset)):r.$setViewValue(i),r.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,i){return{restrict:"AC",compile:function(n,t){var r;if(t.uiRoute)r="uiRoute";else if(t.ngHref)r="ngHref";else{if(!t.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,t,a){function u(i){(hash=i.indexOf("#"))>-1&&(i=i.substr(hash+1)),(c=function(){l(n,e.path().indexOf(i)>-1)})()}function o(i){(hash=i.indexOf("#"))>-1&&(i=i.substr(hash+1)),(c=function(){var t=new RegExp("^"+i+"$",["i"]);l(n,t.test(e.path()))})()}var l=i(a.ngModel||a.routeModel||"$uiRoute").assign,c=angular.noop;switch(r){case"uiRoute":a.uiRoute?o(a.uiRoute):a.$observe("uiRoute",o);break;case"ngHref":a.ngHref?u(a.ngHref):a.$observe("ngHref",u);break;case"href":u(a.href)}n.$on("$routeChangeSuccess",function(){c()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(i,n,t){var r=n.offset().top;t.uiScrollfix?"-"===t.uiScrollfix.charAt(0)?t.uiScrollfix=r-t.uiScrollfix.substr(1):"+"===t.uiScrollfix.charAt(0)&&(t.uiScrollfix=r+parseFloat(t.uiScrollfix.substr(1))):t.uiScrollfix=r,angular.element(e).on("scroll.ui-scrollfix",function(){var i;if(angular.isDefined(e.pageYOffset))i=e.pageYOffset;else{var r=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;i=r.scrollTop}!n.hasClass("ui-scrollfix")&&i>t.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&i<t.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,i){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,t){var r,a,u,o=e.is("select"),l=void 0!==t.multiple;return e.is("select")&&(a=e.find("option[ng-repeat], option[data-ng-repeat]"),a.length&&(u=a.attr("ng-repeat")||a.attr("data-ng-repeat"),r=jQuery.trim(u.split("|")[0]).split(" ").pop())),function(e,t,a,u){var c=angular.extend({},n,e.$eval(a.uiSelect2));if(o?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),u&&(u.$render=function(){o?t.select2("val",u.$modelValue):l?u.$modelValue?angular.isArray(u.$modelValue)?t.select2("data",u.$modelValue):t.select2("val",u.$modelValue):t.select2("data",[]):angular.isObject(u.$modelValue)?t.select2("data",u.$modelValue):t.select2("val",u.$modelValue)},r&&e.$watch(r,function(e,n,r){e&&i(function(){t.select2("val",u.$viewValue),t.trigger("change")})}),!o&&(t.bind("change",function(){e.$apply(function(){u.$setViewValue(t.select2("data"))})}),c.initSelection))){var s=c.initSelection;c.initSelection=function(e,i){s(e,function(e){u.$setViewValue(e),i(e)})}}a.$observe("disabled",function(e){t.select2(e&&"disable"||"enable")}),a.ngMultiple&&e.$watch(a.ngMultiple,function(e){t.select2(c)}),t.val(e.$eval(a.ngModel)),i(function(){t.select2(c),!c.initSelection&&!o&&u.$setViewValue(t.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,i,n){e.$watch(n.uiShow,function(e,n){e?i.addClass("ui-show"):i.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,i,n){e.$watch(n.uiHide,function(e,n){e?i.addClass("ui-hide"):i.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,i,n){e.$watch(n.uiToggle,function(e,n){e?i.removeClass("ui-hide").addClass("ui-show"):i.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(i,n,t,r){var a,u,o,l,c,s,d,f,g;c=angular.extend({},e.sortable,i.$eval(t.uiSortable)),r&&(r.$render=function(){n.sortable("refresh")},o=function(e,i){i.item.sortable={index:i.item.index()}},l=function(e,i){i.item.sortable.resort=r},a=function(e,i){i.item.sortable.relocate=!0,r.$modelValue.splice(i.item.index(),0,i.item.sortable.moved)},u=function(e,i){1===r.$modelValue.length?i.item.sortable.moved=r.$modelValue.splice(0,1)[0]:i.item.sortable.moved=r.$modelValue.splice(i.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var t,r;r=n.item.sortable.index,t=n.item.index(),t>r&&t--,n.item.sortable.resort.$modelValue.splice(t,0,n.item.sortable.resort.$modelValue.splice(r,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&i.$apply()},f=c.start,c.start=function(e,i){o(e,i),"function"==typeof f&&f(e,i)},_stop=c.stop,c.stop=function(e,i){onStop(e,i),"function"==typeof _stop&&_stop(e,i)},g=c.update,c.update=function(e,i){l(e,i),"function"==typeof g&&g(e,i)},s=c.receive,c.receive=function(e,i){a(e,i),"function"==typeof s&&s(e,i)},d=c.remove,c.remove=function(e,i){u(e,i),"function"==typeof d&&d(e,i)}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(i,n,t,r){var a,u={onchange_callback:function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,t){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply())})}};a=t.uiTinymce?i.$eval(t.uiTinymce):{},angular.extend(u,e.tinymce,a),setTimeout(function(){n.tinymce(u)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,i,n,t){var r,a,u={},o=e.$eval(n.uiValidate);o&&(angular.isString(o)&&(o={validator:o}),angular.forEach(o,function(i,n){r=function(r){return e.$eval(i,{$value:r})?(t.$setValidity(n,!0),r):void t.$setValidity(n,!1)},u[n]=r,t.$formatters.push(r),t.$parsers.push(r)}),n.uiValidateWatch&&(a=e.$eval(n.uiValidateWatch),angular.isString(a)?e.$watch(a,function(){angular.forEach(u,function(e,i){e(t.$modelValue)})}):angular.forEach(a,function(i,n){e.$watch(i,function(){u[n](t.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(e,i){if(!e)return e;var n,t=e.toString();return void 0===i?t:angular.isArray(i)||angular.isObject(i)?(n=angular.isArray(i)&&"$"||":",angular.forEach(i,function(e,i){t=t.split(n+i).join(e)}),t):t.split("$0").join(i)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,i,n){return i||angular.isNumber(i)?(e=e.toString(),i=i.toString(),n?e.split(i).join('<span class="ui-match">'+i+"</span>"):e.replace(new RegExp(i,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function i(e,i){return e.replace(/[A-Z]/g,function(e){return i+e})}var n={humanize:function(n){return e(i(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+i(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(i){return i=i.substr(0,1).toLowerCase()+e(i.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,i,t){return i!==!1&&angular.isString(e)?(i=i||"humanize",n[i](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,i){if(i===!1)return e;if((i||angular.isUndefined(i))&&angular.isArray(e)){var n=[],t=function(e){return angular.isObject(e)&&angular.isString(i)?e[i]:e};angular.forEach(e,function(e){for(var i=!1,r=0;r<n.length;r++)if(angular.equals(t(n[r]),t(e))){i=!0;break}i||n.push(e)}),e=n}return e}});