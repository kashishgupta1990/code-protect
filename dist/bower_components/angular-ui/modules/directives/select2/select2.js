angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,t){var l={};return e.select2&&angular.extend(l,e.select2),{require:"?ngModel",compile:function(e,i){var n,a,c,u=e.is("select"),o=void 0!==i.multiple;return e.is("select")&&(a=e.find("option[ng-repeat], option[data-ng-repeat]"),a.length&&(c=a.attr("ng-repeat")||a.attr("data-ng-repeat"),n=jQuery.trim(c.split("|")[0]).split(" ").pop())),function(e,i,a,c){var r=angular.extend({},l,e.$eval(a.uiSelect2));if(u?(delete r.multiple,delete r.initSelection):o&&(r.multiple=!0),c&&(c.$render=function(){u?i.select2("val",c.$modelValue):o?c.$modelValue?angular.isArray(c.$modelValue)?i.select2("data",c.$modelValue):i.select2("val",c.$modelValue):i.select2("data",[]):angular.isObject(c.$modelValue)?i.select2("data",c.$modelValue):i.select2("val",c.$modelValue)},n&&e.$watch(n,function(e,l,n){e&&t(function(){i.select2("val",c.$viewValue),i.trigger("change")})}),!u&&(i.bind("change",function(){e.$apply(function(){c.$setViewValue(i.select2("data"))})}),r.initSelection))){var d=r.initSelection;r.initSelection=function(e,t){d(e,function(e){c.$setViewValue(e),t(e)})}}a.$observe("disabled",function(e){i.select2(e&&"disable"||"enable")}),a.ngMultiple&&e.$watch(a.ngMultiple,function(e){i.select2(r)}),i.val(e.$eval(a.ngModel)),t(function(){i.select2(r),r.initSelection||u||c.$setViewValue(i.select2("data"))})}}}}]);