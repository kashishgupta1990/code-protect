xdescribe("uiMap",function(){function e(e,n){t.gmapOptions=e||{},t.gmapEvents=n||{},i("<div ui-map='gmap' ui-options='gmapOptions'' ui-event='gmapEvents'></div>")(t)}function n(e,n,o){t.gOptions=e||{},t.gEvents=n||{},o=o||angular.element("");var c=angular.element("<div ui-map-info-window='ginfo' ui-options='gOptions' ui-event='gEvents'></div>");c.append(o),i(c)(t)}var t,o,i;beforeEach(module("ui.directives")),beforeEach(inject(function(e,n){o=n,i=e})),describe("test",function(){beforeEach(function(){t=o.$new()}),it("should bind google map object to scope",function(){e(),expect(t.gmap).toBeTruthy()}),it("should create google map with given options",function(){var n=new google.maps.LatLng(40,40);e({center:n}),expect(t.gmap.getCenter()).toBe(n)}),it('should pass events to the element as "map-eventname"',function(){t.zoomy=!1,t.county=0,e({},{"map-zoom_changed":"zoomy = true","map-dblclick map-dragend":"county = county + 1"}),google.maps.event.trigger(t.gmap,"zoom_changed"),expect(t.zoomy).toBeTruthy(),google.maps.event.trigger(t.gmap,"dblclick"),expect(t.county).toBe(1),google.maps.event.trigger(t.gmap,"dragend"),expect(t.county).toBe(2)})}),describe("test infoWindow",function(){beforeEach(function(){t=o.$new()}),it("should bind info window to scope",function(){n(),expect(t.ginfo).toBeTruthy()}),it("should create info window with given options & content",function(){var e=$("<h1>Hi</h1>");n({zIndex:5},{},e),expect(t.ginfo.getZIndex()).toBe(5),expect(t.ginfo.getContent().innerHTML).toBe($("<div>").append(e).html())}),it("should $compile content and recognize scope changes",function(){var o=$('<input ng-model="myVal">');n({},{},o),e(),t.$apply(function(){t.myVal="initial"}),t.ginfo.open(t.gmap,t.gmap.getCenter()),expect(o.val()).toBe("initial"),t.$apply(function(){t.myVal="final"}),expect(o.val()).toBe("final")}),it('should recognize infowindow events in ui-event as "map-eventname"',function(){n({},{"map-closeclick":"closed = true"}),e(),google.maps.event.trigger(t.ginfo,"closeclick"),expect(t.closed).toBe(!0)})})});