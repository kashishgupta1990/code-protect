function ngGridCsvExportPlugin(e){var n=this;n.grid=null,n.scope=null,n.services=null,e=e||{},e.containerPanel=e.containerPanel||".ngFooterPanel",e.linkClass=e.linkCss||"csv-data-link-span",e.linkLabel=e.linkLabel||"CSV Export",e.fileName=e.fileName||"Export.csv",n.init=function(r,a,i){function l(){function r(e){return null==e?"":"number"==typeof e?""+e:"boolean"==typeof e?e?"TRUE":"FALSE":"string"==typeof e?e.replace(/"/g,'""'):JSON.stringify(e).replace(/"/g,'""')}function i(e){var n=e.substr(0,e.length-1);return n+"\n"}var l=[],o="";for(var s in a.config.columnDefs)a.config.columnDefs.hasOwnProperty(s)&&(l.push(a.config.columnDefs[s].field),o+='"',o+=r("undefined"!=typeof a.config.columnDefs[s].displayName?a.config.columnDefs[s].displayName:a.config.columnDefs[s].field),o+='",');o=i(o);var t=a.data;for(var c in t){var f="";for(var u in l){var v;v=null!=e&&null!=e.columnOverrides&&null!=e.columnOverrides[l[u]]?e.columnOverrides[l[u]](n.services.UtilityService.evalProperty(t[c],l[u])):n.services.UtilityService.evalProperty(t[c],l[u]),f+='"'+r(v)+'",'}o+=i(f)}var d=a.$root.find(e.containerPanel),p=a.$root.find(e.containerPanel+" ."+e.linkClass);null!=p&&p.remove();var m='<span class="'+e.linkClass+'">';m+='<br><a href="data:text/csv;charset=UTF-8,',m+=encodeURIComponent(o),m+='" download="'+e.fileName+'">'+e.linkLabel+"</a></br></span>",d.append(m)}n.grid=a,n.scope=r,n.services=i,setTimeout(l,0),r.catHashKeys=function(){var e="";for(var n in r.renderedRows)e+=r.renderedRows[n].$$hashKey;return e},e&&e.customDataWatcher?r.$watch(e.customDataWatcher,l):r.$watch(r.catHashKeys,l)}}